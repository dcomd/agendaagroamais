{"ast":null,"code":"/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _useProperty5 = _interopRequireDefault(require(\"./useProperty\"));\nvar _react = require(\"react\");\nvar _clamp = _interopRequireDefault(require(\"../utils/clamp\"));\nvar _usePrevious = _interopRequireDefault(require(\"./usePrevious\"));\nvar _throttle = _interopRequireDefault(require(\"@inovua/reactdatagrid-community/packages/throttle\"));\nvar _getGlobal = require(\"../getGlobal\");\nvar globalObject = (0, _getGlobal.getGlobal)();\nvar useActiveIndex = function useActiveIndex(props, computedProps, computedPropsRef) {\n  var _useProperty = (0, _useProperty5.default)(props, 'activeIndex', -1),\n    _useProperty2 = (0, _slicedToArray2.default)(_useProperty, 2),\n    computedActiveIndex = _useProperty2[0],\n    doSetActiveIndex = _useProperty2[1];\n  var _useProperty3 = (0, _useProperty5.default)(props, 'lastActiveIndex', null),\n    _useProperty4 = (0, _slicedToArray2.default)(_useProperty3, 2),\n    computedLastActiveIndex = _useProperty4[0],\n    doSetLastActiveIndex = _useProperty4[1];\n  if (!props.enableKeyboardNavigation) {\n    computedActiveIndex = -1;\n  }\n  var setActiveIndex = (0, _react.useCallback)(function (activeIndex) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps || !computedProps.computedHasRowNavigation || globalObject.isNaN(activeIndex)) {\n      return;\n    }\n    var data = computedProps.data;\n    if (activeIndex >= 0) {\n      activeIndex = (0, _clamp.default)(activeIndex, 0, data.length - 1);\n    } else {\n      activeIndex = -1;\n    }\n    if (activeIndex === computedProps.computedActiveIndex) {\n      return;\n    }\n    doSetActiveIndex(activeIndex);\n  }, []);\n  var incrementActiveIndex = (0, _react.useCallback)(function (inc) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    var computedActiveIndex = computedProps.computedActiveIndex;\n    if (computedProps.activeIndexThrottle) {\n      (0, _throttle.default)(function () {\n        return setActiveIndex(computedActiveIndex + inc);\n      }, computedProps.activeIndexThrottle, {\n        trailing: true,\n        leading: false\n      });\n    } else {\n      setActiveIndex(computedActiveIndex + inc);\n    }\n  }, []);\n  var getActiveItem = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n    return computedProps ? computedProps.data[computedProps.computedActiveIndex] : null;\n  }, []);\n  var getFirstVisibleIndex = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return -1;\n    }\n    var scrollTop = computedProps.getScrollTop();\n    var rowHeight = props.rowHeight;\n    return Math.ceil(scrollTop / rowHeight);\n  }, [props.rowHeight]);\n  var oldActiveIndex = (0, _usePrevious.default)(computedActiveIndex, -1);\n  (0, _react.useEffect)(function () {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    if (!computedProps.computedFocused) {\n      return;\n    }\n    if (oldActiveIndex !== computedActiveIndex) {\n      var top = computedActiveIndex < oldActiveIndex;\n      computedProps.scrollToIndexIfNeeded(computedActiveIndex, {\n        top: top\n      });\n    }\n  }, [computedActiveIndex, oldActiveIndex]);\n  computedProps.activeRowRef = (0, _react.useRef)(null);\n  return {\n    computedActiveIndex: computedActiveIndex,\n    setActiveIndex: setActiveIndex,\n    incrementActiveIndex: incrementActiveIndex,\n    getActiveItem: getActiveItem,\n    getFirstVisibleIndex: getFirstVisibleIndex,\n    computedLastActiveIndex: computedLastActiveIndex,\n    doSetLastActiveIndex: doSetLastActiveIndex\n  };\n};\nvar _default = useActiveIndex;\nexports.default = _default;","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_slicedToArray2","_useProperty5","_react","_clamp","_usePrevious","_throttle","_getGlobal","globalObject","getGlobal","useActiveIndex","props","computedProps","computedPropsRef","_useProperty","_useProperty2","computedActiveIndex","doSetActiveIndex","_useProperty3","_useProperty4","computedLastActiveIndex","doSetLastActiveIndex","enableKeyboardNavigation","setActiveIndex","useCallback","activeIndex","current","computedHasRowNavigation","isNaN","data","length","incrementActiveIndex","inc","activeIndexThrottle","trailing","leading","getActiveItem","getFirstVisibleIndex","scrollTop","getScrollTop","rowHeight","Math","ceil","oldActiveIndex","useEffect","computedFocused","top","scrollToIndexIfNeeded","activeRowRef","useRef","_default"],"sources":["/Users/alexandre.nepomuceno/Documents/agendaagroamais/node_modules/@inovua/reactdatagrid-community/hooks/useActiveIndex.js"],"sourcesContent":["/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _useProperty5 = _interopRequireDefault(require(\"./useProperty\"));\nvar _react = require(\"react\");\nvar _clamp = _interopRequireDefault(require(\"../utils/clamp\"));\nvar _usePrevious = _interopRequireDefault(require(\"./usePrevious\"));\nvar _throttle = _interopRequireDefault(require(\"@inovua/reactdatagrid-community/packages/throttle\"));\nvar _getGlobal = require(\"../getGlobal\");\nvar globalObject = (0, _getGlobal.getGlobal)();\nvar useActiveIndex = function useActiveIndex(props, computedProps, computedPropsRef) {\n  var _useProperty = (0, _useProperty5.default)(props, 'activeIndex', -1),\n    _useProperty2 = (0, _slicedToArray2.default)(_useProperty, 2),\n    computedActiveIndex = _useProperty2[0],\n    doSetActiveIndex = _useProperty2[1];\n  var _useProperty3 = (0, _useProperty5.default)(props, 'lastActiveIndex', null),\n    _useProperty4 = (0, _slicedToArray2.default)(_useProperty3, 2),\n    computedLastActiveIndex = _useProperty4[0],\n    doSetLastActiveIndex = _useProperty4[1];\n  if (!props.enableKeyboardNavigation) {\n    computedActiveIndex = -1;\n  }\n  var setActiveIndex = (0, _react.useCallback)(function (activeIndex) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps || !computedProps.computedHasRowNavigation || globalObject.isNaN(activeIndex)) {\n      return;\n    }\n    var data = computedProps.data;\n    if (activeIndex >= 0) {\n      activeIndex = (0, _clamp.default)(activeIndex, 0, data.length - 1);\n    } else {\n      activeIndex = -1;\n    }\n    if (activeIndex === computedProps.computedActiveIndex) {\n      return;\n    }\n    doSetActiveIndex(activeIndex);\n  }, []);\n  var incrementActiveIndex = (0, _react.useCallback)(function (inc) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    var computedActiveIndex = computedProps.computedActiveIndex;\n    if (computedProps.activeIndexThrottle) {\n      (0, _throttle.default)(function () {\n        return setActiveIndex(computedActiveIndex + inc);\n      }, computedProps.activeIndexThrottle, {\n        trailing: true,\n        leading: false\n      });\n    } else {\n      setActiveIndex(computedActiveIndex + inc);\n    }\n  }, []);\n  var getActiveItem = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n    return computedProps ? computedProps.data[computedProps.computedActiveIndex] : null;\n  }, []);\n  var getFirstVisibleIndex = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return -1;\n    }\n    var scrollTop = computedProps.getScrollTop();\n    var rowHeight = props.rowHeight;\n    return Math.ceil(scrollTop / rowHeight);\n  }, [props.rowHeight]);\n  var oldActiveIndex = (0, _usePrevious.default)(computedActiveIndex, -1);\n  (0, _react.useEffect)(function () {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    if (!computedProps.computedFocused) {\n      return;\n    }\n    if (oldActiveIndex !== computedActiveIndex) {\n      var top = computedActiveIndex < oldActiveIndex;\n      computedProps.scrollToIndexIfNeeded(computedActiveIndex, {\n        top: top\n      });\n    }\n  }, [computedActiveIndex, oldActiveIndex]);\n  computedProps.activeRowRef = (0, _react.useRef)(null);\n  return {\n    computedActiveIndex: computedActiveIndex,\n    setActiveIndex: setActiveIndex,\n    incrementActiveIndex: incrementActiveIndex,\n    getActiveItem: getActiveItem,\n    getFirstVisibleIndex: getFirstVisibleIndex,\n    computedLastActiveIndex: computedLastActiveIndex,\n    doSetLastActiveIndex: doSetLastActiveIndex\n  };\n};\nvar _default = useActiveIndex;\nexports.default = _default;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}