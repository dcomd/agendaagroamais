{"ast":null,"code":"/** \n * Copyright Â© INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _reactCleanProps = _interopRequireDefault(require(\"../../../packages/react-clean-props\"));\nvar _shallowequal = _interopRequireWildcard(require(\"../../../packages/shallowequal\"));\nvar _join = _interopRequireDefault(require(\"../../../packages/join\"));\nvar _clamp = _interopRequireDefault(require(\"../../../utils/clamp\"));\nvar _Cell = _interopRequireDefault(require(\"../Cell\"));\nvar _renderCellsMaybeLocked = _interopRequireDefault(require(\"./renderCellsMaybeLocked\"));\nvar _adjustCellProps = _interopRequireDefault(require(\"./adjustCellProps\"));\nvar _usePrevious = _interopRequireDefault(require(\"../../../hooks/usePrevious\"));\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar CLASS_NAME = 'InovuaReactDataGrid__row';\nvar skipSelect = function skipSelect(event) {\n  event.nativeEvent.skipSelect = true;\n};\nvar getValueForPivotColumn = function getValueForPivotColumn(item, path) {\n  return path.reduce(function (acc, field, index) {\n    if (!acc || acc[field] == null) {\n      return null;\n    }\n    if (index === path.length - 1) {\n      return acc[field];\n    }\n    return acc[field].pivotSummary || acc[field].values;\n  }, item);\n};\nvar getValueForPivotColumnSummary = function getValueForPivotColumnSummary(item, _ref) {\n  var path = _ref.pivotSummaryPath;\n  var i = 0;\n  var root = item;\n  var current;\n  while ((current = path[i]) && root) {\n    if (!root.pivotSummary) {\n      return null;\n    }\n    root = root.pivotSummary[current.value];\n    i++;\n  }\n  if (root && root.pivotColumnSummary) {\n    return root.pivotColumnSummary[path[path.length - 1].field];\n  }\n  return null;\n};\nvar DataGridRow = _react.default.forwardRef(function (props, ref) {\n  var cells = (0, _react.useRef)([]);\n  var cellRef = (0, _react.useCallback)(function (c) {\n    if (!c) {\n      return;\n    }\n    cells.current.push(c);\n  }, []);\n  var domRef = (0, _react.useRef)(null);\n  var columnRenderStartIndex = (0, _react.useRef)(0);\n  var hasBorderTop = (0, _react.useRef)(false);\n  var hasBorderBottom = (0, _react.useRef)(false);\n  var maxRowspan = (0, _react.useRef)(1);\n  var scrollingInProgress = (0, _react.useRef)(false);\n  var scrollingDirection = (0, _react.useRef)('vertical');\n  var cleanupCells = (0, _react.useCallback)(function () {\n    cells.current = cells.current.filter(Boolean);\n    return cells.current;\n  }, []);\n  var getCells = (0, _react.useCallback)(function () {\n    return cells.current;\n  }, []);\n  var prevColumnRenderCount = (0, _usePrevious.default)(props.columnRenderCount, props.columnRenderCount);\n  if (props.columnRenderCount < prevColumnRenderCount) {\n    cleanupCells();\n  }\n  var getDOMNode = (0, _react.useCallback)(function () {\n    return domRef.current;\n  }, []);\n  var setActiveRowRef = function setActiveRowRef() {\n    props.activeRowRef.current = {\n      instance: {\n        hasBorderBottom: hasBorderBottom.current,\n        hasBorderTop: hasBorderTop.current,\n        props: props\n      },\n      node: getDOMNode()\n    };\n  };\n  if (props.active) {\n    setActiveRowRef();\n  }\n  (0, _react.useEffect)(function () {\n    if (props.columnRenderStartIndex) {\n      setColumnRenderStartIndex(props.columnRenderStartIndex);\n    }\n    return function () {\n      cells.current = [];\n    };\n  }, []);\n  var prevRowIndex = (0, _usePrevious.default)(props.rowIndex, props.rowIndex);\n  var prevEditing = (0, _usePrevious.default)(props.editing, props.editing);\n  var prevActive = (0, _usePrevious.default)(props.active, props.active);\n  (0, _react.useEffect)(function () {\n    if (props.groupProps && props.rowIndex !== prevRowIndex) {\n      fixForColspan();\n    }\n    if (props.editing !== prevEditing) {\n      updateEditCell();\n    }\n    if (!prevActive && props.active) {\n      setActiveRowRef();\n    }\n  });\n  var onCellUnmount = (0, _react.useCallback)(function (_cellProps, cell) {\n    if (cells.current) {\n      cells.current = cells.current.filter(function (c) {\n        return c !== cell;\n      });\n    }\n  }, []);\n  var orderCells = (0, _react.useCallback)(function () {\n    var cells = cleanupCells();\n    var sortedProps = cells.map(function (c) {\n      return c.getProps();\n    }).sort(function (p1, p2) {\n      return p1.index - p2.index;\n    });\n    cells.sort(function (cell1, cell2) {\n      return cell1.props.renderIndex - cell2.props.renderIndex;\n    });\n    cells.forEach(function (c, i) {\n      c.setStateProps(sortedProps[i]);\n    });\n  }, [cleanupCells]);\n  var updateEditCell = (0, _react.useCallback)(function () {\n    var cells = getCells();\n    var editColumnIndex = props.editColumnIndex;\n    for (var i = 0, len = cells.length, cell; i < len; i++) {\n      cell = cells[i];\n      if (getCellIndex(cell) === editColumnIndex) {\n        setCellIndex(cell, editColumnIndex);\n      }\n      if (cell.getProps().inEdit) {\n        setCellIndex(cell, getCellIndex(cell));\n      }\n    }\n  }, [props.editColumnIndex]);\n  var fixForColspan = (0, _react.useCallback)(function () {\n    if (props.computedHasColSpan) {\n      setColumnRenderStartIndex(columnRenderStartIndex.current);\n    }\n  }, [props.computedHasColSpan]);\n  var setScrolling = (0, _react.useCallback)(function (scrolling) {\n    var node = getDOMNode() || domRef.current;\n    var scrollingDir = scrollingDirection.current;\n    if (scrolling !== false) {\n      scrollingDirection.current = scrolling;\n    }\n    var oldScrollingInProgress = scrollingInProgress.current;\n    scrollingDirection.current = scrollingDir;\n    scrollingInProgress.current = scrolling ? true : false;\n    if (!node) {\n      return;\n    }\n    if (oldScrollingInProgress !== scrollingInProgress.current) {\n      var _className = \"\".concat(CLASS_NAME, \"--scrolling\");\n      if (scrollingInProgress.current) {\n        node.classList.add(_className);\n      } else {\n        node.classList.remove(_className);\n      }\n    }\n    return;\n  }, []);\n  var renderRowDetails = (0, _react.useCallback)(function (rowDetailsInfo) {\n    if (props.computedRenderRowDetails) {\n      return props.computedRenderRowDetails(rowDetailsInfo);\n    }\n    return 'Please specify `renderRowDetails`';\n  }, []);\n  var onContextMenu = (0, _react.useCallback)(function (event) {\n    var passedProps = props.passedProps,\n      onRowContextMenu = props.onRowContextMenu;\n    if (onRowContextMenu) {\n      onRowContextMenu(props, event);\n    }\n    if (passedProps && passedProps.onContextMenu) {\n      passedProps.onContextMenu(event, props);\n    }\n  }, [props.passedProps, props.passedProps.onContextMenu, props.onRowContextMenu]);\n  var setCellIndex = (0, _react.useCallback)(function (cell, index, cellProps) {\n    cellProps = cellProps || (props.computedHasColSpan ? getPropsForCells().slice(index, index + 1)[0] : getPropsForCells(index, index)[0]);\n    cell.setStateProps(cellProps);\n  }, [props.computedHasColSpan]);\n  var getCellIndex = (0, _react.useCallback)(function (cell) {\n    return cell.getProps().computedVisibleIndex;\n  }, []);\n  var sortCells = (0, _react.useCallback)(function (cells) {\n    return cells.sort(function (cell1, cell2) {\n      return getCellIndex(cell1) - getCellIndex(cell2);\n    });\n  }, []);\n  var getCellAt = (0, _react.useCallback)(function (index) {\n    return getCells().filter(function (c) {\n      return c.getProps().computedVisibleIndex === index;\n    })[0];\n  }, []);\n  var getCellById = (0, _react.useCallback)(function (id) {\n    return getCells().filter(function (c) {\n      return c.getProps().id === id;\n    })[0];\n  }, []);\n  var getSortedCells = (0, _react.useCallback)(function () {\n    return sortCells(getCells().slice());\n  }, []);\n  var getGaps = (0, _react.useCallback)(function (startIndex, endIndex) {\n    var visibleCellPositions = {};\n    var sortedCells = getSortedCells();\n    sortedCells.forEach(function (cell) {\n      var cellProps = cell.getProps();\n      if (cellProps.computedLocked) {\n        return;\n      }\n      var computedVisibleIndex = cellProps.computedVisibleIndex,\n        computedColspan = cellProps.computedColspan,\n        groupProps = cellProps.groupProps;\n      if (groupProps && computedVisibleIndex <= groupProps.depth + 1) {\n        return;\n      }\n      visibleCellPositions[computedVisibleIndex] = true;\n      if (computedColspan) {\n        for (var i = 0; i < computedColspan; i++) {\n          visibleCellPositions[computedVisibleIndex + i] = true;\n        }\n      }\n    });\n    var gaps = [];\n    for (; startIndex <= endIndex; startIndex++) {\n      if (!visibleCellPositions[startIndex]) {\n        gaps.push(startIndex);\n      }\n    }\n    return gaps;\n  }, []);\n  var getVirtualizeColumns = (0, _react.useCallback)(function () {\n    return props.virtualizeColumns;\n    return scrollingDirection.current !== 'horizontal' ? props.virtualizeColumns : false;\n  }, [props.virtualizeColumns]);\n  var toggleRowExpand = (0, _react.useCallback)(function (rowIndex) {\n    if (typeof rowIndex !== 'number') {\n      rowIndex = props.realIndex;\n    }\n    props.toggleRowExpand(rowIndex);\n  }, [props.realIndex, props.toggleRowExpand]);\n  var toggleNodeExpand = (0, _react.useCallback)(function (rowIndex) {\n    if (typeof rowIndex !== 'number') {\n      rowIndex = props.realIndex;\n    }\n    props.toggleNodeExpand(rowIndex);\n  }, [props.realIndex, props.toggleNodeExpand]);\n  var loadNodeAsync = (0, _react.useCallback)(function () {\n    var _props$loadNodeAsync;\n    (_props$loadNodeAsync = props.loadNodeAsync) === null || _props$loadNodeAsync === void 0 ? void 0 : _props$loadNodeAsync.call(props, props.data);\n  }, [props.loadNodeAsync, props.data]);\n  var isRowExpandable = (0, _react.useCallback)(function (rowIndex) {\n    if (typeof rowIndex !== 'number') {\n      rowIndex = props.realIndex;\n    }\n    return props.isRowExpandableAt(rowIndex);\n  }, [props.realIndex, props.isRowExpandableAt]);\n  var setRowExpanded = (0, _react.useCallback)(function (expanded, _) {\n    var rowIndex = props.realIndex;\n    var _expanded = expanded;\n    if (typeof expanded === 'number') {\n      rowIndex = expanded;\n      _expanded = _;\n    }\n    props.setRowExpanded(rowIndex, _expanded);\n  }, [props.realIndex, props.setRowExpanded]);\n  var getCurrentGaps = function getCurrentGaps() {};\n  var setColumnRenderStartIndex = (0, _react.useCallback)(function (columnStartIndex) {\n    if (columnRenderStartIndex.current === columnStartIndex) {\n      return;\n    }\n    columnRenderStartIndex.current = columnStartIndex;\n    if (getVirtualizeColumns() === false) {\n      return;\n    }\n    var newCellProps;\n    var renderRange;\n    var cellPropsAt;\n    if (props.computedHasColSpan) {\n      newCellProps = getPropsForCells();\n      renderRange = getColumnRenderRange(newCellProps);\n      cellPropsAt = function cellPropsAt(index) {\n        return newCellProps[index];\n      };\n    } else {\n      var _renderRange, _renderRange2;\n      renderRange = getColumnRenderRange();\n      newCellProps = getPropsForCells((_renderRange = renderRange) === null || _renderRange === void 0 ? void 0 : _renderRange.start, (((_renderRange2 = renderRange) === null || _renderRange2 === void 0 ? void 0 : _renderRange2.end) || 0) + 1);\n      cellPropsAt = function cellPropsAt(index) {\n        return newCellProps.filter(function (cellProps) {\n          return cellProps.computedVisibleIndex === index;\n        })[0];\n      };\n    }\n    if (!renderRange) {\n      return;\n    }\n    var _renderRange3 = renderRange,\n      start = _renderRange3.start,\n      end = _renderRange3.end;\n    var gaps = getGaps(start, end);\n    if (!gaps.length) {\n      return;\n    }\n    var gapsMap = gaps.reduce(function (acc, gapIndex) {\n      acc[gapIndex] = true;\n      return acc;\n    }, {});\n    var tempCellMap = {};\n    var calls = [];\n    getCells().forEach(function (cell) {\n      var cellProps = cell.getProps();\n      var groupProps = cellProps.groupProps,\n        cellIndex = cellProps.computedVisibleIndex,\n        computedColspan = cellProps.computedColspan,\n        computedLocked = cellProps.computedLocked;\n      if (computedLocked) {\n        return;\n      }\n      if (!props.groupColumn && groupProps && cellIndex <= groupProps.depth + 1) {\n        return;\n      }\n      var outside = cellIndex < start || cellIndex > end || cellIndex === undefined;\n      if (outside && computedColspan) {\n        var endCellIndex = cellIndex + (computedColspan - 1);\n        outside = cellIndex < start && endCellIndex < start || cellIndex > end;\n      }\n      var outOfView = outside || tempCellMap[cellIndex] || gapsMap[cellIndex];\n      tempCellMap[cellIndex] = true;\n      var newIndex;\n      if (outOfView && gaps.length) {\n        newIndex = gaps[gaps.length - 1];\n        calls.push([cell, newIndex]);\n        gaps.length -= 1;\n      }\n    });\n    calls.forEach(function (call) {\n      var cell = call[0];\n      var newIndex = call[1];\n      setCellIndex(cell, newIndex, cellPropsAt(newIndex));\n    });\n  }, [props.columnRenderStartIndex, props.computedHasColSpan, props.columnRenderCount, props.virtualizeColumns]);\n  var propsRef = (0, _react.useRef)(props);\n  propsRef.current = props;\n  var lastDataSource = (0, _usePrevious.default)(propsRef.current.dataSourceArray, propsRef.current.dataSourceArray);\n  var lastColumns = (0, _usePrevious.default)(propsRef.current.columns, propsRef.current.columns);\n  var getPropsForCells = function getPropsForCells(startIndex, endIndex) {\n    var _columns$filter$;\n    var props = propsRef.current;\n    var initialColumns = props.columns;\n    var columns = initialColumns;\n    var hasLockedStart = props.hasLockedStart,\n      data = props.data,\n      onGroupToggle = props.onGroupToggle,\n      computedPivot = props.computedPivot,\n      rowHeight = props.rowHeight,\n      remoteRowIndex = props.remoteRowIndex,\n      initialRowHeight = props.initialRowHeight,\n      lastLockedStartIndex = props.lastLockedStartIndex,\n      lastLockedEndIndex = props.lastLockedEndIndex,\n      lastUnlockedIndex = props.lastUnlockedIndex,\n      minRowHeight = props.minRowHeight,\n      realIndex = props.realIndex,\n      showHorizontalCellBorders = props.showHorizontalCellBorders,\n      showVerticalCellBorders = props.showVerticalCellBorders,\n      empty = props.empty,\n      treeColumn = props.treeColumn,\n      groupColumn = props.groupColumn,\n      totalDataCount = props.totalDataCount,\n      depth = props.depth,\n      dataSourceArray = props.dataSourceArray,\n      computedGroupBy = props.computedGroupBy,\n      groupProps = props.groupProps,\n      summaryProps = props.summaryProps,\n      indexInGroup = props.indexInGroup,\n      firstUnlockedIndex = props.firstUnlockedIndex,\n      firstLockedEndIndex = props.firstLockedEndIndex,\n      selectAll = props.selectAll,\n      deselectAll = props.deselectAll,\n      columnUserSelect = props.columnUserSelect,\n      multiSelect = props.multiSelect,\n      selection = props.selection,\n      setRowSelected = props.setRowSelected,\n      computedRowExpandEnabled = props.computedRowExpandEnabled,\n      rtl = props.rtl,\n      lastRow = props.last,\n      computedCellSelection = props.computedCellSelection,\n      lastNonEmpty = props.lastNonEmpty,\n      maxVisibleRows = props.maxVisibleRows,\n      onCellClick = props.onCellClick,\n      editStartEvent = props.editStartEvent,\n      naturalRowHeight = props.naturalRowHeight,\n      renderNodeTool = props.renderNodeTool,\n      computedTreeEnabled = props.computedTreeEnabled,\n      rowExpanded = props.expanded,\n      expandGroupTitle = props.expandGroupTitle,\n      expandColumnFn = props.expandColumn,\n      onCellSelectionDraggerMouseDown = props.onCellSelectionDraggerMouseDown,\n      onCellMouseDown = props.onCellMouseDown,\n      onCellEnter = props.onCellEnter,\n      computedCellMultiSelectionEnabled = props.computedCellMultiSelectionEnabled,\n      getCellSelectionKey = props.getCellSelectionKey,\n      lastCellInRange = props.lastCellInRange,\n      computedRowspans = props.computedRowspans,\n      renderIndex = props.renderIndex,\n      nativeScroll = props.nativeScroll,\n      onDragRowMouseDown = props.onDragRowMouseDown,\n      theme = props.theme,\n      onContextMenu = props.onContextMenu,\n      setActiveIndex = props.setActiveIndex,\n      renderTreeCollapseTool = props.renderTreeCollapseTool,\n      renderTreeExpandTool = props.renderTreeExpandTool,\n      renderGroupCollapseTool = props.renderGroupCollapseTool,\n      renderGroupExpandTool = props.renderGroupExpandTool,\n      renderTreeLoadingTool = props.renderTreeLoadingTool,\n      onColumnMouseEnter = props.onColumnMouseEnter,\n      onColumnMouseLeave = props.onColumnMouseLeave,\n      columnIndexHovered = props.columnIndexHovered,\n      computedEnableColumnHover = props.computedEnableColumnHover,\n      columnHoverClassName = props.columnHoverClassName,\n      enableColumnAutosize = props.enableColumnAutosize,\n      renderRowDetailsExpandIcon = props.renderRowDetailsExpandIcon,\n      renderRowDetailsCollapsedIcon = props.renderRowDetailsCollapsedIcon,\n      disabledRow = props.disabledRow,\n      onCellDoubleClick = props.onCellDoubleClick,\n      onCellBulkUpdateMouseDown = props.onCellBulkUpdateMouseDown,\n      onCellBulkUpdateMouseUp = props.onCellBulkUpdateMouseUp,\n      bulkUpdateMouseDown = props.bulkUpdateMouseDown;\n    var dataSourceChange = !(0, _shallowequal.default)(lastDataSource, props.dataSourceArray);\n    var columnsChange = !(0, _shallowequal.default)(lastColumns, props.columns);\n    var expandColumnId = expandColumnFn ? expandColumnFn({\n      data: data\n    }) : undefined;\n    var virtualizeColumns = getVirtualizeColumns();\n    var visibleColumnCount = columns.length;\n    var expandColumnIndex = expandColumnId ? (_columns$filter$ = columns.filter(function (c) {\n      return c.id === expandColumnId;\n    })[0]) === null || _columns$filter$ === void 0 ? void 0 : _columns$filter$.computedVisibleIndex : undefined;\n    if (startIndex !== undefined) {\n      columns = columns.slice(startIndex, endIndex ? endIndex + 1 : startIndex + 1);\n    }\n    startIndex = startIndex || 0;\n    var hasBorderTopVar = false;\n    var hasBorderBottomVar = false;\n    var hiddenCells = {};\n    var belongsToColspan = {};\n    var columnsTillColspanStart = {};\n    var lastInGroup = indexInGroup == props.groupCount - 1;\n    var activeCell = props.computedActiveCell && getCellSelectionKey ? getCellSelectionKey.apply(void 0, (0, _toConsumableArray2.default)(props.computedActiveCell)) : null;\n    var lastInRange = lastCellInRange || activeCell || null;\n    var maxRowspanVar = 1;\n    var cellPropsArray = columns.map(function (column, idx) {\n      var theColumnIndex = idx + startIndex;\n      var columnProps = column;\n      var name = columnProps.name,\n        computedVisibleIndex = columnProps.computedVisibleIndex;\n      var value = data ? data[name] : null;\n      var rowIndex = realIndex;\n      if (groupProps && data && data.groupColumnSummary) {\n        value = data.groupColumnSummary[name];\n      }\n      if (groupProps && data && column.groupColumn) {\n        value = data.value;\n      }\n      if (columnProps.pivotColumnPath) {\n        value = data.pivotSummary ? getValueForPivotColumn(data.pivotSummary, columnProps.pivotColumnPath) : value;\n      }\n      if (columnProps.pivotGrandSummaryColumn) {} else {\n        if (columnProps.pivotSummaryPath) {\n          value = data.pivotSummary ? getValueForPivotColumnSummary(data, {\n            pivotSummaryPath: columnProps.pivotSummaryPath,\n            pivotGrandSummaryColumn: columnProps.pivotGrandSummaryColumn\n          }) : value;\n        }\n      }\n      var defaults = {};\n      if (columnUserSelect !== undefined) {\n        defaults.userSelect = columnUserSelect;\n      }\n      var groupTitleCell = !groupColumn && groupProps && groupProps.depth + 1 == computedVisibleIndex;\n      var groupExpandCell = !groupColumn && groupProps && groupProps.depth == computedVisibleIndex;\n      var hidden = groupProps ? expandGroupTitle && !groupColumn ? computedVisibleIndex > groupProps.depth + 1 : false : false;\n      if (expandColumnIndex != null && computedVisibleIndex > expandColumnIndex) {\n        hidden = true;\n      }\n      var cellProps = _objectSpread(_objectSpread(_objectSpread({}, defaults), columnProps), {}, {\n        remoteRowIndex: remoteRowIndex,\n        indexInColumns: theColumnIndex,\n        depth: depth,\n        expandColumnIndex: expandColumnIndex,\n        expandColumn: expandColumnIndex === computedVisibleIndex,\n        editStartEvent: editStartEvent,\n        onCellClick: onCellClick,\n        computedRowspan: computedRowspans ? computedRowspans[column.id] : 1,\n        groupNestingSize: props.groupNestingSize,\n        treeNestingSize: props.treeNestingSize,\n        data: data,\n        naturalRowHeight: naturalRowHeight,\n        totalDataCount: totalDataCount,\n        onCellSelectionDraggerMouseDown: onCellSelectionDraggerMouseDown,\n        onCellMouseDown: onCellMouseDown,\n        onCellEnter: onCellEnter,\n        rtl: rtl,\n        computedPivot: computedPivot,\n        selectAll: selectAll,\n        deselectAll: deselectAll,\n        selection: selection,\n        renderNodeTool: renderNodeTool,\n        onDragRowMouseDown: onDragRowMouseDown,\n        multiSelect: multiSelect,\n        treeColumn: treeColumn !== undefined ? treeColumn === columnProps.id : false,\n        setRowSelected: setRowSelected,\n        setRowExpanded: computedRowExpandEnabled ? setRowExpanded : null,\n        toggleRowExpand: computedRowExpandEnabled ? toggleRowExpand : null,\n        toggleNodeExpand: computedTreeEnabled ? toggleNodeExpand : null,\n        loadNodeAsync: computedTreeEnabled ? loadNodeAsync : null,\n        rowActive: props.active,\n        rowSelected: props.selected,\n        rowExpanded: rowExpanded,\n        rowIndex: rowIndex,\n        rowHeight: rowHeight,\n        groupColumnVisible: !!groupColumn,\n        minRowHeight: minRowHeight,\n        groupProps: groupProps,\n        summaryProps: summaryProps,\n        empty: empty,\n        computedGroupBy: computedGroupBy,\n        nativeScroll: nativeScroll,\n        computedCellMultiSelectionEnabled: computedCellMultiSelectionEnabled,\n        lastRowInGroup: lastInGroup,\n        columnIndex: computedVisibleIndex,\n        first: computedVisibleIndex == 0,\n        last: computedVisibleIndex == visibleColumnCount - 1,\n        value: value,\n        virtualizeColumns: virtualizeColumns,\n        hasLockedStart: hasLockedStart,\n        rowIndexInGroup: indexInGroup,\n        rowRenderIndex: renderIndex,\n        hidden: hidden,\n        groupTitleCell: groupTitleCell,\n        groupExpandCell: groupExpandCell,\n        isRowExpandable: computedRowExpandEnabled ? isRowExpandable : null,\n        tryRowCellEdit: tryRowCellEdit,\n        tryNextRowEdit: tryNextRowEdit,\n        onGroupToggle: onGroupToggle,\n        initialRowHeight: rowExpanded ? initialRowHeight : rowHeight,\n        theme: theme,\n        onContextMenu: onContextMenu,\n        setActiveIndex: setActiveIndex,\n        renderTreeCollapseTool: renderTreeCollapseTool,\n        renderTreeExpandTool: renderTreeExpandTool,\n        renderGroupCollapseTool: renderGroupCollapseTool,\n        renderGroupExpandTool: renderGroupExpandTool,\n        renderTreeLoadingTool: renderTreeLoadingTool,\n        onColumnMouseEnter: onColumnMouseEnter,\n        onColumnMouseLeave: onColumnMouseLeave,\n        columnIndexHovered: columnIndexHovered,\n        computedEnableColumnHover: computedEnableColumnHover,\n        columnHoverClassName: columnHoverClassName,\n        renderRowDetailsExpandIcon: renderRowDetailsExpandIcon,\n        renderRowDetailsCollapsedIcon: renderRowDetailsCollapsedIcon,\n        disabledRow: disabledRow,\n        dataSourceChange: dataSourceChange,\n        columnsChange: columnsChange,\n        onDoubleClick: onCellDoubleClick,\n        onCellBulkUpdateMouseDown: onCellBulkUpdateMouseDown,\n        onCellBulkUpdateMouseUp: onCellBulkUpdateMouseUp,\n        bulkUpdateMouseDown: bulkUpdateMouseDown\n      });\n      if (computedCellSelection && getCellSelectionKey) {\n        cellProps.cellSelected = computedCellSelection[getCellSelectionKey(rowIndex, computedVisibleIndex)];\n        if (cellProps.cellSelected) {\n          cellProps.hasRightSelectedSibling = cellProps.last ? false : computedCellSelection[getCellSelectionKey(rowIndex, computedVisibleIndex + 1)];\n          cellProps.hasLeftSelectedSibling = cellProps.first ? false : computedCellSelection[getCellSelectionKey(rowIndex, computedVisibleIndex - 1)];\n          cellProps.hasTopSelectedSibling = computedCellSelection[getCellSelectionKey(rowIndex - 1, computedVisibleIndex)];\n          cellProps.hasBottomSelectedSibling = computedCellSelection[getCellSelectionKey(rowIndex + 1, computedVisibleIndex)];\n        }\n      }\n      if (getCellSelectionKey && (activeCell || lastInRange)) {\n        var cellKey = getCellSelectionKey(rowIndex, computedVisibleIndex);\n        if (activeCell && activeCell === cellKey) {\n          cellProps.cellActive = true;\n        }\n        if (lastInRange && lastInRange === cellKey) {\n          cellProps.lastInRange = true;\n        }\n      }\n      if (cellProps.visibilityTransitionDuration || cellProps.showTransitionDuration || cellProps.hideTransitionDuration) {\n        cellProps.onTransitionEnd = onTransitionEnd(cellProps, columnProps);\n      }\n      if (props.editing && props.editColumnIndex === cellProps.columnIndex) {\n        cellProps.inEdit = true;\n        cellProps.editValue = props.editValue;\n      }\n      if (virtualizeColumns && !cellProps.computedLocked || enableColumnAutosize || props.editable || cellProps.computedEditable) {\n        cellProps.cellRef = cellRef;\n        cellProps.onUnmount = onCellUnmount;\n      }\n      var computedLocked = cellProps.computedLocked,\n        colspan = cellProps.colspan;\n      var lockedStart = computedLocked === 'start';\n      var lockedEnd = computedLocked === 'end';\n      var unlocked = !computedLocked;\n      var computedColspan = 1;\n      if (typeof colspan === 'function') {\n        computedColspan = cellProps.computedColspan = Math.max(1, colspan({\n          remoteRowIndex: remoteRowIndex,\n          dataSourceArray: dataSourceArray,\n          data: cellProps.data,\n          value: cellProps.value,\n          rowIndex: cellProps.rowIndex,\n          column: column,\n          columns: columns,\n          empty: empty\n        }));\n        if (lockedStart) {\n          computedColspan = (0, _clamp.default)(computedColspan, 1, Math.max(lastLockedStartIndex - computedVisibleIndex + 1, 1));\n        }\n        if (lockedEnd) {\n          computedColspan = (0, _clamp.default)(computedColspan, 1, Math.max(lastLockedEndIndex - computedVisibleIndex + 1, 1));\n        }\n        if (unlocked) {\n          computedColspan = (0, _clamp.default)(computedColspan, 1, Math.max(lastUnlockedIndex - computedVisibleIndex + 1, 1));\n        }\n        if (computedColspan > 1) {\n          cellProps.computedWidth = columns.slice(theColumnIndex, theColumnIndex + computedColspan).reduce(function (sum, col) {\n            if (col.id !== column.id) {\n              hiddenCells[col.id] = true;\n              if (column.computedLocked === col.computedLocked) {\n                belongsToColspan[col.id] = column.id;\n                columnsTillColspanStart[col.id] = col.computedVisibleIndex - column.computedVisibleIndex;\n              }\n            }\n            return sum + col.computedWidth;\n          }, 0);\n        }\n      }\n      cellProps.lastInSection = lockedStart ? computedVisibleIndex + computedColspan - 1 === firstUnlockedIndex - 1 : lockedEnd ? computedVisibleIndex + computedColspan - 1 === visibleColumnCount - 1 : computedVisibleIndex + computedColspan - 1 === firstLockedEndIndex - 1;\n      cellProps.firstInSection = lockedStart ? computedVisibleIndex === 0 : lockedEnd ? computedVisibleIndex === firstLockedEndIndex : computedVisibleIndex === firstUnlockedIndex;\n      if (computedGroupBy && !groupColumn && !!cellProps.depth) {\n        cellProps.noBackground = computedVisibleIndex < cellProps.depth;\n      }\n      if (hiddenCells[column.id]) {\n        cellProps.hidden = true;\n      }\n      if (belongsToColspan[column.id]) {\n        cellProps.computedColspanedBy = belongsToColspan[column.id];\n        cellProps.computedColspanToStart = columnsTillColspanStart[column.id];\n      }\n      if (groupProps && !groupColumn || expandColumnIndex != null) {\n        (0, _adjustCellProps.default)(cellProps, props);\n      }\n      if (cellProps.hidden) {\n        cellProps.last = false;\n        cellProps.lastInSection = false;\n      } else {\n        cellProps.showBorderLeft = showVerticalCellBorders && computedVisibleIndex > 0;\n        cellProps.showBorderBottom = showHorizontalCellBorders;\n        if (!showVerticalCellBorders && computedGroupBy) {\n          cellProps.showBorderLeft = computedVisibleIndex > 0 && computedVisibleIndex <= computedGroupBy.length;\n        }\n        if (computedGroupBy) {\n          if (!cellProps.groupProps) {\n            cellProps.showBorderBottom = groupColumn ? showHorizontalCellBorders : computedVisibleIndex >= computedGroupBy.length && showHorizontalCellBorders;\n            var summaryBefore = indexInGroup === 0 && !groupColumn ? dataSourceArray[rowIndex - indexInGroup] : null;\n            if (summaryBefore && summaryBefore.__summary && computedVisibleIndex >= computedGroupBy.length) {\n              cellProps.showBorderBottom = false;\n            }\n          }\n          if (!empty) {\n            if (!groupColumn && (computedVisibleIndex < computedGroupBy.length || lastInGroup)) {\n              cellProps.showBorderBottom = rowExpanded;\n            }\n            if (cellProps.groupProps) {\n              cellProps.showBorderBottom = cellProps.groupProps.collapsed ? !!groupColumn : groupColumn ? true : computedVisibleIndex > cellProps.groupProps.depth && cellProps.groupProps.depth >= computedGroupBy.length;\n              cellProps.showBorderTop = groupTitleCell || groupExpandCell || !expandGroupTitle && !groupColumn;\n            } else if (indexInGroup === 0 && !groupColumn) {\n              cellProps.showBorderTop = computedVisibleIndex >= computedGroupBy.length;\n            }\n            if (lastNonEmpty && !lastRow && showHorizontalCellBorders) {\n              cellProps.showBorderBottom = computedVisibleIndex >= (cellProps.groupProps ? cellProps.groupProps.depth : computedGroupBy.length);\n            }\n          } else if (rowIndex > 0 && showHorizontalCellBorders) {\n            if (rowIndex === totalDataCount) {\n              cellProps.showBorderBottom = computedVisibleIndex >= computedGroupBy.length;\n            } else {\n              cellProps.showBorderBottom = computedGroupBy ? computedVisibleIndex >= computedGroupBy.length : true;\n            }\n          }\n        }\n        if (lastRow) {\n          cellProps.showBorderBottom = rowIndex < maxVisibleRows - 1 || rowExpanded;\n        }\n        if (lockedStart && cellProps.lastInSection) {\n          cellProps.showBorderRight = true;\n        }\n        if (lockedEnd && computedVisibleIndex === firstLockedEndIndex) {\n          cellProps.showBorderLeft = true;\n        }\n        if (cellProps.groupProps && computedVisibleIndex >= cellProps.groupProps.depth + 1 && !groupColumn && props.expandGroupTitle) {\n          cellProps.showBorderLeft = false;\n        }\n        if (cellProps.summaryProps) {\n          cellProps.showBorderBottom = lastRow;\n          cellProps.showBorderTop = computedVisibleIndex > cellProps.summaryProps.depth;\n          if (cellProps.summaryProps.position == 'start') {\n            cellProps.showBorderTop = computedVisibleIndex >= cellProps.summaryProps.depth;\n            cellProps.showBorderBottom = false;\n          }\n          cellProps.showBorderLeft = showVerticalCellBorders ? true : computedVisibleIndex <= cellProps.summaryProps.depth;\n          if (computedVisibleIndex > cellProps.summaryProps.depth && computedVisibleIndex <= computedGroupBy.length && !groupColumn) {\n            cellProps.showBorderLeft = false;\n          }\n          if (computedVisibleIndex === 0) {\n            cellProps.showBorderLeft = false;\n          }\n          cellProps.noBackground = !groupColumn;\n        }\n        if (firstUnlockedIndex === computedVisibleIndex && hasLockedStart) {\n          cellProps.showBorderLeft = false;\n        }\n        if (cellProps.groupSpacerColumn && rowExpanded) {\n          cellProps.showBorderBottom = false;\n        }\n        if (cellProps.last) {\n          cellProps.showBorderRight = true;\n        }\n        var prevColumn = columns[theColumnIndex - 1];\n        var nextColumn = columns[theColumnIndex + 1];\n        if (nextColumn && nextColumn.prevBorderRight !== undefined && !(lockedStart && cellProps.lastInSection)) {\n          cellProps.showBorderRight = nextColumn.prevBorderRight;\n        }\n        if (prevColumn && prevColumn.nextBorderLeft !== undefined) {\n          cellProps.showBorderLeft = prevColumn.nextBorderLeft;\n        }\n        if (columnProps.showBorderRight !== undefined) {\n          cellProps.showBorderRight = columnProps.showBorderRight;\n        }\n        if (columnProps.showBorderLeft !== undefined) {\n          cellProps.showBorderLeft = columnProps.showBorderLeft;\n        }\n      }\n      if (cellProps.computedEditable) {\n        cellProps.onEditStopForRow = onCellStopEdit;\n        cellProps.onEditStartForRow = onCellStartEdit;\n        cellProps.onEditCancelForRow = onCellEditCancel;\n        cellProps.onEditValueChangeForRow = onCellEditValueChange;\n        cellProps.onEditCompleteForRow = onCellEditComplete;\n      }\n      hasBorderBottomVar = hasBorderBottomVar || cellProps.showBorderBottom;\n      hasBorderTopVar = hasBorderTopVar || cellProps.showBorderTop;\n      return cellProps;\n    });\n    maxRowspan.current = maxRowspanVar;\n    if (props.computedEnableRowspan) {\n      props.setRowSpan && props.setRowSpan(maxRowspan.current);\n    }\n    hasBorderTop.current = hasBorderTopVar;\n    hasBorderBottom.current = hasBorderBottomVar;\n    return cellPropsArray;\n  };\n  var onCellStopEdit = (0, _react.useCallback)(function (value, cellProps) {\n    if (props.onEditStop) {\n      props.onEditStop({\n        value: value,\n        data: cellProps.data,\n        rowId: props.getItemId(cellProps.data),\n        columnId: cellProps.id,\n        columnIndex: cellProps.computedVisibleIndex,\n        rowIndex: cellProps.rowIndex,\n        cellProps: cellProps\n      });\n    }\n  }, [props.onEditStop]);\n  var onCellStartEdit = (0, _react.useCallback)(function (value, cellProps) {\n    if (props.onEditStart) {\n      props.onEditStart({\n        data: cellProps.data,\n        value: value,\n        rowId: props.getItemId(cellProps.data),\n        columnId: cellProps.id,\n        columnIndex: cellProps.computedVisibleIndex,\n        rowIndex: cellProps.rowIndex,\n        cellProps: cellProps\n      });\n    }\n  }, [props.onEditStart]);\n  var onCellEditCancel = (0, _react.useCallback)(function (cellProps) {\n    if (props.onEditCancel) {\n      props.onEditCancel({\n        data: cellProps.data,\n        rowId: props.getItemId(cellProps.data),\n        columnIndex: cellProps.computedVisibleIndex,\n        columnId: cellProps.id,\n        rowIndex: cellProps.rowIndex,\n        cellProps: cellProps\n      });\n    }\n  }, [props.onEditCancel]);\n  var onCellEditValueChange = (0, _react.useCallback)(function (value, cellProps) {\n    if (props.onEditValueChange) {\n      props.onEditValueChange({\n        value: value,\n        data: cellProps.data,\n        rowId: props.getItemId(cellProps.data),\n        columnId: cellProps.id,\n        columnIndex: cellProps.computedVisibleIndex,\n        rowIndex: cellProps.rowIndex,\n        cellProps: cellProps\n      });\n    }\n  }, [props.onEditValueChange]);\n  var onCellEditComplete = (0, _react.useCallback)(function (value, cellProps) {\n    if (props.onEditComplete) {\n      props.onEditComplete({\n        value: value,\n        data: cellProps.data,\n        rowId: props.getItemId(cellProps.data),\n        columnId: cellProps.id,\n        columnIndex: cellProps.computedVisibleIndex,\n        rowIndex: cellProps.rowIndex,\n        cellProps: cellProps\n      });\n    }\n  }, [props.onEditComplete]);\n  var tryRowCellEdit = (0, _react.useCallback)(function (editIndex) {\n    var dir = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var isEnterNavigation = arguments.length > 2 ? arguments[2] : undefined;\n    var cols = props.columns;\n    var col;\n    var colIndex;\n    if (!dir) {\n      dir = 1;\n    }\n    dir = dir == 1 ? 1 : -1;\n    var currentIndex = dir == 1 ? 0 : cols.length - 1;\n    var foundCols = [];\n    while (cols[currentIndex]) {\n      col = cols[currentIndex];\n      if (col.editable || props.editable && col.editable !== false) {\n        colIndex = col.computedVisibleIndex;\n        if (colIndex == editIndex) {\n          foundCols.push(col);\n        } else {\n          if (dir < 0) {\n            if (colIndex < editIndex) {\n              foundCols.push(col);\n            }\n          } else if (dir > 0) {\n            if (colIndex > editIndex) {\n              foundCols.push(col);\n            }\n          }\n        }\n      }\n      currentIndex += dir;\n    }\n    if (!foundCols.length) {\n      tryNextRowEdit(dir, isEnterNavigation ? editIndex : dir > 0 ? 0 : props.columns.length - 1);\n      return Promise.reject(null);\n    }\n    foundCols.sort(function (a, b) {\n      return dir > 0 ? a - b : b - a;\n    });\n    return new Promise(function (resolve, reject) {\n      var startEdit = function startEdit(cols) {\n        var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        props.currentEditCompletePromise.current.then(function () {\n          var errBack = function errBack() {\n            isEnterNavigation ? tryNextRowEdit(dir, editIndex, true) : startEdit(cols, index + 1);\n          };\n          var col = cols[index];\n          if (!col) {\n            tryNextRowEdit(dir, isEnterNavigation ? editIndex : dir > 0 ? 0 : props.columns.length - 1);\n            return reject('column not found');\n          }\n          var cell = getCellById(col.id);\n          if (!cell) {\n            if (props.scrollToColumn) {\n              props.scrollToColumn(col.id, undefined, function () {\n                setTimeout(function () {\n                  startEdit(cols, index);\n                }, 20);\n              });\n            }\n            return;\n          }\n          setTimeout(function () {\n            return cell.startEdit && cell.startEdit(undefined, errBack).then(resolve).catch(errBack);\n          }, 0);\n        }).catch(function (error) {\n          return reject(error);\n        });\n        return;\n      };\n      startEdit(foundCols, 0);\n    });\n  }, [props.columns, props.editable, props.currentEditCompletePromise, props.rowIndex, props.scrollToColumn]);\n  var tryNextRowEdit = (0, _react.useCallback)(function (dir, columnIndex, isEnterNavigation) {\n    if (props.scrollToIndexIfNeeded) {\n      props.scrollToIndexIfNeeded(props.rowIndex + 2 * dir, {\n        direction: dir == -1 ? 'top' : 'bottom'\n      }, function () {\n        if (props.tryNextRowEdit) {\n          props.tryNextRowEdit(props.rowIndex + dir, dir, columnIndex, isEnterNavigation);\n        }\n      });\n    }\n  }, [props.rowIndex, props.scrollToIndexIfNeeded, props.tryNextRowEdit]);\n  var onTransitionEnd = (0, _react.useCallback)(function (cellProps, columnProps, e) {\n    e.stopPropagation();\n    if (columnProps.onTransitionEnd) {\n      columnProps.onTransitionEnd(e);\n    }\n    if (props.onTransitionEnd) {\n      props.onTransitionEnd(e, cellProps);\n    }\n  }, [props.onTransitionEnd]);\n  var getColumnRenderRange = (0, _react.useCallback)(function (cellProps) {\n    var virtualizeColumns = getVirtualizeColumns();\n    if (!virtualizeColumns) {\n      return null;\n    }\n    var minStartIndex = props.lockedStartColumns.length ? props.lockedStartColumns.length : props.groupProps && !props.groupColumn ? props.groupProps.depth + 2 : 0;\n    var maxEndIndex = props.columns.length - props.lockedEndColumns.length - 1;\n    var columnStartIndex = columnRenderStartIndex.current == null ? props.columnRenderStartIndex || 0 : columnRenderStartIndex.current;\n    columnStartIndex = Math.max(columnStartIndex, minStartIndex);\n    var fixStartIndexForColspan = function fixStartIndexForColspan() {\n      if (cellProps) {\n        while (cellProps[columnStartIndex].computedColspanedBy) {\n          columnStartIndex--;\n        }\n      }\n    };\n    if (props.columnRenderCount != null) {\n      var columnRenderEndIndex = columnStartIndex + props.columnRenderCount;\n      columnRenderEndIndex = Math.min(columnRenderEndIndex, maxEndIndex);\n      if (columnRenderEndIndex - props.columnRenderCount != columnStartIndex) {\n        columnStartIndex = Math.max(columnRenderEndIndex - props.columnRenderCount, minStartIndex);\n      }\n      if (columnRenderEndIndex < 0) {\n        return {\n          start: 0,\n          end: 0\n        };\n      }\n      fixStartIndexForColspan();\n      return {\n        start: columnStartIndex,\n        end: columnRenderEndIndex\n      };\n    }\n    return null;\n  }, [props.virtualizeColumns, props.columnRenderCount, props.lockedStartColumns, props.lockedEndColumns, props.groupColumn, props.groupProps, props.columnRenderStartIndex, props.columns]);\n  var expandRangeWithColspan = (0, _react.useCallback)(function (range, cellProps) {\n    var extraNeededColumns = cellProps.reduce(function (total, cellProps) {\n      return total + (cellProps.computedColspan > 1 ? cellProps.computedColspan - 1 : 0);\n    }, 0);\n    if (!extraNeededColumns) {\n      return range;\n    }\n    if (range.start < props.firstUnlockedIndex) {\n      range.start = props.firstUnlockedIndex;\n    }\n    if (range.start > extraNeededColumns) {\n      range.start -= extraNeededColumns;\n      return range;\n    }\n    extraNeededColumns -= range.start;\n    range.start = 0;\n    if (extraNeededColumns) {\n      range.end += extraNeededColumns;\n    }\n    return range;\n  }, []);\n  var renderRowInstance = function renderRowInstance(_, __, style) {\n    var scrollLeft = props.scrollLeft,\n      hasLockedStart = props.hasLockedStart,\n      hasLockedEnd = props.hasLockedEnd,\n      lockedStartColumns = props.lockedStartColumns,\n      lockedEndColumns = props.lockedEndColumns,\n      computedHasColSpan = props.computedHasColSpan,\n      groupProps = props.groupProps,\n      columns = props.columns;\n    var virtualizeColumns = getVirtualizeColumns();\n    var cellProps;\n    if (!virtualizeColumns) {\n      cellProps = getPropsForCells();\n    } else {\n      var lockedStartCellProps = [];\n      var lockedEndCellProps = [];\n      var groupCellProps = [];\n      var renderRange;\n      if (computedHasColSpan) {\n        cellProps = getPropsForCells();\n        if (hasLockedStart) {\n          lockedStartCellProps = cellProps.slice(0, lockedStartColumns.length);\n        } else if (groupProps) {\n          groupCellProps = cellProps.slice(0, groupProps.depth + 2);\n        }\n        if (hasLockedEnd) {\n          lockedEndCellProps = cellProps.slice(columns.length - lockedEndColumns.length, columns.length);\n        }\n        renderRange = getColumnRenderRange(cellProps);\n        if (renderRange) {\n          renderRange = expandRangeWithColspan(renderRange, cellProps);\n          cellProps = cellProps.slice(renderRange.start, renderRange.end + 1);\n        }\n      } else {\n        var _renderRange4, _renderRange5;\n        renderRange = getColumnRenderRange();\n        cellProps = getPropsForCells((_renderRange4 = renderRange) === null || _renderRange4 === void 0 ? void 0 : _renderRange4.start, ((_renderRange5 = renderRange) === null || _renderRange5 === void 0 ? void 0 : _renderRange5.end) || 0);\n        if (hasLockedStart) {\n          lockedStartCellProps = getPropsForCells(0, lockedStartColumns.length - 1);\n        } else if (groupProps) {\n          groupCellProps = getPropsForCells(0, groupProps.depth + 2 - 1);\n        }\n        if (hasLockedEnd) {\n          lockedEndCellProps = getPropsForCells(lockedEndColumns[0].computedVisibleIndex, columns.length - 1);\n        }\n      }\n      if (hasLockedStart) {\n        cellProps = [].concat((0, _toConsumableArray2.default)(lockedStartCellProps), (0, _toConsumableArray2.default)(cellProps));\n      } else if (groupProps) {\n        cellProps = [].concat((0, _toConsumableArray2.default)(groupCellProps), (0, _toConsumableArray2.default)(cellProps));\n      }\n      if (hasLockedEnd) {\n        var _cellProps2;\n        (_cellProps2 = cellProps).push.apply(_cellProps2, (0, _toConsumableArray2.default)(lockedEndCellProps));\n      }\n    }\n    var result = cellProps.map(function (cProps, index) {\n      var cell;\n      var key = index;\n      if (!virtualizeColumns) {\n        key = cProps.id || index;\n      }\n      if (props.cellFactory) {\n        cell = props.cellFactory(cProps);\n      }\n      if (cell === undefined) {\n        cell = _react.default.createElement(_Cell.default, _objectSpread(_objectSpread({}, cProps), {}, {\n          timestamp: Date.now(),\n          cellRef: cProps.cellRef ? cProps.cellRef : null,\n          key: key\n        }));\n      }\n      return cell;\n    });\n    return (0, _renderCellsMaybeLocked.default)(result, props, scrollLeft, undefined, style);\n  };\n  var onClick = (0, _react.useCallback)(function (event) {\n    if (props.computedTreeEnabled && props.expandOnMouseDown) {\n      toggleNodeExpand(props.rowIndex);\n    }\n    if (props.onClick) {\n      props.onClick(event, props);\n    }\n    if (props.passedProps && props.passedProps.onClick) {\n      props.passedProps.onClick(event, props);\n    }\n  }, [props.passedProps, props.computedTreeEnabled, props.rowIndex, props.expandOnMouseDown, props.onClick]);\n  var onDoubleClick = (0, _react.useCallback)(function (event) {\n    if (props.onRowDoubleClick) {\n      props.onRowDoubleClick(event, props);\n    }\n  }, [props.onRowDoubleClick]);\n  var onMouseDown = (0, _react.useCallback)(function (event) {\n    if (props.onMouseDown) {\n      props.onMouseDown(event, props);\n    }\n  }, [props.onMouseDown]);\n  var onMouseUp = (0, _react.useCallback)(function (event) {\n    if (props.onMouseUp) {\n      props.onMouseUp(event);\n    }\n  }, []);\n  (0, _react.useImperativeHandle)(ref, function () {\n    return {\n      onCellUnmount: onCellUnmount,\n      cleanupCells: cleanupCells,\n      getDOMNode: getDOMNode,\n      orderCells: orderCells,\n      updateEditCell: updateEditCell,\n      fixForColspan: fixForColspan,\n      setScrolling: setScrolling,\n      renderRowDetails: renderRowDetails,\n      onContextMenu: onContextMenu,\n      setCellIndex: setCellIndex,\n      getCellIndex: getCellIndex,\n      sortCells: sortCells,\n      getCellAt: getCellAt,\n      getCellById: getCellById,\n      getCells: getCells,\n      getSortedCells: getSortedCells,\n      getGaps: getGaps,\n      getVirtualizeColumns: getVirtualizeColumns,\n      toggleRowExpand: toggleRowExpand,\n      toggleNodeExpand: toggleNodeExpand,\n      loadNodeAsync: loadNodeAsync,\n      isRowExpandable: isRowExpandable,\n      setRowExpanded: setRowExpanded,\n      setColumnRenderStartIndex: setColumnRenderStartIndex,\n      getPropsForCells: getPropsForCells,\n      onCellStopEdit: onCellStopEdit,\n      onCellStartEdit: onCellStartEdit,\n      onCellEditCancel: onCellEditCancel,\n      onCellEditValueChange: onCellEditValueChange,\n      onCellEditComplete: onCellEditComplete,\n      tryRowCellEdit: tryRowCellEdit,\n      tryNextRowEdit: tryNextRowEdit,\n      onTransitionEnd: onTransitionEnd,\n      getColumnRenderRange: getColumnRenderRange,\n      expandRangeWithColspan: expandRangeWithColspan,\n      renderRow: renderRow,\n      onClick: onClick,\n      onMouseDown: onMouseDown,\n      getCurrentGaps: getCurrentGaps,\n      totalDataCount: props.totalDataCount,\n      rowProps: rowProps,\n      domRef: domRef,\n      props: props\n    };\n  });\n  var rowHeight = props.rowHeight,\n    initialRowHeight = props.initialRowHeight,\n    maxRowHeight = props.maxRowHeight,\n    groupNestingSize = props.groupNestingSize,\n    summaryProps = props.summaryProps,\n    data = props.data,\n    id = props.id,\n    columns = props.columns,\n    minWidth = props.minWidth,\n    maxWidth = props.maxWidth,\n    rowStyle = props.rowStyle,\n    scrollbars = props.scrollbars,\n    renderRow = props.renderRow,\n    computedRowExpandEnabled = props.computedRowExpandEnabled,\n    even = props.even,\n    odd = props.odd,\n    active = props.active,\n    selected = props.selected,\n    expanded = props.expanded,\n    passedProps = props.passedProps,\n    realIndex = props.realIndex,\n    remoteRowIndex = props.remoteRowIndex,\n    nativeScroll = props.nativeScroll,\n    indexInGroup = props.indexInGroup,\n    naturalRowHeight = props.naturalRowHeight,\n    rowDetailsStyle = props.rowDetailsStyle,\n    renderDetailsGrid = props.renderDetailsGrid,\n    last = props.last,\n    empty = props.empty,\n    computedPivot = props.computedPivot,\n    computedShowZebraRows = props.computedShowZebraRows,\n    rowDetailsWidth = props.rowDetailsWidth,\n    availableWidth = props.availableWidth,\n    groupProps = props.groupProps,\n    groupColumn = props.groupColumn,\n    dataSourceArray = props.dataSourceArray,\n    onRenderRow = props.onRenderRow,\n    shouldRenderCollapsedRowDetails = props.shouldRenderCollapsedRowDetails,\n    editing = props.editing,\n    rtl = props.rtl,\n    sticky = props.sticky,\n    hasLockedEnd = props.hasLockedEnd,\n    hasLockedStart = props.hasLockedStart,\n    showHorizontalCellBorders = props.showHorizontalCellBorders,\n    disabledRow = props.disabledRow,\n    rowspanZIndex = props.rowspanZIndex,\n    focusedRow = props.focusedRow,\n    rowFocusClassName = props.rowFocusClassName;\n  var rowClassName = props.rowClassName;\n  var virtualizeColumns = getVirtualizeColumns();\n  var lastInGroup = indexInGroup == props.groupCount - 1;\n  var hasRowSpan = props.computedRowspans && Object.keys(props.computedRowspans).map(function (name) {\n    var rowspan = props.computedRowspans[name];\n    return rowspan > 1;\n  }).find(function (rowSpan) {\n    return rowSpan === true;\n  });\n  var className = (0, _join.default)(props.className, CLASS_NAME, scrollingInProgress.current && \"\".concat(CLASS_NAME, \"--scrolling\"), empty && \"\".concat(CLASS_NAME, \"--empty\"), editing && \"\".concat(CLASS_NAME, \"--editing\"), \"\".concat(CLASS_NAME, \"--direction-\").concat(rtl ? 'rtl' : 'ltr'), computedShowZebraRows && even && (!groupProps || computedPivot) && \"\".concat(CLASS_NAME, \"--even\"), computedShowZebraRows && odd && (!groupProps || computedPivot) && \"\".concat(CLASS_NAME, \"--odd\"), !computedShowZebraRows && !groupProps && \"\".concat(CLASS_NAME, \"--no-zebra\"), groupProps && \"\".concat(CLASS_NAME, \"--group-row\"), summaryProps && \"\".concat(CLASS_NAME, \"--summary-row\"), summaryProps && \"\".concat(CLASS_NAME, \"--summary-position-\").concat(summaryProps.position), groupProps && groupProps.collapsed && \"\".concat(CLASS_NAME, \"--collapsed\"), selected && \"\".concat(CLASS_NAME, \"--selected\"), expanded && \"\".concat(CLASS_NAME, \"--expanded\"), hasLockedStart ? \"\".concat(CLASS_NAME, \"--has-locked-start\") : \"\".concat(CLASS_NAME, \"--no-locked-start\"), hasLockedEnd ? \"\".concat(CLASS_NAME, \"--has-locked-end\") : \"\".concat(CLASS_NAME, \"--no-locked-end\"), showHorizontalCellBorders && \"\".concat(CLASS_NAME, \"--show-horizontal-borders\"), active && \"\".concat(CLASS_NAME, \"--active\"), virtualizeColumns && \"\".concat(CLASS_NAME, \"--virtualize-columns\"), rowHeight && \"\".concat(CLASS_NAME, \"--rowheight\"), naturalRowHeight && \"\".concat(CLASS_NAME, \"--natural-rowheight\"), realIndex == 0 && \"\".concat(CLASS_NAME, \"--first\"), last && \"\".concat(CLASS_NAME, \"--last\"), indexInGroup == 0 && \"\".concat(CLASS_NAME, \"--first-in-group\"), lastInGroup && \"\".concat(CLASS_NAME, \"--last-in-group\"), disabledRow ? \"\".concat(CLASS_NAME, \"--disabled\") : '', focusedRow ? (0, _join.default)(\"\".concat(CLASS_NAME, \"--focused\"), rowFocusClassName ? rowFocusClassName : '') : '');\n  if (passedProps) {\n    className = (0, _join.default)(className, selected && passedProps.selectedClassName);\n  }\n  var style = _objectSpread(_objectSpread({}, props.style), {}, {\n    height: naturalRowHeight ? null : rowHeight,\n    width: props.width,\n    minWidth: minWidth,\n    direction: 'ltr'\n  });\n  if (hasRowSpan) {\n    style.zIndex = rowspanZIndex;\n  }\n  if (maxWidth != null) {\n    style.maxWidth = maxWidth;\n  }\n  if (maxRowHeight != null) {\n    style.maxHeight = maxRowHeight;\n  }\n  if (rowStyle) {\n    if (typeof rowStyle === 'function') {\n      var rowStyleResult = rowStyle({\n        data: data,\n        props: props,\n        style: style\n      });\n      if (rowStyleResult !== undefined) {\n        style = _objectSpread(_objectSpread({}, style), rowStyleResult);\n      }\n    } else {\n      style = _objectSpread(_objectSpread({}, style), rowStyle);\n    }\n  }\n  if (rowClassName) {\n    if (typeof rowClassName === 'function') {\n      rowClassName = rowClassName({\n        data: data,\n        props: props,\n        className: className\n      });\n    }\n    if (rowClassName && typeof rowClassName == 'string') {\n      className = (0, _join.default)(className, rowClassName);\n    }\n  }\n  var rowProps = _objectSpread(_objectSpread(_objectSpread({}, props), {}, {\n    className: className,\n    style: style,\n    ref: domRef\n  }, passedProps), {}, {\n    onClick: !disabledRow ? onClick : null,\n    onDoubleClick: !disabledRow ? onDoubleClick : null,\n    onContextMenu: !disabledRow ? onContextMenu : null,\n    onMouseUp: !disabledRow ? onMouseUp : null\n  });\n  rowProps.children = [_react.default.createElement(\"div\", {\n    key: \"cellWrap\",\n    className: \"InovuaReactDataGrid__row-cell-wrap InovuaReactDataGrid__row-hover-target\",\n    style: {\n      width: props.width,\n      height: naturalRowHeight ? null : rowHeight,\n      position: 'absolute',\n      top: 0,\n      left: rtl ? -(props.emptyScrollOffset || 0) : 0\n    }\n  }, renderRowInstance(data, columns, style))];\n  var groupDepth = groupColumn ? 0 : data && data.__group ? data.depth - 1 : data && data.__summary ? rowProps.summaryProps.depth : props.depth || 0;\n  var activeBordersDiv = sticky ? _react.default.createElement(\"div\", {\n    key: \"active-row-borders\",\n    className: (0, _join.default)(\"\".concat(CLASS_NAME, \"-active-borders\"), hasBorderTop.current && \"\".concat(CLASS_NAME, \"-active-borders--has-border-top\"), hasBorderBottom.current && \"\".concat(CLASS_NAME, \"-actived-borders--has-border-bottom\"))\n  }) : null;\n  var shouldRender = expanded || shouldRenderCollapsedRowDetails;\n  if (computedRowExpandEnabled && shouldRender && !data.__group) {\n    var rowDetailsInfo = {\n      data: data,\n      rtl: rtl,\n      isRowExpandable: isRowExpandable,\n      rowIndex: realIndex,\n      remoteRowIndex: remoteRowIndex,\n      rowId: props.getItemId(data),\n      rowExpanded: expanded,\n      id: id,\n      rowSelected: selected,\n      rowActive: active,\n      toggleRowExpand: toggleRowExpand,\n      setRowExpanded: setRowExpanded,\n      dataSource: dataSourceArray\n    };\n    var detailsStyle = {\n      position: 'absolute',\n      height: rowHeight - initialRowHeight,\n      overflow: renderDetailsGrid ? 'visible' : 'auto',\n      top: initialRowHeight\n    };\n    if (rtl) {\n      detailsStyle.direction = 'rtl';\n    }\n    if (rowDetailsWidth == 'max-viewport-width') {\n      detailsStyle.width = Math.min(availableWidth, props.width || maxWidth);\n    }\n    if (rowDetailsWidth === 'min-viewport-width') {\n      detailsStyle.width = Math.max(availableWidth, props.width || maxWidth);\n    }\n    if (rowDetailsWidth === 'viewport-width') {\n      detailsStyle.width = availableWidth;\n    }\n    if (groupDepth) {\n      detailsStyle[rtl ? 'paddingRight' : 'paddingLeft'] = (groupNestingSize || 0) * groupDepth;\n    }\n    detailsStyle[rtl ? 'right' : 'left'] = 0;\n    if (isNaN(detailsStyle.width)) {\n      delete detailsStyle.width;\n    }\n    if (!expanded) {\n      detailsStyle.display = 'none';\n    }\n    if (rowProps.memorizedScrollLeft && rowDetailsWidth !== 'min-viewport-width') {\n      var scrollLeftMax = rowProps.getScrollLeftMax && rowProps.getScrollLeftMax();\n      var scrollLeft = !rtl ? rowProps.memorizedScrollLeft : -(scrollLeftMax - rowProps.memorizedScrollLeft);\n      detailsStyle.transform = \"translate3d(\".concat(scrollLeft, \"px, 0px, 0px)\");\n    }\n    if (rowDetailsStyle) {\n      if (typeof rowDetailsStyle === 'function') {\n        var styleResult = rowDetailsStyle(detailsStyle, rowDetailsInfo);\n        if (styleResult !== undefined) {\n          detailsStyle = styleResult;\n        }\n      } else {\n        detailsStyle = _objectSpread(_objectSpread({}, detailsStyle), rowDetailsStyle);\n      }\n    }\n    var showBorderBottom = !lastInGroup || last;\n    if (nativeScroll && last && expanded) {\n      showBorderBottom = false;\n    }\n    rowProps.children.push(_react.default.createElement(\"div\", {\n      key: \"rowDetails\",\n      style: detailsStyle,\n      onClick: skipSelect,\n      className: (0, _join.default)(\"\".concat(CLASS_NAME, \"-details\"), \"\".concat(CLASS_NAME, \"-details--\").concat(rowDetailsWidth), renderDetailsGrid ? \"\".concat(CLASS_NAME, \"-details--details-grid\") : null, !nativeScroll || nativeScroll && scrollbars && !scrollbars.vertical || availableWidth > minWidth ? \"\".concat(CLASS_NAME, \"-details--show-border-right\") : null, showBorderBottom ? \"\".concat(CLASS_NAME, \"-details--show-border-bottom\") : '')\n    }, renderRowDetails(rowDetailsInfo)), _react.default.createElement(\"div\", {\n      className: \"\".concat(CLASS_NAME, \"-details-special-bottom-border\"),\n      key: \"row-details-special-bottom-border\",\n      style: (0, _defineProperty2.default)({}, rtl ? 'right' : 'left', (groupDepth || 0) * groupNestingSize)\n    }), groupDepth ? (0, _toConsumableArray2.default)(new Array(groupDepth)).map(function (_, index) {\n      var _style2;\n      return _react.default.createElement(\"div\", {\n        key: index,\n        className: \"\".concat(CLASS_NAME, \"-details-border\"),\n        style: (_style2 = {\n          height: '100%',\n          position: 'absolute'\n        }, (0, _defineProperty2.default)(_style2, rtl ? 'right' : 'left', (index + 1) * groupNestingSize), (0, _defineProperty2.default)(_style2, \"top\", 0), _style2)\n      });\n    }) : null, rowDetailsWidth != 'max-viewport-width' ? _react.default.createElement(\"div\", {\n      key: \"rowDetailsBorder\",\n      style: (0, _defineProperty2.default)({\n        top: initialRowHeight - 1,\n        width: availableWidth\n      }, rtl ? 'right' : 'left', (groupDepth || 0) * groupNestingSize),\n      className: \"\".concat(CLASS_NAME, \"-details-special-top-border\")\n    }) : null);\n  }\n  if (sticky) {\n    if (activeBordersDiv) {\n      var _style4;\n      rowProps.children.push(_react.default.createElement(\"div\", {\n        key: \"active-row-borders\",\n        className: \"InovuaReactDataGrid__row-active-borders-wrapper\",\n        style: (_style4 = {\n          height: '100%',\n          position: 'absolute',\n          top: 0\n        }, (0, _defineProperty2.default)(_style4, rtl ? 'right' : 'left', (groupNestingSize || 0) * groupDepth), (0, _defineProperty2.default)(_style4, \"width\", availableWidth - (groupNestingSize || 0) * groupDepth), (0, _defineProperty2.default)(_style4, \"pointerEvents\", 'none'), _style4)\n      }, activeBordersDiv));\n    }\n  }\n  var row;\n  if (renderRow) {\n    row = renderRow(rowProps);\n  }\n  if (onRenderRow) {\n    onRenderRow(rowProps);\n  }\n  if (row === undefined) {\n    row = _react.default.createElement(\"div\", _objectSpread(_objectSpread({}, (0, _reactCleanProps.default)(rowProps, DataGridRow.propTypes)), {}, {\n      id: null,\n      data: null,\n      value: null\n    }));\n  }\n  return row;\n});\nvar emptyFn = function emptyFn() {};\nDataGridRow.defaultProps = {\n  onClick: emptyFn,\n  onMouseEnter: emptyFn,\n  onMouseLeave: emptyFn,\n  onMouseDown: emptyFn,\n  columnRenderStartIndex: 0,\n  showAllGroupCells: false\n};\nDataGridRow.propTypes = {\n  rowActive: _propTypes.default.bool,\n  rowSelected: _propTypes.default.bool,\n  availableWidth: _propTypes.default.number,\n  computedGroupBy: _propTypes.default.array,\n  expandGroupTitle: _propTypes.default.bool,\n  expandColumn: _propTypes.default.any,\n  getCellSelectionKey: _propTypes.default.func,\n  depth: _propTypes.default.number,\n  columns: _propTypes.default.array,\n  columnsMap: _propTypes.default.shape({}),\n  active: _propTypes.default.bool,\n  computedActiveCell: _propTypes.default.any,\n  cellFactory: _propTypes.default.func,\n  computedCellMultiSelectionEnabled: _propTypes.default.bool,\n  computedCellSelection: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.array]),\n  columnRenderCount: _propTypes.default.number,\n  columnRenderStartIndex: _propTypes.default.number,\n  columnUserSelect: _propTypes.default.bool,\n  deselectAll: _propTypes.default.func,\n  empty: _propTypes.default.bool,\n  even: _propTypes.default.bool,\n  firstLockedEndIndex: _propTypes.default.number,\n  firstLockedStartIndex: _propTypes.default.number,\n  firstUnlockedIndex: _propTypes.default.number,\n  flex: _propTypes.default.number,\n  groupCount: _propTypes.default.number,\n  groupNestingSize: _propTypes.default.number,\n  treeNestingSize: _propTypes.default.number,\n  groupProps: _propTypes.default.object,\n  summaryProps: _propTypes.default.object,\n  hasLockedEnd: _propTypes.default.bool,\n  hasLockedStart: _propTypes.default.bool,\n  indexInGroup: _propTypes.default.number,\n  last: _propTypes.default.bool,\n  lastCellInRange: _propTypes.default.any,\n  lastNonEmpty: _propTypes.default.bool,\n  lastRowInGroup: _propTypes.default.bool,\n  lockedEndColumns: _propTypes.default.array,\n  lockedStartColumns: _propTypes.default.array,\n  maxRowHeight: _propTypes.default.number,\n  minRowHeight: _propTypes.default.number,\n  maxVisibleRows: _propTypes.default.number,\n  minWidth: _propTypes.default.number,\n  multiSelect: _propTypes.default.bool,\n  odd: _propTypes.default.bool,\n  onArrowDown: _propTypes.default.func,\n  onArrowUp: _propTypes.default.func,\n  onCellClick: _propTypes.default.func,\n  onCellDoubleClick: _propTypes.default.func,\n  onRowDoubleClick: _propTypes.default.func,\n  onCellEnter: _propTypes.default.func,\n  onCellMouseDown: _propTypes.default.func,\n  onCellSelectionDraggerMouseDown: _propTypes.default.func,\n  onRowContextMenu: _propTypes.default.func,\n  passedProps: _propTypes.default.object,\n  realIndex: _propTypes.default.number,\n  renderIndex: _propTypes.default.number,\n  renderRow: _propTypes.default.func,\n  onRenderRow: _propTypes.default.func,\n  rowHeight: _propTypes.default.number,\n  rowExpandHeight: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.func]),\n  initialRowHeight: _propTypes.default.number,\n  defaultRowHeight: _propTypes.default.number,\n  emptyScrollOffset: _propTypes.default.number,\n  rowIndex: _propTypes.default.number,\n  remoteRowIndex: _propTypes.default.number,\n  rowIndexInGroup: _propTypes.default.bool,\n  rowStyle: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.func]),\n  rowClassName: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.func]),\n  scrollLeft: _propTypes.default.number,\n  selectAll: _propTypes.default.func,\n  selected: _propTypes.default.bool,\n  expanded: _propTypes.default.bool,\n  selection: _propTypes.default.any,\n  computedRowExpandEnabled: _propTypes.default.bool,\n  computedTreeEnabled: _propTypes.default.bool,\n  computedRenderRowDetails: _propTypes.default.func,\n  isRowExpandableAt: _propTypes.default.func,\n  setRowSelected: _propTypes.default.func,\n  setRowExpanded: _propTypes.default.func,\n  toggleRowExpand: _propTypes.default.func,\n  toggleNodeExpand: _propTypes.default.func,\n  expandOnMouseDown: _propTypes.default.bool,\n  loadNodeAsync: _propTypes.default.func,\n  showAllGroupCells: _propTypes.default.bool,\n  computedShowCellBorders: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.bool]),\n  showHorizontalCellBorders: _propTypes.default.bool,\n  showVerticalCellBorders: _propTypes.default.bool,\n  totalColumnCount: _propTypes.default.number,\n  totalComputedWidth: _propTypes.default.number,\n  totalDataCount: _propTypes.default.number,\n  totalLockedEndWidth: _propTypes.default.number,\n  totalLockedStartWidth: _propTypes.default.number,\n  totalUnlockedWidth: _propTypes.default.number,\n  unlockedColumns: _propTypes.default.array,\n  virtualizeColumns: _propTypes.default.bool,\n  nativeScroll: _propTypes.default.bool,\n  shouldRenderCollapsedRowDetails: _propTypes.default.bool,\n  rowDetailsStyle: _propTypes.default.oneOfType([_propTypes.default.func, _propTypes.default.object]),\n  dataSourceArray: _propTypes.default.array,\n  getItemId: _propTypes.default.func.isRequired,\n  editable: _propTypes.default.bool,\n  editing: _propTypes.default.bool,\n  editValue: _propTypes.default.any,\n  editRowIndex: _propTypes.default.number,\n  editColumnIndex: _propTypes.default.number,\n  editColumnId: _propTypes.default.any,\n  naturalRowHeight: _propTypes.default.bool,\n  renderDetailsGrid: _propTypes.default.func,\n  scrollToColumn: _propTypes.default.func,\n  scrollToIndexIfNeeded: _propTypes.default.func,\n  renderNodeTool: _propTypes.default.func,\n  computedEnableRowspan: _propTypes.default.bool,\n  setRowSpan: _propTypes.default.func,\n  treeColumn: _propTypes.default.string,\n  scrollbars: _propTypes.default.shape({\n    horizontal: _propTypes.default.bool,\n    vertical: _propTypes.default.bool\n  }),\n  rtl: _propTypes.default.bool,\n  computedPivot: _propTypes.default.array,\n  groupColumnSummaries: _propTypes.default.any,\n  groupSummary: _propTypes.default.any,\n  groupColumn: _propTypes.default.any,\n  lastUnlockedIndex: _propTypes.default.number,\n  lastLockedEndIndex: _propTypes.default.number,\n  lastLockedStartIndex: _propTypes.default.number,\n  computedShowZebraRows: _propTypes.default.bool,\n  computedRowspans: _propTypes.default.any,\n  editStartEvent: _propTypes.default.string,\n  onGroupToggle: _propTypes.default.func,\n  onEditStop: _propTypes.default.func,\n  onEditStart: _propTypes.default.func,\n  onEditCancel: _propTypes.default.func,\n  onEditValueChange: _propTypes.default.func,\n  onEditComplete: _propTypes.default.func,\n  onFilterValueChange: _propTypes.default.func,\n  tryNextRowEdit: _propTypes.default.func,\n  getScrollLeftMax: _propTypes.default.func,\n  activeRowRef: _propTypes.default.any,\n  sticky: _propTypes.default.bool,\n  edition: _propTypes.default.string,\n  computedLicenseValid: _propTypes.default.bool,\n  parentGroupDataArray: _propTypes.default.any,\n  rowDetailsWidth: _propTypes.default.oneOf(['max-viewport-width', 'min-viewport-width', 'viewport-width']),\n  memorizedScrollLeft: _propTypes.default.number,\n  computedHasColSpan: _propTypes.default.bool,\n  onRowReorder: _propTypes.default.oneOfType([_propTypes.default.func, _propTypes.default.bool]),\n  onDragRowMouseDown: _propTypes.default.func,\n  renderLockedStartCells: _propTypes.default.func,\n  renderLockedEndCells: _propTypes.default.func,\n  setActiveIndex: _propTypes.default.func,\n  renderTreeCollapseTool: _propTypes.default.func,\n  renderTreeExpandTool: _propTypes.default.func,\n  renderTreeLoadingTool: _propTypes.default.func,\n  currentEditCompletePromise: _propTypes.default.any,\n  enableColumnAutosize: _propTypes.default.bool,\n  columnHoverClassName: _propTypes.default.string,\n  computedEnableColumnHover: _propTypes.default.bool,\n  onColumnMouseEnter: _propTypes.default.func,\n  onColumnMouseLeave: _propTypes.default.func,\n  columnIndexHovered: _propTypes.default.number,\n  renderRowDetailsExpandIcon: _propTypes.default.func,\n  renderRowDetailsCollapsedIcon: _propTypes.default.func,\n  renderGroupCollapseTool: _propTypes.default.func,\n  renderGroupExpandTool: _propTypes.default.func,\n  disabledRow: _propTypes.default.bool,\n  rowspanZIndex: _propTypes.default.number,\n  onRowFocus: _propTypes.default.func,\n  onRowBlur: _propTypes.default.func,\n  onRowKeyDown: _propTypes.default.func,\n  focusedRow: _propTypes.default.bool,\n  rowFocusClassName: _propTypes.default.string,\n  onCellBulkUpdateMouseDown: _propTypes.default.func,\n  onCellBulkUpdateMouseUp: _propTypes.default.func,\n  bulkUpdateMouseDown: _propTypes.default.bool\n};\nvar _default = _react.default.memo(DataGridRow, function (prevProps, nextProps) {\n  var areEqual = (0, _shallowequal.equalReturnKey)(prevProps, nextProps, {\n    computedActiveCell: 1,\n    computedActiveIndex: 1,\n    columnRenderStartIndex: 1,\n    activeRowRef: 1,\n    active: 1,\n    onKeyDown: 1,\n    onFocus: 1,\n    setRowSpan: 1,\n    passedProps: 1,\n    computedRowspans: 1,\n    lockedStartColumns: 1,\n    selection: 1,\n    lockedEndColumns: 1,\n    unlockedColumns: 1,\n    maxVisibleRows: 1,\n    onClick: 1,\n    style: 1,\n    loadNodeAsync: 1,\n    scrollToIndexIfNeeded: 1,\n    onColumnMouseEnter: 1,\n    onColumnMouseLeave: 1,\n    getCellSelectionKey: 1\n  });\n  if (areEqual.result) {\n    if (prevProps.computedActiveCell != nextProps.computedActiveCell) {\n      var _ref2 = prevProps.computedActiveCell || [],\n        _ref3 = (0, _slicedToArray2.default)(_ref2, 1),\n        oldRowIndex = _ref3[0];\n      var _ref4 = nextProps.computedActiveCell || [],\n        _ref5 = (0, _slicedToArray2.default)(_ref4, 1),\n        newRowIndex = _ref5[0];\n      if (oldRowIndex === nextProps.rowIndex || newRowIndex === nextProps.rowIndex) {\n        return false;\n      }\n    }\n  }\n  if (!areEqual.result) {\n    return false;\n  }\n  if (prevProps.active !== nextProps.active) {\n    return false;\n  }\n  if (JSON.stringify(prevProps.style) !== JSON.stringify(nextProps.style)) {\n    return false;\n  }\n  var prevActiveCellRow, prevActiveColumn;\n  var activeCellRow, activeColumn;\n  if (prevProps.computedActiveCell) {\n    var _prevProps$computedAc = (0, _slicedToArray2.default)(prevProps.computedActiveCell, 2);\n    prevActiveCellRow = _prevProps$computedAc[0];\n    prevActiveColumn = _prevProps$computedAc[1];\n  }\n  if (nextProps.computedActiveCell) {\n    var _nextProps$computedAc = (0, _slicedToArray2.default)(nextProps.computedActiveCell, 2);\n    activeCellRow = _nextProps$computedAc[0];\n    activeColumn = _nextProps$computedAc[1];\n  }\n  if (activeCellRow !== prevActiveCellRow) {\n    if (nextProps.rowIndex === activeCellRow || nextProps.rowIndex === prevActiveCellRow) {\n      return false;\n    }\n  } else {\n    if (nextProps.rowIndex === activeCellRow && activeColumn !== prevActiveColumn) {\n      return false;\n    }\n  }\n  return true;\n});\nexports.default = _default;","map":{"version":3,"names":["_interopRequireDefault","require","_typeof","Object","defineProperty","exports","value","default","_slicedToArray2","_defineProperty2","_toConsumableArray2","_react","_interopRequireWildcard","_propTypes","_reactCleanProps","_shallowequal","_join","_clamp","_Cell","_renderCellsMaybeLocked","_adjustCellProps","_usePrevious","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","CLASS_NAME","skipSelect","event","nativeEvent","getValueForPivotColumn","item","path","reduce","acc","field","index","pivotSummary","values","getValueForPivotColumnSummary","_ref","pivotSummaryPath","root","current","pivotColumnSummary","DataGridRow","forwardRef","props","ref","cells","useRef","cellRef","useCallback","c","domRef","columnRenderStartIndex","hasBorderTop","hasBorderBottom","maxRowspan","scrollingInProgress","scrollingDirection","cleanupCells","Boolean","getCells","prevColumnRenderCount","columnRenderCount","getDOMNode","setActiveRowRef","activeRowRef","instance","node","active","useEffect","setColumnRenderStartIndex","prevRowIndex","rowIndex","prevEditing","editing","prevActive","groupProps","fixForColspan","updateEditCell","onCellUnmount","_cellProps","cell","orderCells","sortedProps","map","getProps","sort","p1","p2","cell1","cell2","renderIndex","setStateProps","editColumnIndex","len","getCellIndex","setCellIndex","inEdit","computedHasColSpan","setScrolling","scrolling","scrollingDir","oldScrollingInProgress","_className","concat","classList","add","remove","renderRowDetails","rowDetailsInfo","computedRenderRowDetails","onContextMenu","passedProps","onRowContextMenu","cellProps","getPropsForCells","slice","computedVisibleIndex","sortCells","getCellAt","getCellById","id","getSortedCells","getGaps","startIndex","endIndex","visibleCellPositions","sortedCells","computedLocked","computedColspan","depth","gaps","getVirtualizeColumns","virtualizeColumns","toggleRowExpand","realIndex","toggleNodeExpand","loadNodeAsync","_props$loadNodeAsync","data","isRowExpandable","isRowExpandableAt","setRowExpanded","expanded","_","_expanded","getCurrentGaps","columnStartIndex","newCellProps","renderRange","cellPropsAt","getColumnRenderRange","_renderRange","_renderRange2","start","end","_renderRange3","gapsMap","gapIndex","tempCellMap","calls","cellIndex","groupColumn","outside","undefined","endCellIndex","outOfView","newIndex","propsRef","lastDataSource","dataSourceArray","lastColumns","columns","_columns$filter$","initialColumns","hasLockedStart","onGroupToggle","computedPivot","rowHeight","remoteRowIndex","initialRowHeight","lastLockedStartIndex","lastLockedEndIndex","lastUnlockedIndex","minRowHeight","showHorizontalCellBorders","showVerticalCellBorders","empty","treeColumn","totalDataCount","computedGroupBy","summaryProps","indexInGroup","firstUnlockedIndex","firstLockedEndIndex","selectAll","deselectAll","columnUserSelect","multiSelect","selection","setRowSelected","computedRowExpandEnabled","rtl","lastRow","last","computedCellSelection","lastNonEmpty","maxVisibleRows","onCellClick","editStartEvent","naturalRowHeight","renderNodeTool","computedTreeEnabled","rowExpanded","expandGroupTitle","expandColumnFn","expandColumn","onCellSelectionDraggerMouseDown","onCellMouseDown","onCellEnter","computedCellMultiSelectionEnabled","getCellSelectionKey","lastCellInRange","computedRowspans","nativeScroll","onDragRowMouseDown","theme","setActiveIndex","renderTreeCollapseTool","renderTreeExpandTool","renderGroupCollapseTool","renderGroupExpandTool","renderTreeLoadingTool","onColumnMouseEnter","onColumnMouseLeave","columnIndexHovered","computedEnableColumnHover","columnHoverClassName","enableColumnAutosize","renderRowDetailsExpandIcon","renderRowDetailsCollapsedIcon","disabledRow","onCellDoubleClick","onCellBulkUpdateMouseDown","onCellBulkUpdateMouseUp","bulkUpdateMouseDown","dataSourceChange","columnsChange","expandColumnId","visibleColumnCount","expandColumnIndex","hasBorderTopVar","hasBorderBottomVar","hiddenCells","belongsToColspan","columnsTillColspanStart","lastInGroup","groupCount","activeCell","computedActiveCell","lastInRange","maxRowspanVar","cellPropsArray","column","idx","theColumnIndex","columnProps","name","groupColumnSummary","pivotColumnPath","pivotGrandSummaryColumn","defaults","userSelect","groupTitleCell","groupExpandCell","hidden","indexInColumns","computedRowspan","groupNestingSize","treeNestingSize","rowActive","rowSelected","selected","groupColumnVisible","lastRowInGroup","columnIndex","first","rowIndexInGroup","rowRenderIndex","tryRowCellEdit","tryNextRowEdit","onDoubleClick","cellSelected","hasRightSelectedSibling","hasLeftSelectedSibling","hasTopSelectedSibling","hasBottomSelectedSibling","cellKey","cellActive","visibilityTransitionDuration","showTransitionDuration","hideTransitionDuration","onTransitionEnd","editValue","editable","computedEditable","onUnmount","colspan","lockedStart","lockedEnd","unlocked","Math","max","computedWidth","sum","col","lastInSection","firstInSection","noBackground","computedColspanedBy","computedColspanToStart","showBorderLeft","showBorderBottom","summaryBefore","__summary","collapsed","showBorderTop","showBorderRight","position","groupSpacerColumn","prevColumn","nextColumn","prevBorderRight","nextBorderLeft","onEditStopForRow","onCellStopEdit","onEditStartForRow","onCellStartEdit","onEditCancelForRow","onCellEditCancel","onEditValueChangeForRow","onCellEditValueChange","onEditCompleteForRow","onCellEditComplete","computedEnableRowspan","setRowSpan","onEditStop","rowId","getItemId","columnId","onEditStart","onEditCancel","onEditValueChange","onEditComplete","editIndex","dir","isEnterNavigation","cols","colIndex","currentIndex","foundCols","Promise","reject","a","b","resolve","startEdit","currentEditCompletePromise","then","errBack","scrollToColumn","setTimeout","catch","error","scrollToIndexIfNeeded","direction","e","stopPropagation","minStartIndex","lockedStartColumns","maxEndIndex","lockedEndColumns","fixStartIndexForColspan","columnRenderEndIndex","min","expandRangeWithColspan","range","extraNeededColumns","total","renderRowInstance","__","style","scrollLeft","hasLockedEnd","lockedStartCellProps","lockedEndCellProps","groupCellProps","_renderRange4","_renderRange5","_cellProps2","result","cProps","cellFactory","createElement","timestamp","Date","now","onClick","expandOnMouseDown","onRowDoubleClick","onMouseDown","onMouseUp","useImperativeHandle","renderRow","rowProps","maxRowHeight","minWidth","maxWidth","rowStyle","scrollbars","even","odd","rowDetailsStyle","renderDetailsGrid","computedShowZebraRows","rowDetailsWidth","availableWidth","onRenderRow","shouldRenderCollapsedRowDetails","sticky","rowspanZIndex","focusedRow","rowFocusClassName","rowClassName","hasRowSpan","rowspan","find","rowSpan","className","selectedClassName","height","width","zIndex","maxHeight","rowStyleResult","children","top","left","emptyScrollOffset","groupDepth","__group","activeBordersDiv","shouldRender","dataSource","detailsStyle","overflow","isNaN","display","memorizedScrollLeft","scrollLeftMax","getScrollLeftMax","transform","styleResult","vertical","Array","_style2","_style4","row","propTypes","emptyFn","defaultProps","onMouseEnter","onMouseLeave","showAllGroupCells","bool","number","array","any","func","columnsMap","shape","oneOfType","firstLockedStartIndex","flex","onArrowDown","onArrowUp","rowExpandHeight","defaultRowHeight","string","computedShowCellBorders","totalColumnCount","totalComputedWidth","totalLockedEndWidth","totalLockedStartWidth","totalUnlockedWidth","unlockedColumns","isRequired","editRowIndex","editColumnId","horizontal","groupColumnSummaries","groupSummary","onFilterValueChange","edition","computedLicenseValid","parentGroupDataArray","oneOf","onRowReorder","renderLockedStartCells","renderLockedEndCells","onRowFocus","onRowBlur","onRowKeyDown","_default","memo","prevProps","nextProps","areEqual","equalReturnKey","computedActiveIndex","onKeyDown","onFocus","_ref2","_ref3","oldRowIndex","_ref4","_ref5","newRowIndex","JSON","stringify","prevActiveCellRow","prevActiveColumn","activeCellRow","activeColumn","_prevProps$computedAc","_nextProps$computedAc"],"sources":["/Users/alexandre.nepomuceno/Documents/agenda/node_modules/@inovua/reactdatagrid-community/Layout/ColumnLayout/Content/Row.js"],"sourcesContent":["/** \n * Copyright Â© INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _reactCleanProps = _interopRequireDefault(require(\"../../../packages/react-clean-props\"));\nvar _shallowequal = _interopRequireWildcard(require(\"../../../packages/shallowequal\"));\nvar _join = _interopRequireDefault(require(\"../../../packages/join\"));\nvar _clamp = _interopRequireDefault(require(\"../../../utils/clamp\"));\nvar _Cell = _interopRequireDefault(require(\"../Cell\"));\nvar _renderCellsMaybeLocked = _interopRequireDefault(require(\"./renderCellsMaybeLocked\"));\nvar _adjustCellProps = _interopRequireDefault(require(\"./adjustCellProps\"));\nvar _usePrevious = _interopRequireDefault(require(\"../../../hooks/usePrevious\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar CLASS_NAME = 'InovuaReactDataGrid__row';\nvar skipSelect = function skipSelect(event) {\n  event.nativeEvent.skipSelect = true;\n};\nvar getValueForPivotColumn = function getValueForPivotColumn(item, path) {\n  return path.reduce(function (acc, field, index) {\n    if (!acc || acc[field] == null) {\n      return null;\n    }\n    if (index === path.length - 1) {\n      return acc[field];\n    }\n    return acc[field].pivotSummary || acc[field].values;\n  }, item);\n};\nvar getValueForPivotColumnSummary = function getValueForPivotColumnSummary(item, _ref) {\n  var path = _ref.pivotSummaryPath;\n  var i = 0;\n  var root = item;\n  var current;\n  while ((current = path[i]) && root) {\n    if (!root.pivotSummary) {\n      return null;\n    }\n    root = root.pivotSummary[current.value];\n    i++;\n  }\n  if (root && root.pivotColumnSummary) {\n    return root.pivotColumnSummary[path[path.length - 1].field];\n  }\n  return null;\n};\nvar DataGridRow = _react.default.forwardRef(function (props, ref) {\n  var cells = (0, _react.useRef)([]);\n  var cellRef = (0, _react.useCallback)(function (c) {\n    if (!c) {\n      return;\n    }\n    cells.current.push(c);\n  }, []);\n  var domRef = (0, _react.useRef)(null);\n  var columnRenderStartIndex = (0, _react.useRef)(0);\n  var hasBorderTop = (0, _react.useRef)(false);\n  var hasBorderBottom = (0, _react.useRef)(false);\n  var maxRowspan = (0, _react.useRef)(1);\n  var scrollingInProgress = (0, _react.useRef)(false);\n  var scrollingDirection = (0, _react.useRef)('vertical');\n  var cleanupCells = (0, _react.useCallback)(function () {\n    cells.current = cells.current.filter(Boolean);\n    return cells.current;\n  }, []);\n  var getCells = (0, _react.useCallback)(function () {\n    return cells.current;\n  }, []);\n  var prevColumnRenderCount = (0, _usePrevious.default)(props.columnRenderCount, props.columnRenderCount);\n  if (props.columnRenderCount < prevColumnRenderCount) {\n    cleanupCells();\n  }\n  var getDOMNode = (0, _react.useCallback)(function () {\n    return domRef.current;\n  }, []);\n  var setActiveRowRef = function setActiveRowRef() {\n    props.activeRowRef.current = {\n      instance: {\n        hasBorderBottom: hasBorderBottom.current,\n        hasBorderTop: hasBorderTop.current,\n        props: props\n      },\n      node: getDOMNode()\n    };\n  };\n  if (props.active) {\n    setActiveRowRef();\n  }\n  (0, _react.useEffect)(function () {\n    if (props.columnRenderStartIndex) {\n      setColumnRenderStartIndex(props.columnRenderStartIndex);\n    }\n    return function () {\n      cells.current = [];\n    };\n  }, []);\n  var prevRowIndex = (0, _usePrevious.default)(props.rowIndex, props.rowIndex);\n  var prevEditing = (0, _usePrevious.default)(props.editing, props.editing);\n  var prevActive = (0, _usePrevious.default)(props.active, props.active);\n  (0, _react.useEffect)(function () {\n    if (props.groupProps && props.rowIndex !== prevRowIndex) {\n      fixForColspan();\n    }\n    if (props.editing !== prevEditing) {\n      updateEditCell();\n    }\n    if (!prevActive && props.active) {\n      setActiveRowRef();\n    }\n  });\n  var onCellUnmount = (0, _react.useCallback)(function (_cellProps, cell) {\n    if (cells.current) {\n      cells.current = cells.current.filter(function (c) {\n        return c !== cell;\n      });\n    }\n  }, []);\n  var orderCells = (0, _react.useCallback)(function () {\n    var cells = cleanupCells();\n    var sortedProps = cells.map(function (c) {\n      return c.getProps();\n    }).sort(function (p1, p2) {\n      return p1.index - p2.index;\n    });\n    cells.sort(function (cell1, cell2) {\n      return cell1.props.renderIndex - cell2.props.renderIndex;\n    });\n    cells.forEach(function (c, i) {\n      c.setStateProps(sortedProps[i]);\n    });\n  }, [cleanupCells]);\n  var updateEditCell = (0, _react.useCallback)(function () {\n    var cells = getCells();\n    var editColumnIndex = props.editColumnIndex;\n    for (var i = 0, len = cells.length, cell; i < len; i++) {\n      cell = cells[i];\n      if (getCellIndex(cell) === editColumnIndex) {\n        setCellIndex(cell, editColumnIndex);\n      }\n      if (cell.getProps().inEdit) {\n        setCellIndex(cell, getCellIndex(cell));\n      }\n    }\n  }, [props.editColumnIndex]);\n  var fixForColspan = (0, _react.useCallback)(function () {\n    if (props.computedHasColSpan) {\n      setColumnRenderStartIndex(columnRenderStartIndex.current);\n    }\n  }, [props.computedHasColSpan]);\n  var setScrolling = (0, _react.useCallback)(function (scrolling) {\n    var node = getDOMNode() || domRef.current;\n    var scrollingDir = scrollingDirection.current;\n    if (scrolling !== false) {\n      scrollingDirection.current = scrolling;\n    }\n    var oldScrollingInProgress = scrollingInProgress.current;\n    scrollingDirection.current = scrollingDir;\n    scrollingInProgress.current = scrolling ? true : false;\n    if (!node) {\n      return;\n    }\n    if (oldScrollingInProgress !== scrollingInProgress.current) {\n      var _className = \"\".concat(CLASS_NAME, \"--scrolling\");\n      if (scrollingInProgress.current) {\n        node.classList.add(_className);\n      } else {\n        node.classList.remove(_className);\n      }\n    }\n    return;\n  }, []);\n  var renderRowDetails = (0, _react.useCallback)(function (rowDetailsInfo) {\n    if (props.computedRenderRowDetails) {\n      return props.computedRenderRowDetails(rowDetailsInfo);\n    }\n    return 'Please specify `renderRowDetails`';\n  }, []);\n  var onContextMenu = (0, _react.useCallback)(function (event) {\n    var passedProps = props.passedProps,\n      onRowContextMenu = props.onRowContextMenu;\n    if (onRowContextMenu) {\n      onRowContextMenu(props, event);\n    }\n    if (passedProps && passedProps.onContextMenu) {\n      passedProps.onContextMenu(event, props);\n    }\n  }, [props.passedProps, props.passedProps.onContextMenu, props.onRowContextMenu]);\n  var setCellIndex = (0, _react.useCallback)(function (cell, index, cellProps) {\n    cellProps = cellProps || (props.computedHasColSpan ? getPropsForCells().slice(index, index + 1)[0] : getPropsForCells(index, index)[0]);\n    cell.setStateProps(cellProps);\n  }, [props.computedHasColSpan]);\n  var getCellIndex = (0, _react.useCallback)(function (cell) {\n    return cell.getProps().computedVisibleIndex;\n  }, []);\n  var sortCells = (0, _react.useCallback)(function (cells) {\n    return cells.sort(function (cell1, cell2) {\n      return getCellIndex(cell1) - getCellIndex(cell2);\n    });\n  }, []);\n  var getCellAt = (0, _react.useCallback)(function (index) {\n    return getCells().filter(function (c) {\n      return c.getProps().computedVisibleIndex === index;\n    })[0];\n  }, []);\n  var getCellById = (0, _react.useCallback)(function (id) {\n    return getCells().filter(function (c) {\n      return c.getProps().id === id;\n    })[0];\n  }, []);\n  var getSortedCells = (0, _react.useCallback)(function () {\n    return sortCells(getCells().slice());\n  }, []);\n  var getGaps = (0, _react.useCallback)(function (startIndex, endIndex) {\n    var visibleCellPositions = {};\n    var sortedCells = getSortedCells();\n    sortedCells.forEach(function (cell) {\n      var cellProps = cell.getProps();\n      if (cellProps.computedLocked) {\n        return;\n      }\n      var computedVisibleIndex = cellProps.computedVisibleIndex,\n        computedColspan = cellProps.computedColspan,\n        groupProps = cellProps.groupProps;\n      if (groupProps && computedVisibleIndex <= groupProps.depth + 1) {\n        return;\n      }\n      visibleCellPositions[computedVisibleIndex] = true;\n      if (computedColspan) {\n        for (var i = 0; i < computedColspan; i++) {\n          visibleCellPositions[computedVisibleIndex + i] = true;\n        }\n      }\n    });\n    var gaps = [];\n    for (; startIndex <= endIndex; startIndex++) {\n      if (!visibleCellPositions[startIndex]) {\n        gaps.push(startIndex);\n      }\n    }\n    return gaps;\n  }, []);\n  var getVirtualizeColumns = (0, _react.useCallback)(function () {\n    return props.virtualizeColumns;\n    return scrollingDirection.current !== 'horizontal' ? props.virtualizeColumns : false;\n  }, [props.virtualizeColumns]);\n  var toggleRowExpand = (0, _react.useCallback)(function (rowIndex) {\n    if (typeof rowIndex !== 'number') {\n      rowIndex = props.realIndex;\n    }\n    props.toggleRowExpand(rowIndex);\n  }, [props.realIndex, props.toggleRowExpand]);\n  var toggleNodeExpand = (0, _react.useCallback)(function (rowIndex) {\n    if (typeof rowIndex !== 'number') {\n      rowIndex = props.realIndex;\n    }\n    props.toggleNodeExpand(rowIndex);\n  }, [props.realIndex, props.toggleNodeExpand]);\n  var loadNodeAsync = (0, _react.useCallback)(function () {\n    var _props$loadNodeAsync;\n    (_props$loadNodeAsync = props.loadNodeAsync) === null || _props$loadNodeAsync === void 0 ? void 0 : _props$loadNodeAsync.call(props, props.data);\n  }, [props.loadNodeAsync, props.data]);\n  var isRowExpandable = (0, _react.useCallback)(function (rowIndex) {\n    if (typeof rowIndex !== 'number') {\n      rowIndex = props.realIndex;\n    }\n    return props.isRowExpandableAt(rowIndex);\n  }, [props.realIndex, props.isRowExpandableAt]);\n  var setRowExpanded = (0, _react.useCallback)(function (expanded, _) {\n    var rowIndex = props.realIndex;\n    var _expanded = expanded;\n    if (typeof expanded === 'number') {\n      rowIndex = expanded;\n      _expanded = _;\n    }\n    props.setRowExpanded(rowIndex, _expanded);\n  }, [props.realIndex, props.setRowExpanded]);\n  var getCurrentGaps = function getCurrentGaps() {};\n  var setColumnRenderStartIndex = (0, _react.useCallback)(function (columnStartIndex) {\n    if (columnRenderStartIndex.current === columnStartIndex) {\n      return;\n    }\n    columnRenderStartIndex.current = columnStartIndex;\n    if (getVirtualizeColumns() === false) {\n      return;\n    }\n    var newCellProps;\n    var renderRange;\n    var cellPropsAt;\n    if (props.computedHasColSpan) {\n      newCellProps = getPropsForCells();\n      renderRange = getColumnRenderRange(newCellProps);\n      cellPropsAt = function cellPropsAt(index) {\n        return newCellProps[index];\n      };\n    } else {\n      var _renderRange, _renderRange2;\n      renderRange = getColumnRenderRange();\n      newCellProps = getPropsForCells((_renderRange = renderRange) === null || _renderRange === void 0 ? void 0 : _renderRange.start, (((_renderRange2 = renderRange) === null || _renderRange2 === void 0 ? void 0 : _renderRange2.end) || 0) + 1);\n      cellPropsAt = function cellPropsAt(index) {\n        return newCellProps.filter(function (cellProps) {\n          return cellProps.computedVisibleIndex === index;\n        })[0];\n      };\n    }\n    if (!renderRange) {\n      return;\n    }\n    var _renderRange3 = renderRange,\n      start = _renderRange3.start,\n      end = _renderRange3.end;\n    var gaps = getGaps(start, end);\n    if (!gaps.length) {\n      return;\n    }\n    var gapsMap = gaps.reduce(function (acc, gapIndex) {\n      acc[gapIndex] = true;\n      return acc;\n    }, {});\n    var tempCellMap = {};\n    var calls = [];\n    getCells().forEach(function (cell) {\n      var cellProps = cell.getProps();\n      var groupProps = cellProps.groupProps,\n        cellIndex = cellProps.computedVisibleIndex,\n        computedColspan = cellProps.computedColspan,\n        computedLocked = cellProps.computedLocked;\n      if (computedLocked) {\n        return;\n      }\n      if (!props.groupColumn && groupProps && cellIndex <= groupProps.depth + 1) {\n        return;\n      }\n      var outside = cellIndex < start || cellIndex > end || cellIndex === undefined;\n      if (outside && computedColspan) {\n        var endCellIndex = cellIndex + (computedColspan - 1);\n        outside = cellIndex < start && endCellIndex < start || cellIndex > end;\n      }\n      var outOfView = outside || tempCellMap[cellIndex] || gapsMap[cellIndex];\n      tempCellMap[cellIndex] = true;\n      var newIndex;\n      if (outOfView && gaps.length) {\n        newIndex = gaps[gaps.length - 1];\n        calls.push([cell, newIndex]);\n        gaps.length -= 1;\n      }\n    });\n    calls.forEach(function (call) {\n      var cell = call[0];\n      var newIndex = call[1];\n      setCellIndex(cell, newIndex, cellPropsAt(newIndex));\n    });\n  }, [props.columnRenderStartIndex, props.computedHasColSpan, props.columnRenderCount, props.virtualizeColumns]);\n  var propsRef = (0, _react.useRef)(props);\n  propsRef.current = props;\n  var lastDataSource = (0, _usePrevious.default)(propsRef.current.dataSourceArray, propsRef.current.dataSourceArray);\n  var lastColumns = (0, _usePrevious.default)(propsRef.current.columns, propsRef.current.columns);\n  var getPropsForCells = function getPropsForCells(startIndex, endIndex) {\n    var _columns$filter$;\n    var props = propsRef.current;\n    var initialColumns = props.columns;\n    var columns = initialColumns;\n    var hasLockedStart = props.hasLockedStart,\n      data = props.data,\n      onGroupToggle = props.onGroupToggle,\n      computedPivot = props.computedPivot,\n      rowHeight = props.rowHeight,\n      remoteRowIndex = props.remoteRowIndex,\n      initialRowHeight = props.initialRowHeight,\n      lastLockedStartIndex = props.lastLockedStartIndex,\n      lastLockedEndIndex = props.lastLockedEndIndex,\n      lastUnlockedIndex = props.lastUnlockedIndex,\n      minRowHeight = props.minRowHeight,\n      realIndex = props.realIndex,\n      showHorizontalCellBorders = props.showHorizontalCellBorders,\n      showVerticalCellBorders = props.showVerticalCellBorders,\n      empty = props.empty,\n      treeColumn = props.treeColumn,\n      groupColumn = props.groupColumn,\n      totalDataCount = props.totalDataCount,\n      depth = props.depth,\n      dataSourceArray = props.dataSourceArray,\n      computedGroupBy = props.computedGroupBy,\n      groupProps = props.groupProps,\n      summaryProps = props.summaryProps,\n      indexInGroup = props.indexInGroup,\n      firstUnlockedIndex = props.firstUnlockedIndex,\n      firstLockedEndIndex = props.firstLockedEndIndex,\n      selectAll = props.selectAll,\n      deselectAll = props.deselectAll,\n      columnUserSelect = props.columnUserSelect,\n      multiSelect = props.multiSelect,\n      selection = props.selection,\n      setRowSelected = props.setRowSelected,\n      computedRowExpandEnabled = props.computedRowExpandEnabled,\n      rtl = props.rtl,\n      lastRow = props.last,\n      computedCellSelection = props.computedCellSelection,\n      lastNonEmpty = props.lastNonEmpty,\n      maxVisibleRows = props.maxVisibleRows,\n      onCellClick = props.onCellClick,\n      editStartEvent = props.editStartEvent,\n      naturalRowHeight = props.naturalRowHeight,\n      renderNodeTool = props.renderNodeTool,\n      computedTreeEnabled = props.computedTreeEnabled,\n      rowExpanded = props.expanded,\n      expandGroupTitle = props.expandGroupTitle,\n      expandColumnFn = props.expandColumn,\n      onCellSelectionDraggerMouseDown = props.onCellSelectionDraggerMouseDown,\n      onCellMouseDown = props.onCellMouseDown,\n      onCellEnter = props.onCellEnter,\n      computedCellMultiSelectionEnabled = props.computedCellMultiSelectionEnabled,\n      getCellSelectionKey = props.getCellSelectionKey,\n      lastCellInRange = props.lastCellInRange,\n      computedRowspans = props.computedRowspans,\n      renderIndex = props.renderIndex,\n      nativeScroll = props.nativeScroll,\n      onDragRowMouseDown = props.onDragRowMouseDown,\n      theme = props.theme,\n      onContextMenu = props.onContextMenu,\n      setActiveIndex = props.setActiveIndex,\n      renderTreeCollapseTool = props.renderTreeCollapseTool,\n      renderTreeExpandTool = props.renderTreeExpandTool,\n      renderGroupCollapseTool = props.renderGroupCollapseTool,\n      renderGroupExpandTool = props.renderGroupExpandTool,\n      renderTreeLoadingTool = props.renderTreeLoadingTool,\n      onColumnMouseEnter = props.onColumnMouseEnter,\n      onColumnMouseLeave = props.onColumnMouseLeave,\n      columnIndexHovered = props.columnIndexHovered,\n      computedEnableColumnHover = props.computedEnableColumnHover,\n      columnHoverClassName = props.columnHoverClassName,\n      enableColumnAutosize = props.enableColumnAutosize,\n      renderRowDetailsExpandIcon = props.renderRowDetailsExpandIcon,\n      renderRowDetailsCollapsedIcon = props.renderRowDetailsCollapsedIcon,\n      disabledRow = props.disabledRow,\n      onCellDoubleClick = props.onCellDoubleClick,\n      onCellBulkUpdateMouseDown = props.onCellBulkUpdateMouseDown,\n      onCellBulkUpdateMouseUp = props.onCellBulkUpdateMouseUp,\n      bulkUpdateMouseDown = props.bulkUpdateMouseDown;\n    var dataSourceChange = !(0, _shallowequal.default)(lastDataSource, props.dataSourceArray);\n    var columnsChange = !(0, _shallowequal.default)(lastColumns, props.columns);\n    var expandColumnId = expandColumnFn ? expandColumnFn({\n      data: data\n    }) : undefined;\n    var virtualizeColumns = getVirtualizeColumns();\n    var visibleColumnCount = columns.length;\n    var expandColumnIndex = expandColumnId ? (_columns$filter$ = columns.filter(function (c) {\n      return c.id === expandColumnId;\n    })[0]) === null || _columns$filter$ === void 0 ? void 0 : _columns$filter$.computedVisibleIndex : undefined;\n    if (startIndex !== undefined) {\n      columns = columns.slice(startIndex, endIndex ? endIndex + 1 : startIndex + 1);\n    }\n    startIndex = startIndex || 0;\n    var hasBorderTopVar = false;\n    var hasBorderBottomVar = false;\n    var hiddenCells = {};\n    var belongsToColspan = {};\n    var columnsTillColspanStart = {};\n    var lastInGroup = indexInGroup == props.groupCount - 1;\n    var activeCell = props.computedActiveCell && getCellSelectionKey ? getCellSelectionKey.apply(void 0, (0, _toConsumableArray2.default)(props.computedActiveCell)) : null;\n    var lastInRange = lastCellInRange || activeCell || null;\n    var maxRowspanVar = 1;\n    var cellPropsArray = columns.map(function (column, idx) {\n      var theColumnIndex = idx + startIndex;\n      var columnProps = column;\n      var name = columnProps.name,\n        computedVisibleIndex = columnProps.computedVisibleIndex;\n      var value = data ? data[name] : null;\n      var rowIndex = realIndex;\n      if (groupProps && data && data.groupColumnSummary) {\n        value = data.groupColumnSummary[name];\n      }\n      if (groupProps && data && column.groupColumn) {\n        value = data.value;\n      }\n      if (columnProps.pivotColumnPath) {\n        value = data.pivotSummary ? getValueForPivotColumn(data.pivotSummary, columnProps.pivotColumnPath) : value;\n      }\n      if (columnProps.pivotGrandSummaryColumn) {} else {\n        if (columnProps.pivotSummaryPath) {\n          value = data.pivotSummary ? getValueForPivotColumnSummary(data, {\n            pivotSummaryPath: columnProps.pivotSummaryPath,\n            pivotGrandSummaryColumn: columnProps.pivotGrandSummaryColumn\n          }) : value;\n        }\n      }\n      var defaults = {};\n      if (columnUserSelect !== undefined) {\n        defaults.userSelect = columnUserSelect;\n      }\n      var groupTitleCell = !groupColumn && groupProps && groupProps.depth + 1 == computedVisibleIndex;\n      var groupExpandCell = !groupColumn && groupProps && groupProps.depth == computedVisibleIndex;\n      var hidden = groupProps ? expandGroupTitle && !groupColumn ? computedVisibleIndex > groupProps.depth + 1 : false : false;\n      if (expandColumnIndex != null && computedVisibleIndex > expandColumnIndex) {\n        hidden = true;\n      }\n      var cellProps = _objectSpread(_objectSpread(_objectSpread({}, defaults), columnProps), {}, {\n        remoteRowIndex: remoteRowIndex,\n        indexInColumns: theColumnIndex,\n        depth: depth,\n        expandColumnIndex: expandColumnIndex,\n        expandColumn: expandColumnIndex === computedVisibleIndex,\n        editStartEvent: editStartEvent,\n        onCellClick: onCellClick,\n        computedRowspan: computedRowspans ? computedRowspans[column.id] : 1,\n        groupNestingSize: props.groupNestingSize,\n        treeNestingSize: props.treeNestingSize,\n        data: data,\n        naturalRowHeight: naturalRowHeight,\n        totalDataCount: totalDataCount,\n        onCellSelectionDraggerMouseDown: onCellSelectionDraggerMouseDown,\n        onCellMouseDown: onCellMouseDown,\n        onCellEnter: onCellEnter,\n        rtl: rtl,\n        computedPivot: computedPivot,\n        selectAll: selectAll,\n        deselectAll: deselectAll,\n        selection: selection,\n        renderNodeTool: renderNodeTool,\n        onDragRowMouseDown: onDragRowMouseDown,\n        multiSelect: multiSelect,\n        treeColumn: treeColumn !== undefined ? treeColumn === columnProps.id : false,\n        setRowSelected: setRowSelected,\n        setRowExpanded: computedRowExpandEnabled ? setRowExpanded : null,\n        toggleRowExpand: computedRowExpandEnabled ? toggleRowExpand : null,\n        toggleNodeExpand: computedTreeEnabled ? toggleNodeExpand : null,\n        loadNodeAsync: computedTreeEnabled ? loadNodeAsync : null,\n        rowActive: props.active,\n        rowSelected: props.selected,\n        rowExpanded: rowExpanded,\n        rowIndex: rowIndex,\n        rowHeight: rowHeight,\n        groupColumnVisible: !!groupColumn,\n        minRowHeight: minRowHeight,\n        groupProps: groupProps,\n        summaryProps: summaryProps,\n        empty: empty,\n        computedGroupBy: computedGroupBy,\n        nativeScroll: nativeScroll,\n        computedCellMultiSelectionEnabled: computedCellMultiSelectionEnabled,\n        lastRowInGroup: lastInGroup,\n        columnIndex: computedVisibleIndex,\n        first: computedVisibleIndex == 0,\n        last: computedVisibleIndex == visibleColumnCount - 1,\n        value: value,\n        virtualizeColumns: virtualizeColumns,\n        hasLockedStart: hasLockedStart,\n        rowIndexInGroup: indexInGroup,\n        rowRenderIndex: renderIndex,\n        hidden: hidden,\n        groupTitleCell: groupTitleCell,\n        groupExpandCell: groupExpandCell,\n        isRowExpandable: computedRowExpandEnabled ? isRowExpandable : null,\n        tryRowCellEdit: tryRowCellEdit,\n        tryNextRowEdit: tryNextRowEdit,\n        onGroupToggle: onGroupToggle,\n        initialRowHeight: rowExpanded ? initialRowHeight : rowHeight,\n        theme: theme,\n        onContextMenu: onContextMenu,\n        setActiveIndex: setActiveIndex,\n        renderTreeCollapseTool: renderTreeCollapseTool,\n        renderTreeExpandTool: renderTreeExpandTool,\n        renderGroupCollapseTool: renderGroupCollapseTool,\n        renderGroupExpandTool: renderGroupExpandTool,\n        renderTreeLoadingTool: renderTreeLoadingTool,\n        onColumnMouseEnter: onColumnMouseEnter,\n        onColumnMouseLeave: onColumnMouseLeave,\n        columnIndexHovered: columnIndexHovered,\n        computedEnableColumnHover: computedEnableColumnHover,\n        columnHoverClassName: columnHoverClassName,\n        renderRowDetailsExpandIcon: renderRowDetailsExpandIcon,\n        renderRowDetailsCollapsedIcon: renderRowDetailsCollapsedIcon,\n        disabledRow: disabledRow,\n        dataSourceChange: dataSourceChange,\n        columnsChange: columnsChange,\n        onDoubleClick: onCellDoubleClick,\n        onCellBulkUpdateMouseDown: onCellBulkUpdateMouseDown,\n        onCellBulkUpdateMouseUp: onCellBulkUpdateMouseUp,\n        bulkUpdateMouseDown: bulkUpdateMouseDown\n      });\n      if (computedCellSelection && getCellSelectionKey) {\n        cellProps.cellSelected = computedCellSelection[getCellSelectionKey(rowIndex, computedVisibleIndex)];\n        if (cellProps.cellSelected) {\n          cellProps.hasRightSelectedSibling = cellProps.last ? false : computedCellSelection[getCellSelectionKey(rowIndex, computedVisibleIndex + 1)];\n          cellProps.hasLeftSelectedSibling = cellProps.first ? false : computedCellSelection[getCellSelectionKey(rowIndex, computedVisibleIndex - 1)];\n          cellProps.hasTopSelectedSibling = computedCellSelection[getCellSelectionKey(rowIndex - 1, computedVisibleIndex)];\n          cellProps.hasBottomSelectedSibling = computedCellSelection[getCellSelectionKey(rowIndex + 1, computedVisibleIndex)];\n        }\n      }\n      if (getCellSelectionKey && (activeCell || lastInRange)) {\n        var cellKey = getCellSelectionKey(rowIndex, computedVisibleIndex);\n        if (activeCell && activeCell === cellKey) {\n          cellProps.cellActive = true;\n        }\n        if (lastInRange && lastInRange === cellKey) {\n          cellProps.lastInRange = true;\n        }\n      }\n      if (cellProps.visibilityTransitionDuration || cellProps.showTransitionDuration || cellProps.hideTransitionDuration) {\n        cellProps.onTransitionEnd = onTransitionEnd(cellProps, columnProps);\n      }\n      if (props.editing && props.editColumnIndex === cellProps.columnIndex) {\n        cellProps.inEdit = true;\n        cellProps.editValue = props.editValue;\n      }\n      if (virtualizeColumns && !cellProps.computedLocked || enableColumnAutosize || props.editable || cellProps.computedEditable) {\n        cellProps.cellRef = cellRef;\n        cellProps.onUnmount = onCellUnmount;\n      }\n      var computedLocked = cellProps.computedLocked,\n        colspan = cellProps.colspan;\n      var lockedStart = computedLocked === 'start';\n      var lockedEnd = computedLocked === 'end';\n      var unlocked = !computedLocked;\n      var computedColspan = 1;\n      if (typeof colspan === 'function') {\n        computedColspan = cellProps.computedColspan = Math.max(1, colspan({\n          remoteRowIndex: remoteRowIndex,\n          dataSourceArray: dataSourceArray,\n          data: cellProps.data,\n          value: cellProps.value,\n          rowIndex: cellProps.rowIndex,\n          column: column,\n          columns: columns,\n          empty: empty\n        }));\n        if (lockedStart) {\n          computedColspan = (0, _clamp.default)(computedColspan, 1, Math.max(lastLockedStartIndex - computedVisibleIndex + 1, 1));\n        }\n        if (lockedEnd) {\n          computedColspan = (0, _clamp.default)(computedColspan, 1, Math.max(lastLockedEndIndex - computedVisibleIndex + 1, 1));\n        }\n        if (unlocked) {\n          computedColspan = (0, _clamp.default)(computedColspan, 1, Math.max(lastUnlockedIndex - computedVisibleIndex + 1, 1));\n        }\n        if (computedColspan > 1) {\n          cellProps.computedWidth = columns.slice(theColumnIndex, theColumnIndex + computedColspan).reduce(function (sum, col) {\n            if (col.id !== column.id) {\n              hiddenCells[col.id] = true;\n              if (column.computedLocked === col.computedLocked) {\n                belongsToColspan[col.id] = column.id;\n                columnsTillColspanStart[col.id] = col.computedVisibleIndex - column.computedVisibleIndex;\n              }\n            }\n            return sum + col.computedWidth;\n          }, 0);\n        }\n      }\n      cellProps.lastInSection = lockedStart ? computedVisibleIndex + computedColspan - 1 === firstUnlockedIndex - 1 : lockedEnd ? computedVisibleIndex + computedColspan - 1 === visibleColumnCount - 1 : computedVisibleIndex + computedColspan - 1 === firstLockedEndIndex - 1;\n      cellProps.firstInSection = lockedStart ? computedVisibleIndex === 0 : lockedEnd ? computedVisibleIndex === firstLockedEndIndex : computedVisibleIndex === firstUnlockedIndex;\n      if (computedGroupBy && !groupColumn && !!cellProps.depth) {\n        cellProps.noBackground = computedVisibleIndex < cellProps.depth;\n      }\n      if (hiddenCells[column.id]) {\n        cellProps.hidden = true;\n      }\n      if (belongsToColspan[column.id]) {\n        cellProps.computedColspanedBy = belongsToColspan[column.id];\n        cellProps.computedColspanToStart = columnsTillColspanStart[column.id];\n      }\n      if (groupProps && !groupColumn || expandColumnIndex != null) {\n        (0, _adjustCellProps.default)(cellProps, props);\n      }\n      if (cellProps.hidden) {\n        cellProps.last = false;\n        cellProps.lastInSection = false;\n      } else {\n        cellProps.showBorderLeft = showVerticalCellBorders && computedVisibleIndex > 0;\n        cellProps.showBorderBottom = showHorizontalCellBorders;\n        if (!showVerticalCellBorders && computedGroupBy) {\n          cellProps.showBorderLeft = computedVisibleIndex > 0 && computedVisibleIndex <= computedGroupBy.length;\n        }\n        if (computedGroupBy) {\n          if (!cellProps.groupProps) {\n            cellProps.showBorderBottom = groupColumn ? showHorizontalCellBorders : computedVisibleIndex >= computedGroupBy.length && showHorizontalCellBorders;\n            var summaryBefore = indexInGroup === 0 && !groupColumn ? dataSourceArray[rowIndex - indexInGroup] : null;\n            if (summaryBefore && summaryBefore.__summary && computedVisibleIndex >= computedGroupBy.length) {\n              cellProps.showBorderBottom = false;\n            }\n          }\n          if (!empty) {\n            if (!groupColumn && (computedVisibleIndex < computedGroupBy.length || lastInGroup)) {\n              cellProps.showBorderBottom = rowExpanded;\n            }\n            if (cellProps.groupProps) {\n              cellProps.showBorderBottom = cellProps.groupProps.collapsed ? !!groupColumn : groupColumn ? true : computedVisibleIndex > cellProps.groupProps.depth && cellProps.groupProps.depth >= computedGroupBy.length;\n              cellProps.showBorderTop = groupTitleCell || groupExpandCell || !expandGroupTitle && !groupColumn;\n            } else if (indexInGroup === 0 && !groupColumn) {\n              cellProps.showBorderTop = computedVisibleIndex >= computedGroupBy.length;\n            }\n            if (lastNonEmpty && !lastRow && showHorizontalCellBorders) {\n              cellProps.showBorderBottom = computedVisibleIndex >= (cellProps.groupProps ? cellProps.groupProps.depth : computedGroupBy.length);\n            }\n          } else if (rowIndex > 0 && showHorizontalCellBorders) {\n            if (rowIndex === totalDataCount) {\n              cellProps.showBorderBottom = computedVisibleIndex >= computedGroupBy.length;\n            } else {\n              cellProps.showBorderBottom = computedGroupBy ? computedVisibleIndex >= computedGroupBy.length : true;\n            }\n          }\n        }\n        if (lastRow) {\n          cellProps.showBorderBottom = rowIndex < maxVisibleRows - 1 || rowExpanded;\n        }\n        if (lockedStart && cellProps.lastInSection) {\n          cellProps.showBorderRight = true;\n        }\n        if (lockedEnd && computedVisibleIndex === firstLockedEndIndex) {\n          cellProps.showBorderLeft = true;\n        }\n        if (cellProps.groupProps && computedVisibleIndex >= cellProps.groupProps.depth + 1 && !groupColumn && props.expandGroupTitle) {\n          cellProps.showBorderLeft = false;\n        }\n        if (cellProps.summaryProps) {\n          cellProps.showBorderBottom = lastRow;\n          cellProps.showBorderTop = computedVisibleIndex > cellProps.summaryProps.depth;\n          if (cellProps.summaryProps.position == 'start') {\n            cellProps.showBorderTop = computedVisibleIndex >= cellProps.summaryProps.depth;\n            cellProps.showBorderBottom = false;\n          }\n          cellProps.showBorderLeft = showVerticalCellBorders ? true : computedVisibleIndex <= cellProps.summaryProps.depth;\n          if (computedVisibleIndex > cellProps.summaryProps.depth && computedVisibleIndex <= computedGroupBy.length && !groupColumn) {\n            cellProps.showBorderLeft = false;\n          }\n          if (computedVisibleIndex === 0) {\n            cellProps.showBorderLeft = false;\n          }\n          cellProps.noBackground = !groupColumn;\n        }\n        if (firstUnlockedIndex === computedVisibleIndex && hasLockedStart) {\n          cellProps.showBorderLeft = false;\n        }\n        if (cellProps.groupSpacerColumn && rowExpanded) {\n          cellProps.showBorderBottom = false;\n        }\n        if (cellProps.last) {\n          cellProps.showBorderRight = true;\n        }\n        var prevColumn = columns[theColumnIndex - 1];\n        var nextColumn = columns[theColumnIndex + 1];\n        if (nextColumn && nextColumn.prevBorderRight !== undefined && !(lockedStart && cellProps.lastInSection)) {\n          cellProps.showBorderRight = nextColumn.prevBorderRight;\n        }\n        if (prevColumn && prevColumn.nextBorderLeft !== undefined) {\n          cellProps.showBorderLeft = prevColumn.nextBorderLeft;\n        }\n        if (columnProps.showBorderRight !== undefined) {\n          cellProps.showBorderRight = columnProps.showBorderRight;\n        }\n        if (columnProps.showBorderLeft !== undefined) {\n          cellProps.showBorderLeft = columnProps.showBorderLeft;\n        }\n      }\n      if (cellProps.computedEditable) {\n        cellProps.onEditStopForRow = onCellStopEdit;\n        cellProps.onEditStartForRow = onCellStartEdit;\n        cellProps.onEditCancelForRow = onCellEditCancel;\n        cellProps.onEditValueChangeForRow = onCellEditValueChange;\n        cellProps.onEditCompleteForRow = onCellEditComplete;\n      }\n      hasBorderBottomVar = hasBorderBottomVar || cellProps.showBorderBottom;\n      hasBorderTopVar = hasBorderTopVar || cellProps.showBorderTop;\n      return cellProps;\n    });\n    maxRowspan.current = maxRowspanVar;\n    if (props.computedEnableRowspan) {\n      props.setRowSpan && props.setRowSpan(maxRowspan.current);\n    }\n    hasBorderTop.current = hasBorderTopVar;\n    hasBorderBottom.current = hasBorderBottomVar;\n    return cellPropsArray;\n  };\n  var onCellStopEdit = (0, _react.useCallback)(function (value, cellProps) {\n    if (props.onEditStop) {\n      props.onEditStop({\n        value: value,\n        data: cellProps.data,\n        rowId: props.getItemId(cellProps.data),\n        columnId: cellProps.id,\n        columnIndex: cellProps.computedVisibleIndex,\n        rowIndex: cellProps.rowIndex,\n        cellProps: cellProps\n      });\n    }\n  }, [props.onEditStop]);\n  var onCellStartEdit = (0, _react.useCallback)(function (value, cellProps) {\n    if (props.onEditStart) {\n      props.onEditStart({\n        data: cellProps.data,\n        value: value,\n        rowId: props.getItemId(cellProps.data),\n        columnId: cellProps.id,\n        columnIndex: cellProps.computedVisibleIndex,\n        rowIndex: cellProps.rowIndex,\n        cellProps: cellProps\n      });\n    }\n  }, [props.onEditStart]);\n  var onCellEditCancel = (0, _react.useCallback)(function (cellProps) {\n    if (props.onEditCancel) {\n      props.onEditCancel({\n        data: cellProps.data,\n        rowId: props.getItemId(cellProps.data),\n        columnIndex: cellProps.computedVisibleIndex,\n        columnId: cellProps.id,\n        rowIndex: cellProps.rowIndex,\n        cellProps: cellProps\n      });\n    }\n  }, [props.onEditCancel]);\n  var onCellEditValueChange = (0, _react.useCallback)(function (value, cellProps) {\n    if (props.onEditValueChange) {\n      props.onEditValueChange({\n        value: value,\n        data: cellProps.data,\n        rowId: props.getItemId(cellProps.data),\n        columnId: cellProps.id,\n        columnIndex: cellProps.computedVisibleIndex,\n        rowIndex: cellProps.rowIndex,\n        cellProps: cellProps\n      });\n    }\n  }, [props.onEditValueChange]);\n  var onCellEditComplete = (0, _react.useCallback)(function (value, cellProps) {\n    if (props.onEditComplete) {\n      props.onEditComplete({\n        value: value,\n        data: cellProps.data,\n        rowId: props.getItemId(cellProps.data),\n        columnId: cellProps.id,\n        columnIndex: cellProps.computedVisibleIndex,\n        rowIndex: cellProps.rowIndex,\n        cellProps: cellProps\n      });\n    }\n  }, [props.onEditComplete]);\n  var tryRowCellEdit = (0, _react.useCallback)(function (editIndex) {\n    var dir = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var isEnterNavigation = arguments.length > 2 ? arguments[2] : undefined;\n    var cols = props.columns;\n    var col;\n    var colIndex;\n    if (!dir) {\n      dir = 1;\n    }\n    dir = dir == 1 ? 1 : -1;\n    var currentIndex = dir == 1 ? 0 : cols.length - 1;\n    var foundCols = [];\n    while (cols[currentIndex]) {\n      col = cols[currentIndex];\n      if (col.editable || props.editable && col.editable !== false) {\n        colIndex = col.computedVisibleIndex;\n        if (colIndex == editIndex) {\n          foundCols.push(col);\n        } else {\n          if (dir < 0) {\n            if (colIndex < editIndex) {\n              foundCols.push(col);\n            }\n          } else if (dir > 0) {\n            if (colIndex > editIndex) {\n              foundCols.push(col);\n            }\n          }\n        }\n      }\n      currentIndex += dir;\n    }\n    if (!foundCols.length) {\n      tryNextRowEdit(dir, isEnterNavigation ? editIndex : dir > 0 ? 0 : props.columns.length - 1);\n      return Promise.reject(null);\n    }\n    foundCols.sort(function (a, b) {\n      return dir > 0 ? a - b : b - a;\n    });\n    return new Promise(function (resolve, reject) {\n      var startEdit = function startEdit(cols) {\n        var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        props.currentEditCompletePromise.current.then(function () {\n          var errBack = function errBack() {\n            isEnterNavigation ? tryNextRowEdit(dir, editIndex, true) : startEdit(cols, index + 1);\n          };\n          var col = cols[index];\n          if (!col) {\n            tryNextRowEdit(dir, isEnterNavigation ? editIndex : dir > 0 ? 0 : props.columns.length - 1);\n            return reject('column not found');\n          }\n          var cell = getCellById(col.id);\n          if (!cell) {\n            if (props.scrollToColumn) {\n              props.scrollToColumn(col.id, undefined, function () {\n                setTimeout(function () {\n                  startEdit(cols, index);\n                }, 20);\n              });\n            }\n            return;\n          }\n          setTimeout(function () {\n            return cell.startEdit && cell.startEdit(undefined, errBack).then(resolve).catch(errBack);\n          }, 0);\n        }).catch(function (error) {\n          return reject(error);\n        });\n        return;\n      };\n      startEdit(foundCols, 0);\n    });\n  }, [props.columns, props.editable, props.currentEditCompletePromise, props.rowIndex, props.scrollToColumn]);\n  var tryNextRowEdit = (0, _react.useCallback)(function (dir, columnIndex, isEnterNavigation) {\n    if (props.scrollToIndexIfNeeded) {\n      props.scrollToIndexIfNeeded(props.rowIndex + 2 * dir, {\n        direction: dir == -1 ? 'top' : 'bottom'\n      }, function () {\n        if (props.tryNextRowEdit) {\n          props.tryNextRowEdit(props.rowIndex + dir, dir, columnIndex, isEnterNavigation);\n        }\n      });\n    }\n  }, [props.rowIndex, props.scrollToIndexIfNeeded, props.tryNextRowEdit]);\n  var onTransitionEnd = (0, _react.useCallback)(function (cellProps, columnProps, e) {\n    e.stopPropagation();\n    if (columnProps.onTransitionEnd) {\n      columnProps.onTransitionEnd(e);\n    }\n    if (props.onTransitionEnd) {\n      props.onTransitionEnd(e, cellProps);\n    }\n  }, [props.onTransitionEnd]);\n  var getColumnRenderRange = (0, _react.useCallback)(function (cellProps) {\n    var virtualizeColumns = getVirtualizeColumns();\n    if (!virtualizeColumns) {\n      return null;\n    }\n    var minStartIndex = props.lockedStartColumns.length ? props.lockedStartColumns.length : props.groupProps && !props.groupColumn ? props.groupProps.depth + 2 : 0;\n    var maxEndIndex = props.columns.length - props.lockedEndColumns.length - 1;\n    var columnStartIndex = columnRenderStartIndex.current == null ? props.columnRenderStartIndex || 0 : columnRenderStartIndex.current;\n    columnStartIndex = Math.max(columnStartIndex, minStartIndex);\n    var fixStartIndexForColspan = function fixStartIndexForColspan() {\n      if (cellProps) {\n        while (cellProps[columnStartIndex].computedColspanedBy) {\n          columnStartIndex--;\n        }\n      }\n    };\n    if (props.columnRenderCount != null) {\n      var columnRenderEndIndex = columnStartIndex + props.columnRenderCount;\n      columnRenderEndIndex = Math.min(columnRenderEndIndex, maxEndIndex);\n      if (columnRenderEndIndex - props.columnRenderCount != columnStartIndex) {\n        columnStartIndex = Math.max(columnRenderEndIndex - props.columnRenderCount, minStartIndex);\n      }\n      if (columnRenderEndIndex < 0) {\n        return {\n          start: 0,\n          end: 0\n        };\n      }\n      fixStartIndexForColspan();\n      return {\n        start: columnStartIndex,\n        end: columnRenderEndIndex\n      };\n    }\n    return null;\n  }, [props.virtualizeColumns, props.columnRenderCount, props.lockedStartColumns, props.lockedEndColumns, props.groupColumn, props.groupProps, props.columnRenderStartIndex, props.columns]);\n  var expandRangeWithColspan = (0, _react.useCallback)(function (range, cellProps) {\n    var extraNeededColumns = cellProps.reduce(function (total, cellProps) {\n      return total + (cellProps.computedColspan > 1 ? cellProps.computedColspan - 1 : 0);\n    }, 0);\n    if (!extraNeededColumns) {\n      return range;\n    }\n    if (range.start < props.firstUnlockedIndex) {\n      range.start = props.firstUnlockedIndex;\n    }\n    if (range.start > extraNeededColumns) {\n      range.start -= extraNeededColumns;\n      return range;\n    }\n    extraNeededColumns -= range.start;\n    range.start = 0;\n    if (extraNeededColumns) {\n      range.end += extraNeededColumns;\n    }\n    return range;\n  }, []);\n  var renderRowInstance = function renderRowInstance(_, __, style) {\n    var scrollLeft = props.scrollLeft,\n      hasLockedStart = props.hasLockedStart,\n      hasLockedEnd = props.hasLockedEnd,\n      lockedStartColumns = props.lockedStartColumns,\n      lockedEndColumns = props.lockedEndColumns,\n      computedHasColSpan = props.computedHasColSpan,\n      groupProps = props.groupProps,\n      columns = props.columns;\n    var virtualizeColumns = getVirtualizeColumns();\n    var cellProps;\n    if (!virtualizeColumns) {\n      cellProps = getPropsForCells();\n    } else {\n      var lockedStartCellProps = [];\n      var lockedEndCellProps = [];\n      var groupCellProps = [];\n      var renderRange;\n      if (computedHasColSpan) {\n        cellProps = getPropsForCells();\n        if (hasLockedStart) {\n          lockedStartCellProps = cellProps.slice(0, lockedStartColumns.length);\n        } else if (groupProps) {\n          groupCellProps = cellProps.slice(0, groupProps.depth + 2);\n        }\n        if (hasLockedEnd) {\n          lockedEndCellProps = cellProps.slice(columns.length - lockedEndColumns.length, columns.length);\n        }\n        renderRange = getColumnRenderRange(cellProps);\n        if (renderRange) {\n          renderRange = expandRangeWithColspan(renderRange, cellProps);\n          cellProps = cellProps.slice(renderRange.start, renderRange.end + 1);\n        }\n      } else {\n        var _renderRange4, _renderRange5;\n        renderRange = getColumnRenderRange();\n        cellProps = getPropsForCells((_renderRange4 = renderRange) === null || _renderRange4 === void 0 ? void 0 : _renderRange4.start, ((_renderRange5 = renderRange) === null || _renderRange5 === void 0 ? void 0 : _renderRange5.end) || 0);\n        if (hasLockedStart) {\n          lockedStartCellProps = getPropsForCells(0, lockedStartColumns.length - 1);\n        } else if (groupProps) {\n          groupCellProps = getPropsForCells(0, groupProps.depth + 2 - 1);\n        }\n        if (hasLockedEnd) {\n          lockedEndCellProps = getPropsForCells(lockedEndColumns[0].computedVisibleIndex, columns.length - 1);\n        }\n      }\n      if (hasLockedStart) {\n        cellProps = [].concat((0, _toConsumableArray2.default)(lockedStartCellProps), (0, _toConsumableArray2.default)(cellProps));\n      } else if (groupProps) {\n        cellProps = [].concat((0, _toConsumableArray2.default)(groupCellProps), (0, _toConsumableArray2.default)(cellProps));\n      }\n      if (hasLockedEnd) {\n        var _cellProps2;\n        (_cellProps2 = cellProps).push.apply(_cellProps2, (0, _toConsumableArray2.default)(lockedEndCellProps));\n      }\n    }\n    var result = cellProps.map(function (cProps, index) {\n      var cell;\n      var key = index;\n      if (!virtualizeColumns) {\n        key = cProps.id || index;\n      }\n      if (props.cellFactory) {\n        cell = props.cellFactory(cProps);\n      }\n      if (cell === undefined) {\n        cell = _react.default.createElement(_Cell.default, _objectSpread(_objectSpread({}, cProps), {}, {\n          timestamp: Date.now(),\n          cellRef: cProps.cellRef ? cProps.cellRef : null,\n          key: key\n        }));\n      }\n      return cell;\n    });\n    return (0, _renderCellsMaybeLocked.default)(result, props, scrollLeft, undefined, style);\n  };\n  var onClick = (0, _react.useCallback)(function (event) {\n    if (props.computedTreeEnabled && props.expandOnMouseDown) {\n      toggleNodeExpand(props.rowIndex);\n    }\n    if (props.onClick) {\n      props.onClick(event, props);\n    }\n    if (props.passedProps && props.passedProps.onClick) {\n      props.passedProps.onClick(event, props);\n    }\n  }, [props.passedProps, props.computedTreeEnabled, props.rowIndex, props.expandOnMouseDown, props.onClick]);\n  var onDoubleClick = (0, _react.useCallback)(function (event) {\n    if (props.onRowDoubleClick) {\n      props.onRowDoubleClick(event, props);\n    }\n  }, [props.onRowDoubleClick]);\n  var onMouseDown = (0, _react.useCallback)(function (event) {\n    if (props.onMouseDown) {\n      props.onMouseDown(event, props);\n    }\n  }, [props.onMouseDown]);\n  var onMouseUp = (0, _react.useCallback)(function (event) {\n    if (props.onMouseUp) {\n      props.onMouseUp(event);\n    }\n  }, []);\n  (0, _react.useImperativeHandle)(ref, function () {\n    return {\n      onCellUnmount: onCellUnmount,\n      cleanupCells: cleanupCells,\n      getDOMNode: getDOMNode,\n      orderCells: orderCells,\n      updateEditCell: updateEditCell,\n      fixForColspan: fixForColspan,\n      setScrolling: setScrolling,\n      renderRowDetails: renderRowDetails,\n      onContextMenu: onContextMenu,\n      setCellIndex: setCellIndex,\n      getCellIndex: getCellIndex,\n      sortCells: sortCells,\n      getCellAt: getCellAt,\n      getCellById: getCellById,\n      getCells: getCells,\n      getSortedCells: getSortedCells,\n      getGaps: getGaps,\n      getVirtualizeColumns: getVirtualizeColumns,\n      toggleRowExpand: toggleRowExpand,\n      toggleNodeExpand: toggleNodeExpand,\n      loadNodeAsync: loadNodeAsync,\n      isRowExpandable: isRowExpandable,\n      setRowExpanded: setRowExpanded,\n      setColumnRenderStartIndex: setColumnRenderStartIndex,\n      getPropsForCells: getPropsForCells,\n      onCellStopEdit: onCellStopEdit,\n      onCellStartEdit: onCellStartEdit,\n      onCellEditCancel: onCellEditCancel,\n      onCellEditValueChange: onCellEditValueChange,\n      onCellEditComplete: onCellEditComplete,\n      tryRowCellEdit: tryRowCellEdit,\n      tryNextRowEdit: tryNextRowEdit,\n      onTransitionEnd: onTransitionEnd,\n      getColumnRenderRange: getColumnRenderRange,\n      expandRangeWithColspan: expandRangeWithColspan,\n      renderRow: renderRow,\n      onClick: onClick,\n      onMouseDown: onMouseDown,\n      getCurrentGaps: getCurrentGaps,\n      totalDataCount: props.totalDataCount,\n      rowProps: rowProps,\n      domRef: domRef,\n      props: props\n    };\n  });\n  var rowHeight = props.rowHeight,\n    initialRowHeight = props.initialRowHeight,\n    maxRowHeight = props.maxRowHeight,\n    groupNestingSize = props.groupNestingSize,\n    summaryProps = props.summaryProps,\n    data = props.data,\n    id = props.id,\n    columns = props.columns,\n    minWidth = props.minWidth,\n    maxWidth = props.maxWidth,\n    rowStyle = props.rowStyle,\n    scrollbars = props.scrollbars,\n    renderRow = props.renderRow,\n    computedRowExpandEnabled = props.computedRowExpandEnabled,\n    even = props.even,\n    odd = props.odd,\n    active = props.active,\n    selected = props.selected,\n    expanded = props.expanded,\n    passedProps = props.passedProps,\n    realIndex = props.realIndex,\n    remoteRowIndex = props.remoteRowIndex,\n    nativeScroll = props.nativeScroll,\n    indexInGroup = props.indexInGroup,\n    naturalRowHeight = props.naturalRowHeight,\n    rowDetailsStyle = props.rowDetailsStyle,\n    renderDetailsGrid = props.renderDetailsGrid,\n    last = props.last,\n    empty = props.empty,\n    computedPivot = props.computedPivot,\n    computedShowZebraRows = props.computedShowZebraRows,\n    rowDetailsWidth = props.rowDetailsWidth,\n    availableWidth = props.availableWidth,\n    groupProps = props.groupProps,\n    groupColumn = props.groupColumn,\n    dataSourceArray = props.dataSourceArray,\n    onRenderRow = props.onRenderRow,\n    shouldRenderCollapsedRowDetails = props.shouldRenderCollapsedRowDetails,\n    editing = props.editing,\n    rtl = props.rtl,\n    sticky = props.sticky,\n    hasLockedEnd = props.hasLockedEnd,\n    hasLockedStart = props.hasLockedStart,\n    showHorizontalCellBorders = props.showHorizontalCellBorders,\n    disabledRow = props.disabledRow,\n    rowspanZIndex = props.rowspanZIndex,\n    focusedRow = props.focusedRow,\n    rowFocusClassName = props.rowFocusClassName;\n  var rowClassName = props.rowClassName;\n  var virtualizeColumns = getVirtualizeColumns();\n  var lastInGroup = indexInGroup == props.groupCount - 1;\n  var hasRowSpan = props.computedRowspans && Object.keys(props.computedRowspans).map(function (name) {\n    var rowspan = props.computedRowspans[name];\n    return rowspan > 1;\n  }).find(function (rowSpan) {\n    return rowSpan === true;\n  });\n  var className = (0, _join.default)(props.className, CLASS_NAME, scrollingInProgress.current && \"\".concat(CLASS_NAME, \"--scrolling\"), empty && \"\".concat(CLASS_NAME, \"--empty\"), editing && \"\".concat(CLASS_NAME, \"--editing\"), \"\".concat(CLASS_NAME, \"--direction-\").concat(rtl ? 'rtl' : 'ltr'), computedShowZebraRows && even && (!groupProps || computedPivot) && \"\".concat(CLASS_NAME, \"--even\"), computedShowZebraRows && odd && (!groupProps || computedPivot) && \"\".concat(CLASS_NAME, \"--odd\"), !computedShowZebraRows && !groupProps && \"\".concat(CLASS_NAME, \"--no-zebra\"), groupProps && \"\".concat(CLASS_NAME, \"--group-row\"), summaryProps && \"\".concat(CLASS_NAME, \"--summary-row\"), summaryProps && \"\".concat(CLASS_NAME, \"--summary-position-\").concat(summaryProps.position), groupProps && groupProps.collapsed && \"\".concat(CLASS_NAME, \"--collapsed\"), selected && \"\".concat(CLASS_NAME, \"--selected\"), expanded && \"\".concat(CLASS_NAME, \"--expanded\"), hasLockedStart ? \"\".concat(CLASS_NAME, \"--has-locked-start\") : \"\".concat(CLASS_NAME, \"--no-locked-start\"), hasLockedEnd ? \"\".concat(CLASS_NAME, \"--has-locked-end\") : \"\".concat(CLASS_NAME, \"--no-locked-end\"), showHorizontalCellBorders && \"\".concat(CLASS_NAME, \"--show-horizontal-borders\"), active && \"\".concat(CLASS_NAME, \"--active\"), virtualizeColumns && \"\".concat(CLASS_NAME, \"--virtualize-columns\"), rowHeight && \"\".concat(CLASS_NAME, \"--rowheight\"), naturalRowHeight && \"\".concat(CLASS_NAME, \"--natural-rowheight\"), realIndex == 0 && \"\".concat(CLASS_NAME, \"--first\"), last && \"\".concat(CLASS_NAME, \"--last\"), indexInGroup == 0 && \"\".concat(CLASS_NAME, \"--first-in-group\"), lastInGroup && \"\".concat(CLASS_NAME, \"--last-in-group\"), disabledRow ? \"\".concat(CLASS_NAME, \"--disabled\") : '', focusedRow ? (0, _join.default)(\"\".concat(CLASS_NAME, \"--focused\"), rowFocusClassName ? rowFocusClassName : '') : '');\n  if (passedProps) {\n    className = (0, _join.default)(className, selected && passedProps.selectedClassName);\n  }\n  var style = _objectSpread(_objectSpread({}, props.style), {}, {\n    height: naturalRowHeight ? null : rowHeight,\n    width: props.width,\n    minWidth: minWidth,\n    direction: 'ltr'\n  });\n  if (hasRowSpan) {\n    style.zIndex = rowspanZIndex;\n  }\n  if (maxWidth != null) {\n    style.maxWidth = maxWidth;\n  }\n  if (maxRowHeight != null) {\n    style.maxHeight = maxRowHeight;\n  }\n  if (rowStyle) {\n    if (typeof rowStyle === 'function') {\n      var rowStyleResult = rowStyle({\n        data: data,\n        props: props,\n        style: style\n      });\n      if (rowStyleResult !== undefined) {\n        style = _objectSpread(_objectSpread({}, style), rowStyleResult);\n      }\n    } else {\n      style = _objectSpread(_objectSpread({}, style), rowStyle);\n    }\n  }\n  if (rowClassName) {\n    if (typeof rowClassName === 'function') {\n      rowClassName = rowClassName({\n        data: data,\n        props: props,\n        className: className\n      });\n    }\n    if (rowClassName && typeof rowClassName == 'string') {\n      className = (0, _join.default)(className, rowClassName);\n    }\n  }\n  var rowProps = _objectSpread(_objectSpread(_objectSpread({}, props), {}, {\n    className: className,\n    style: style,\n    ref: domRef\n  }, passedProps), {}, {\n    onClick: !disabledRow ? onClick : null,\n    onDoubleClick: !disabledRow ? onDoubleClick : null,\n    onContextMenu: !disabledRow ? onContextMenu : null,\n    onMouseUp: !disabledRow ? onMouseUp : null\n  });\n  rowProps.children = [_react.default.createElement(\"div\", {\n    key: \"cellWrap\",\n    className: \"InovuaReactDataGrid__row-cell-wrap InovuaReactDataGrid__row-hover-target\",\n    style: {\n      width: props.width,\n      height: naturalRowHeight ? null : rowHeight,\n      position: 'absolute',\n      top: 0,\n      left: rtl ? -(props.emptyScrollOffset || 0) : 0\n    }\n  }, renderRowInstance(data, columns, style))];\n  var groupDepth = groupColumn ? 0 : data && data.__group ? data.depth - 1 : data && data.__summary ? rowProps.summaryProps.depth : props.depth || 0;\n  var activeBordersDiv = sticky ? _react.default.createElement(\"div\", {\n    key: \"active-row-borders\",\n    className: (0, _join.default)(\"\".concat(CLASS_NAME, \"-active-borders\"), hasBorderTop.current && \"\".concat(CLASS_NAME, \"-active-borders--has-border-top\"), hasBorderBottom.current && \"\".concat(CLASS_NAME, \"-actived-borders--has-border-bottom\"))\n  }) : null;\n  var shouldRender = expanded || shouldRenderCollapsedRowDetails;\n  if (computedRowExpandEnabled && shouldRender && !data.__group) {\n    var rowDetailsInfo = {\n      data: data,\n      rtl: rtl,\n      isRowExpandable: isRowExpandable,\n      rowIndex: realIndex,\n      remoteRowIndex: remoteRowIndex,\n      rowId: props.getItemId(data),\n      rowExpanded: expanded,\n      id: id,\n      rowSelected: selected,\n      rowActive: active,\n      toggleRowExpand: toggleRowExpand,\n      setRowExpanded: setRowExpanded,\n      dataSource: dataSourceArray\n    };\n    var detailsStyle = {\n      position: 'absolute',\n      height: rowHeight - initialRowHeight,\n      overflow: renderDetailsGrid ? 'visible' : 'auto',\n      top: initialRowHeight\n    };\n    if (rtl) {\n      detailsStyle.direction = 'rtl';\n    }\n    if (rowDetailsWidth == 'max-viewport-width') {\n      detailsStyle.width = Math.min(availableWidth, props.width || maxWidth);\n    }\n    if (rowDetailsWidth === 'min-viewport-width') {\n      detailsStyle.width = Math.max(availableWidth, props.width || maxWidth);\n    }\n    if (rowDetailsWidth === 'viewport-width') {\n      detailsStyle.width = availableWidth;\n    }\n    if (groupDepth) {\n      detailsStyle[rtl ? 'paddingRight' : 'paddingLeft'] = (groupNestingSize || 0) * groupDepth;\n    }\n    detailsStyle[rtl ? 'right' : 'left'] = 0;\n    if (isNaN(detailsStyle.width)) {\n      delete detailsStyle.width;\n    }\n    if (!expanded) {\n      detailsStyle.display = 'none';\n    }\n    if (rowProps.memorizedScrollLeft && rowDetailsWidth !== 'min-viewport-width') {\n      var scrollLeftMax = rowProps.getScrollLeftMax && rowProps.getScrollLeftMax();\n      var scrollLeft = !rtl ? rowProps.memorizedScrollLeft : -(scrollLeftMax - rowProps.memorizedScrollLeft);\n      detailsStyle.transform = \"translate3d(\".concat(scrollLeft, \"px, 0px, 0px)\");\n    }\n    if (rowDetailsStyle) {\n      if (typeof rowDetailsStyle === 'function') {\n        var styleResult = rowDetailsStyle(detailsStyle, rowDetailsInfo);\n        if (styleResult !== undefined) {\n          detailsStyle = styleResult;\n        }\n      } else {\n        detailsStyle = _objectSpread(_objectSpread({}, detailsStyle), rowDetailsStyle);\n      }\n    }\n    var showBorderBottom = !lastInGroup || last;\n    if (nativeScroll && last && expanded) {\n      showBorderBottom = false;\n    }\n    rowProps.children.push(_react.default.createElement(\"div\", {\n      key: \"rowDetails\",\n      style: detailsStyle,\n      onClick: skipSelect,\n      className: (0, _join.default)(\"\".concat(CLASS_NAME, \"-details\"), \"\".concat(CLASS_NAME, \"-details--\").concat(rowDetailsWidth), renderDetailsGrid ? \"\".concat(CLASS_NAME, \"-details--details-grid\") : null, !nativeScroll || nativeScroll && scrollbars && !scrollbars.vertical || availableWidth > minWidth ? \"\".concat(CLASS_NAME, \"-details--show-border-right\") : null, showBorderBottom ? \"\".concat(CLASS_NAME, \"-details--show-border-bottom\") : '')\n    }, renderRowDetails(rowDetailsInfo)), _react.default.createElement(\"div\", {\n      className: \"\".concat(CLASS_NAME, \"-details-special-bottom-border\"),\n      key: \"row-details-special-bottom-border\",\n      style: (0, _defineProperty2.default)({}, rtl ? 'right' : 'left', (groupDepth || 0) * groupNestingSize)\n    }), groupDepth ? (0, _toConsumableArray2.default)(new Array(groupDepth)).map(function (_, index) {\n      var _style2;\n      return _react.default.createElement(\"div\", {\n        key: index,\n        className: \"\".concat(CLASS_NAME, \"-details-border\"),\n        style: (_style2 = {\n          height: '100%',\n          position: 'absolute'\n        }, (0, _defineProperty2.default)(_style2, rtl ? 'right' : 'left', (index + 1) * groupNestingSize), (0, _defineProperty2.default)(_style2, \"top\", 0), _style2)\n      });\n    }) : null, rowDetailsWidth != 'max-viewport-width' ? _react.default.createElement(\"div\", {\n      key: \"rowDetailsBorder\",\n      style: (0, _defineProperty2.default)({\n        top: initialRowHeight - 1,\n        width: availableWidth\n      }, rtl ? 'right' : 'left', (groupDepth || 0) * groupNestingSize),\n      className: \"\".concat(CLASS_NAME, \"-details-special-top-border\")\n    }) : null);\n  }\n  if (sticky) {\n    if (activeBordersDiv) {\n      var _style4;\n      rowProps.children.push(_react.default.createElement(\"div\", {\n        key: \"active-row-borders\",\n        className: \"InovuaReactDataGrid__row-active-borders-wrapper\",\n        style: (_style4 = {\n          height: '100%',\n          position: 'absolute',\n          top: 0\n        }, (0, _defineProperty2.default)(_style4, rtl ? 'right' : 'left', (groupNestingSize || 0) * groupDepth), (0, _defineProperty2.default)(_style4, \"width\", availableWidth - (groupNestingSize || 0) * groupDepth), (0, _defineProperty2.default)(_style4, \"pointerEvents\", 'none'), _style4)\n      }, activeBordersDiv));\n    }\n  }\n  var row;\n  if (renderRow) {\n    row = renderRow(rowProps);\n  }\n  if (onRenderRow) {\n    onRenderRow(rowProps);\n  }\n  if (row === undefined) {\n    row = _react.default.createElement(\"div\", _objectSpread(_objectSpread({}, (0, _reactCleanProps.default)(rowProps, DataGridRow.propTypes)), {}, {\n      id: null,\n      data: null,\n      value: null\n    }));\n  }\n  return row;\n});\nvar emptyFn = function emptyFn() {};\nDataGridRow.defaultProps = {\n  onClick: emptyFn,\n  onMouseEnter: emptyFn,\n  onMouseLeave: emptyFn,\n  onMouseDown: emptyFn,\n  columnRenderStartIndex: 0,\n  showAllGroupCells: false\n};\nDataGridRow.propTypes = {\n  rowActive: _propTypes.default.bool,\n  rowSelected: _propTypes.default.bool,\n  availableWidth: _propTypes.default.number,\n  computedGroupBy: _propTypes.default.array,\n  expandGroupTitle: _propTypes.default.bool,\n  expandColumn: _propTypes.default.any,\n  getCellSelectionKey: _propTypes.default.func,\n  depth: _propTypes.default.number,\n  columns: _propTypes.default.array,\n  columnsMap: _propTypes.default.shape({}),\n  active: _propTypes.default.bool,\n  computedActiveCell: _propTypes.default.any,\n  cellFactory: _propTypes.default.func,\n  computedCellMultiSelectionEnabled: _propTypes.default.bool,\n  computedCellSelection: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.array]),\n  columnRenderCount: _propTypes.default.number,\n  columnRenderStartIndex: _propTypes.default.number,\n  columnUserSelect: _propTypes.default.bool,\n  deselectAll: _propTypes.default.func,\n  empty: _propTypes.default.bool,\n  even: _propTypes.default.bool,\n  firstLockedEndIndex: _propTypes.default.number,\n  firstLockedStartIndex: _propTypes.default.number,\n  firstUnlockedIndex: _propTypes.default.number,\n  flex: _propTypes.default.number,\n  groupCount: _propTypes.default.number,\n  groupNestingSize: _propTypes.default.number,\n  treeNestingSize: _propTypes.default.number,\n  groupProps: _propTypes.default.object,\n  summaryProps: _propTypes.default.object,\n  hasLockedEnd: _propTypes.default.bool,\n  hasLockedStart: _propTypes.default.bool,\n  indexInGroup: _propTypes.default.number,\n  last: _propTypes.default.bool,\n  lastCellInRange: _propTypes.default.any,\n  lastNonEmpty: _propTypes.default.bool,\n  lastRowInGroup: _propTypes.default.bool,\n  lockedEndColumns: _propTypes.default.array,\n  lockedStartColumns: _propTypes.default.array,\n  maxRowHeight: _propTypes.default.number,\n  minRowHeight: _propTypes.default.number,\n  maxVisibleRows: _propTypes.default.number,\n  minWidth: _propTypes.default.number,\n  multiSelect: _propTypes.default.bool,\n  odd: _propTypes.default.bool,\n  onArrowDown: _propTypes.default.func,\n  onArrowUp: _propTypes.default.func,\n  onCellClick: _propTypes.default.func,\n  onCellDoubleClick: _propTypes.default.func,\n  onRowDoubleClick: _propTypes.default.func,\n  onCellEnter: _propTypes.default.func,\n  onCellMouseDown: _propTypes.default.func,\n  onCellSelectionDraggerMouseDown: _propTypes.default.func,\n  onRowContextMenu: _propTypes.default.func,\n  passedProps: _propTypes.default.object,\n  realIndex: _propTypes.default.number,\n  renderIndex: _propTypes.default.number,\n  renderRow: _propTypes.default.func,\n  onRenderRow: _propTypes.default.func,\n  rowHeight: _propTypes.default.number,\n  rowExpandHeight: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.func]),\n  initialRowHeight: _propTypes.default.number,\n  defaultRowHeight: _propTypes.default.number,\n  emptyScrollOffset: _propTypes.default.number,\n  rowIndex: _propTypes.default.number,\n  remoteRowIndex: _propTypes.default.number,\n  rowIndexInGroup: _propTypes.default.bool,\n  rowStyle: _propTypes.default.oneOfType([_propTypes.default.object, _propTypes.default.func]),\n  rowClassName: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.func]),\n  scrollLeft: _propTypes.default.number,\n  selectAll: _propTypes.default.func,\n  selected: _propTypes.default.bool,\n  expanded: _propTypes.default.bool,\n  selection: _propTypes.default.any,\n  computedRowExpandEnabled: _propTypes.default.bool,\n  computedTreeEnabled: _propTypes.default.bool,\n  computedRenderRowDetails: _propTypes.default.func,\n  isRowExpandableAt: _propTypes.default.func,\n  setRowSelected: _propTypes.default.func,\n  setRowExpanded: _propTypes.default.func,\n  toggleRowExpand: _propTypes.default.func,\n  toggleNodeExpand: _propTypes.default.func,\n  expandOnMouseDown: _propTypes.default.bool,\n  loadNodeAsync: _propTypes.default.func,\n  showAllGroupCells: _propTypes.default.bool,\n  computedShowCellBorders: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.bool]),\n  showHorizontalCellBorders: _propTypes.default.bool,\n  showVerticalCellBorders: _propTypes.default.bool,\n  totalColumnCount: _propTypes.default.number,\n  totalComputedWidth: _propTypes.default.number,\n  totalDataCount: _propTypes.default.number,\n  totalLockedEndWidth: _propTypes.default.number,\n  totalLockedStartWidth: _propTypes.default.number,\n  totalUnlockedWidth: _propTypes.default.number,\n  unlockedColumns: _propTypes.default.array,\n  virtualizeColumns: _propTypes.default.bool,\n  nativeScroll: _propTypes.default.bool,\n  shouldRenderCollapsedRowDetails: _propTypes.default.bool,\n  rowDetailsStyle: _propTypes.default.oneOfType([_propTypes.default.func, _propTypes.default.object]),\n  dataSourceArray: _propTypes.default.array,\n  getItemId: _propTypes.default.func.isRequired,\n  editable: _propTypes.default.bool,\n  editing: _propTypes.default.bool,\n  editValue: _propTypes.default.any,\n  editRowIndex: _propTypes.default.number,\n  editColumnIndex: _propTypes.default.number,\n  editColumnId: _propTypes.default.any,\n  naturalRowHeight: _propTypes.default.bool,\n  renderDetailsGrid: _propTypes.default.func,\n  scrollToColumn: _propTypes.default.func,\n  scrollToIndexIfNeeded: _propTypes.default.func,\n  renderNodeTool: _propTypes.default.func,\n  computedEnableRowspan: _propTypes.default.bool,\n  setRowSpan: _propTypes.default.func,\n  treeColumn: _propTypes.default.string,\n  scrollbars: _propTypes.default.shape({\n    horizontal: _propTypes.default.bool,\n    vertical: _propTypes.default.bool\n  }),\n  rtl: _propTypes.default.bool,\n  computedPivot: _propTypes.default.array,\n  groupColumnSummaries: _propTypes.default.any,\n  groupSummary: _propTypes.default.any,\n  groupColumn: _propTypes.default.any,\n  lastUnlockedIndex: _propTypes.default.number,\n  lastLockedEndIndex: _propTypes.default.number,\n  lastLockedStartIndex: _propTypes.default.number,\n  computedShowZebraRows: _propTypes.default.bool,\n  computedRowspans: _propTypes.default.any,\n  editStartEvent: _propTypes.default.string,\n  onGroupToggle: _propTypes.default.func,\n  onEditStop: _propTypes.default.func,\n  onEditStart: _propTypes.default.func,\n  onEditCancel: _propTypes.default.func,\n  onEditValueChange: _propTypes.default.func,\n  onEditComplete: _propTypes.default.func,\n  onFilterValueChange: _propTypes.default.func,\n  tryNextRowEdit: _propTypes.default.func,\n  getScrollLeftMax: _propTypes.default.func,\n  activeRowRef: _propTypes.default.any,\n  sticky: _propTypes.default.bool,\n  edition: _propTypes.default.string,\n  computedLicenseValid: _propTypes.default.bool,\n  parentGroupDataArray: _propTypes.default.any,\n  rowDetailsWidth: _propTypes.default.oneOf(['max-viewport-width', 'min-viewport-width', 'viewport-width']),\n  memorizedScrollLeft: _propTypes.default.number,\n  computedHasColSpan: _propTypes.default.bool,\n  onRowReorder: _propTypes.default.oneOfType([_propTypes.default.func, _propTypes.default.bool]),\n  onDragRowMouseDown: _propTypes.default.func,\n  renderLockedStartCells: _propTypes.default.func,\n  renderLockedEndCells: _propTypes.default.func,\n  setActiveIndex: _propTypes.default.func,\n  renderTreeCollapseTool: _propTypes.default.func,\n  renderTreeExpandTool: _propTypes.default.func,\n  renderTreeLoadingTool: _propTypes.default.func,\n  currentEditCompletePromise: _propTypes.default.any,\n  enableColumnAutosize: _propTypes.default.bool,\n  columnHoverClassName: _propTypes.default.string,\n  computedEnableColumnHover: _propTypes.default.bool,\n  onColumnMouseEnter: _propTypes.default.func,\n  onColumnMouseLeave: _propTypes.default.func,\n  columnIndexHovered: _propTypes.default.number,\n  renderRowDetailsExpandIcon: _propTypes.default.func,\n  renderRowDetailsCollapsedIcon: _propTypes.default.func,\n  renderGroupCollapseTool: _propTypes.default.func,\n  renderGroupExpandTool: _propTypes.default.func,\n  disabledRow: _propTypes.default.bool,\n  rowspanZIndex: _propTypes.default.number,\n  onRowFocus: _propTypes.default.func,\n  onRowBlur: _propTypes.default.func,\n  onRowKeyDown: _propTypes.default.func,\n  focusedRow: _propTypes.default.bool,\n  rowFocusClassName: _propTypes.default.string,\n  onCellBulkUpdateMouseDown: _propTypes.default.func,\n  onCellBulkUpdateMouseUp: _propTypes.default.func,\n  bulkUpdateMouseDown: _propTypes.default.bool\n};\nvar _default = _react.default.memo(DataGridRow, function (prevProps, nextProps) {\n  var areEqual = (0, _shallowequal.equalReturnKey)(prevProps, nextProps, {\n    computedActiveCell: 1,\n    computedActiveIndex: 1,\n    columnRenderStartIndex: 1,\n    activeRowRef: 1,\n    active: 1,\n    onKeyDown: 1,\n    onFocus: 1,\n    setRowSpan: 1,\n    passedProps: 1,\n    computedRowspans: 1,\n    lockedStartColumns: 1,\n    selection: 1,\n    lockedEndColumns: 1,\n    unlockedColumns: 1,\n    maxVisibleRows: 1,\n    onClick: 1,\n    style: 1,\n    loadNodeAsync: 1,\n    scrollToIndexIfNeeded: 1,\n    onColumnMouseEnter: 1,\n    onColumnMouseLeave: 1,\n    getCellSelectionKey: 1\n  });\n  if (areEqual.result) {\n    if (prevProps.computedActiveCell != nextProps.computedActiveCell) {\n      var _ref2 = prevProps.computedActiveCell || [],\n        _ref3 = (0, _slicedToArray2.default)(_ref2, 1),\n        oldRowIndex = _ref3[0];\n      var _ref4 = nextProps.computedActiveCell || [],\n        _ref5 = (0, _slicedToArray2.default)(_ref4, 1),\n        newRowIndex = _ref5[0];\n      if (oldRowIndex === nextProps.rowIndex || newRowIndex === nextProps.rowIndex) {\n        return false;\n      }\n    }\n  }\n  if (!areEqual.result) {\n    return false;\n  }\n  if (prevProps.active !== nextProps.active) {\n    return false;\n  }\n  if (JSON.stringify(prevProps.style) !== JSON.stringify(nextProps.style)) {\n    return false;\n  }\n  var prevActiveCellRow, prevActiveColumn;\n  var activeCellRow, activeColumn;\n  if (prevProps.computedActiveCell) {\n    var _prevProps$computedAc = (0, _slicedToArray2.default)(prevProps.computedActiveCell, 2);\n    prevActiveCellRow = _prevProps$computedAc[0];\n    prevActiveColumn = _prevProps$computedAc[1];\n  }\n  if (nextProps.computedActiveCell) {\n    var _nextProps$computedAc = (0, _slicedToArray2.default)(nextProps.computedActiveCell, 2);\n    activeCellRow = _nextProps$computedAc[0];\n    activeColumn = _nextProps$computedAc[1];\n  }\n  if (activeCellRow !== prevActiveCellRow) {\n    if (nextProps.rowIndex === activeCellRow || nextProps.rowIndex === prevActiveCellRow) {\n      return false;\n    }\n  } else {\n    if (nextProps.rowIndex === activeCellRow && activeColumn !== prevActiveColumn) {\n      return false;\n    }\n  }\n  return true;\n});\nexports.default = _default;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}