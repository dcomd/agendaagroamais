{"ast":null,"code":"/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\nvar _regionAlign = _interopRequireDefault(require(\"../region-align\"));\nvar _once = _interopRequireDefault(require(\"./utils/once\"));\nvar _isMobile = _interopRequireDefault(require(\"../isMobile\"));\nvar _getGlobal = require(\"../../getGlobal\");\nvar globalObject = (0, _getGlobal.getGlobal)();\nvar Helper = function Helper(config) {\n  this.config = config;\n};\nvar getEvents = function getEvents(mobile) {\n  return {\n    move: mobile ? 'touchmove' : 'mousemove',\n    up: mobile ? 'touchend' : 'mouseup'\n  };\n};\nfunction getPageCoords(event, mobile) {\n  var firstTouch;\n  var pageX = event.pageX;\n  var pageY = event.pageY;\n  if (mobile && event.touches && (firstTouch = event.touches[0])) {\n    pageX = firstTouch.pageX;\n    pageY = firstTouch.pageY;\n  }\n  return {\n    pageX: pageX,\n    pageY: pageY\n  };\n}\nObject.assign(Helper.prototype, {\n  initDrag: function initDrag(event) {\n    this.onDragInit(event);\n    var mobile = this.config.mobile;\n    if (mobile === undefined) {\n      mobile = _isMobile.default;\n    }\n    var events = this.config.events || getEvents(mobile);\n    var onDragStart = (0, _once.default)(this.onDragStart, this);\n    var target = mobile ? event.target : globalObject;\n    var mouseUpListener = function (event) {\n      this.onDrop(event);\n      target && target.removeEventListener(events.move, mouseMoveListener);\n      target && target.removeEventListener(events.up, mouseUpListener);\n    }.bind(this);\n    var mouseMoveListener = function (event) {\n      if (!mobile && event.which !== 1) {\n        mouseUpListener(event);\n        return;\n      }\n      onDragStart(event, mobile);\n      this.onDrag(event, mobile);\n    }.bind(this);\n    target && target.addEventListener(events.move, mouseMoveListener, false);\n    target && target.addEventListener(events.up, mouseUpListener);\n  },\n  onDragInit: function onDragInit(event) {\n    var config = {\n      diff: {\n        left: 0,\n        top: 0\n      }\n    };\n    this.state = {\n      config: config\n    };\n    if (this.config.region) {\n      this.state.initialRegion = _regionAlign.default.from(this.config.region);\n      this.state.dragRegion = config.dragRegion = this.state.initialRegion.clone();\n    }\n    if (this.config.constrainTo) {\n      this.state.constrainTo = _regionAlign.default.from(this.config.constrainTo);\n    }\n    this.callConfig('onDragInit', event);\n  },\n  onDragStart: function onDragStart(event, mobile) {\n    this.state.initPageCoords = getPageCoords(event, mobile);\n    this.state.didDrag = this.state.config.didDrag = true;\n    this.callConfig('onDragStart', event);\n  },\n  onDrag: function onDrag(event, mobile) {\n    var config = this.state.config;\n    var initPageCoords = this.state.initPageCoords;\n    var eventCoords = getPageCoords(event, mobile);\n    var diff = config.diff = {\n      left: eventCoords.pageX - initPageCoords.pageX,\n      top: eventCoords.pageY - initPageCoords.pageY\n    };\n    if (this.state.initialRegion) {\n      var dragRegion = config.dragRegion;\n      dragRegion.set(this.state.initialRegion);\n      dragRegion.shift(diff);\n      if (this.state.constrainTo) {\n        diff.left = dragRegion.left - this.state.initialRegion.left;\n        diff.top = dragRegion.top - this.state.initialRegion.top;\n      }\n      config.dragRegion = dragRegion;\n    }\n    this.callConfig('onDrag', event);\n  },\n  onDrop: function onDrop(event) {\n    this.callConfig('onDrop', event);\n    this.state = null;\n  },\n  callConfig: function callConfig(fnName, event) {\n    var config = this.state.config;\n    var args = [event, config];\n    var fn = this.config[fnName];\n    if (fn) {\n      fn.apply(this, args);\n    }\n  }\n});\nfunction _default(event, config) {\n  if (config.scope) {\n    var skippedKeys = {\n      scope: 1,\n      region: 1,\n      constrainTo: 1\n    };\n    Object.keys(config).forEach(function (key) {\n      var value = config[key];\n      if (key in skippedKeys) {\n        return;\n      }\n      if (typeof value == 'function') {\n        config[key] = value.bind(config.scope);\n      }\n    });\n  }\n  var helper = new Helper(config);\n  helper.initDrag(event);\n  return helper;\n}","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_default","_regionAlign","_once","_isMobile","_getGlobal","globalObject","getGlobal","Helper","config","getEvents","mobile","move","up","getPageCoords","event","firstTouch","pageX","pageY","touches","assign","prototype","initDrag","onDragInit","undefined","events","onDragStart","target","mouseUpListener","onDrop","removeEventListener","mouseMoveListener","bind","which","onDrag","addEventListener","diff","left","top","state","region","initialRegion","from","dragRegion","clone","constrainTo","callConfig","initPageCoords","didDrag","eventCoords","set","shift","fnName","args","fn","apply","scope","skippedKeys","keys","forEach","key","helper"],"sources":["/Users/alexandre.nepomuceno/Documents/agenda/node_modules/@inovua/reactdatagrid-community/packages/drag-helper/index.js"],"sourcesContent":["/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\nvar _regionAlign = _interopRequireDefault(require(\"../region-align\"));\nvar _once = _interopRequireDefault(require(\"./utils/once\"));\nvar _isMobile = _interopRequireDefault(require(\"../isMobile\"));\nvar _getGlobal = require(\"../../getGlobal\");\nvar globalObject = (0, _getGlobal.getGlobal)();\nvar Helper = function Helper(config) {\n  this.config = config;\n};\nvar getEvents = function getEvents(mobile) {\n  return {\n    move: mobile ? 'touchmove' : 'mousemove',\n    up: mobile ? 'touchend' : 'mouseup'\n  };\n};\nfunction getPageCoords(event, mobile) {\n  var firstTouch;\n  var pageX = event.pageX;\n  var pageY = event.pageY;\n  if (mobile && event.touches && (firstTouch = event.touches[0])) {\n    pageX = firstTouch.pageX;\n    pageY = firstTouch.pageY;\n  }\n  return {\n    pageX: pageX,\n    pageY: pageY\n  };\n}\nObject.assign(Helper.prototype, {\n  initDrag: function initDrag(event) {\n    this.onDragInit(event);\n    var mobile = this.config.mobile;\n    if (mobile === undefined) {\n      mobile = _isMobile.default;\n    }\n    var events = this.config.events || getEvents(mobile);\n    var onDragStart = (0, _once.default)(this.onDragStart, this);\n    var target = mobile ? event.target : globalObject;\n    var mouseUpListener = function (event) {\n      this.onDrop(event);\n      target && target.removeEventListener(events.move, mouseMoveListener);\n      target && target.removeEventListener(events.up, mouseUpListener);\n    }.bind(this);\n    var mouseMoveListener = function (event) {\n      if (!mobile && event.which !== 1) {\n        mouseUpListener(event);\n        return;\n      }\n      onDragStart(event, mobile);\n      this.onDrag(event, mobile);\n    }.bind(this);\n    target && target.addEventListener(events.move, mouseMoveListener, false);\n    target && target.addEventListener(events.up, mouseUpListener);\n  },\n  onDragInit: function onDragInit(event) {\n    var config = {\n      diff: {\n        left: 0,\n        top: 0\n      }\n    };\n    this.state = {\n      config: config\n    };\n    if (this.config.region) {\n      this.state.initialRegion = _regionAlign.default.from(this.config.region);\n      this.state.dragRegion = config.dragRegion = this.state.initialRegion.clone();\n    }\n    if (this.config.constrainTo) {\n      this.state.constrainTo = _regionAlign.default.from(this.config.constrainTo);\n    }\n    this.callConfig('onDragInit', event);\n  },\n  onDragStart: function onDragStart(event, mobile) {\n    this.state.initPageCoords = getPageCoords(event, mobile);\n    this.state.didDrag = this.state.config.didDrag = true;\n    this.callConfig('onDragStart', event);\n  },\n  onDrag: function onDrag(event, mobile) {\n    var config = this.state.config;\n    var initPageCoords = this.state.initPageCoords;\n    var eventCoords = getPageCoords(event, mobile);\n    var diff = config.diff = {\n      left: eventCoords.pageX - initPageCoords.pageX,\n      top: eventCoords.pageY - initPageCoords.pageY\n    };\n    if (this.state.initialRegion) {\n      var dragRegion = config.dragRegion;\n      dragRegion.set(this.state.initialRegion);\n      dragRegion.shift(diff);\n      if (this.state.constrainTo) {\n        diff.left = dragRegion.left - this.state.initialRegion.left;\n        diff.top = dragRegion.top - this.state.initialRegion.top;\n      }\n      config.dragRegion = dragRegion;\n    }\n    this.callConfig('onDrag', event);\n  },\n  onDrop: function onDrop(event) {\n    this.callConfig('onDrop', event);\n    this.state = null;\n  },\n  callConfig: function callConfig(fnName, event) {\n    var config = this.state.config;\n    var args = [event, config];\n    var fn = this.config[fnName];\n    if (fn) {\n      fn.apply(this, args);\n    }\n  }\n});\nfunction _default(event, config) {\n  if (config.scope) {\n    var skippedKeys = {\n      scope: 1,\n      region: 1,\n      constrainTo: 1\n    };\n    Object.keys(config).forEach(function (key) {\n      var value = config[key];\n      if (key in skippedKeys) {\n        return;\n      }\n      if (typeof value == 'function') {\n        config[key] = value.bind(config.scope);\n      }\n    });\n  }\n  var helper = new Helper(config);\n  helper.initDrag(event);\n  return helper;\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}