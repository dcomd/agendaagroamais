{"ast":null,"code":"/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.renderColumnFilterContextMenu = exports.default = void 0;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _useProperty5 = _interopRequireDefault(require(\"../../../hooks/useProperty\"));\nvar _getFilterValueForColumns = _interopRequireDefault(require(\"../../../hooks/useDataSource/getFilterValueForColumns\"));\nvar _batchUpdate = _interopRequireDefault(require(\"../../../utils/batchUpdate\"));\nvar _mapColumns = _interopRequireDefault(require(\"../../../mapColumns\"));\nvar _ua = require(\"../../../common/ua\");\nvar _Menu = _interopRequireDefault(require(\"../../../packages/Menu\"));\nvar _renderGridMenu = _interopRequireDefault(require(\"../../../renderGridMenu\"));\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar emptyArray = [];\nvar COLUMN_MENU_ALIGN_POSITIONS = ['tl-bl', 'tr-br', 'tl-tr', 'tr-tl', 'br-tr', 'bl-tl', 'br-tl', 'bl-tr', 'lc-tr', 'rc-tl'];\nvar COLUMN_MENU_ALIGN_POSITIONS_RTL = ['tr-br', 'tl-bl', 'tr-tl', 'tl-tr', 'br-tr', 'bl-tl', 'br-tl', 'bl-tr', 'lc-tr', 'rc-tl'];\nvar renderColumnFilterContextMenu = function renderColumnFilterContextMenu(computedProps, computedPropsRef) {\n  if (!computedProps) {\n    return null;\n  }\n  var cellProps = computedProps.columnFilterContextMenuProps;\n  if (!cellProps) {\n    return null;\n  }\n  var filterValue = computedProps.computedFilterValueMap ? computedProps.computedFilterValueMap[cellProps.id] : null;\n  if (!filterValue) {\n    return null;\n  }\n  var columnOperators = computedProps.initialProps.filterTypes[filterValue.type].operators || emptyArray;\n  var selected = {\n    operator: filterValue.operator\n  };\n  var showEnableButton = filterValue.active === false;\n  var filterType = computedProps.initialProps.filterTypes[filterValue.type];\n  var isFiltered = computedProps.computedFiltered;\n  var items = function () {\n    var activationItems = ['-', {\n      label: computedProps.i18n('enable', 'Enable'),\n      itemId: 'enableFilter',\n      disabled: !showEnableButton,\n      onClick: function onClick() {\n        var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n          active: true\n        });\n        var computedProps = computedPropsRef.current;\n        if (!computedProps) {\n          return;\n        }\n        computedProps.computedOnColumnFilterValueChange({\n          columnId: cellProps.id,\n          columnIndex: cellProps.computedVisibleIndex,\n          cellProps: cellProps,\n          filterValue: newFilterValue\n        });\n        computedProps.hideColumnFilterContextMenu();\n      }\n    }, {\n      label: computedProps.i18n('disable', 'Disable'),\n      disabled: showEnableButton,\n      itemId: 'disableFilter',\n      onClick: function onClick() {\n        var computedProps = computedPropsRef.current;\n        if (!computedProps) {\n          return;\n        }\n        var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n          active: false\n        });\n        computedProps.computedOnColumnFilterValueChange({\n          columnId: cellProps.id,\n          cellProps: cellProps,\n          columnIndex: cellProps.computedVisibleIndex,\n          filterValue: newFilterValue\n        });\n        computedProps.hideColumnFilterContextMenu();\n      }\n    }, '-', {\n      label: computedProps.i18n('clear', 'Clear'),\n      itemId: 'clearFilter',\n      disabled: filterValue.value === filterType.emptyValue,\n      onClick: function onClick() {\n        var computedProps = computedPropsRef.current;\n        if (!computedProps) {\n          return;\n        }\n        computedProps.clearColumnFilter(cellProps.id);\n        computedProps.hideColumnFilterContextMenu();\n      }\n    }, {\n      label: computedProps.i18n('clearAll', 'Clear All'),\n      itemId: 'clearAllFilters',\n      disabled: !isFiltered,\n      onClick: function onClick() {\n        var computedProps = computedPropsRef.current;\n        if (!computedProps) {\n          return;\n        }\n        computedProps.clearAllFilters();\n        computedProps.hideColumnFilterContextMenu();\n      }\n    }];\n    var items = columnOperators.map(function (operator) {\n      return {\n        label: computedProps.i18n(operator.label, operator.label) || computedProps.i18n(operator.name, operator.name),\n        name: 'operator',\n        itemId: \"operator-\".concat(operator.name),\n        value: operator.name\n      };\n    });\n    items.push.apply(items, activationItems);\n    return items;\n  }();\n  var onSelectionChange = function onSelectionChange(selected) {\n    var operator = selected.operator;\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    var filterTypes = computedProps.initialProps.filterTypes;\n    var filterTypeDescription = filterTypes[filterType.type] || {\n      operators: []\n    };\n    var operatorDescriptor = filterTypeDescription.operators.filter(function (op) {\n      return op.name === operator;\n    })[0];\n    var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n      operator: operator\n    });\n    if (operatorDescriptor && operatorDescriptor.valueOnOperatorSelect !== undefined) {\n      newFilterValue.value = operatorDescriptor.valueOnOperatorSelect;\n    }\n    computedProps.computedOnColumnFilterValueChange({\n      columnId: cellProps.id,\n      cellProps: cellProps,\n      columnIndex: cellProps.computedVisibleIndex,\n      filterValue: newFilterValue\n    });\n    computedProps.hideColumnFilterContextMenu();\n  };\n  var rtl = computedProps.rtl;\n  var menuProps = {\n    autoFocus: true,\n    dismissWithEscape: true,\n    items: items,\n    theme: computedProps.theme,\n    updatePositionOnScroll: computedProps.updateMenuPositionOnScroll,\n    nativeScroll: !_ua.IS_MS_BROWSER,\n    enableSelection: true,\n    maxHeight: computedProps.columnFilterContextMenuConstrainTo ? null : computedProps.getMenuAvailableHeight(),\n    style: {\n      zIndex: 10000,\n      position: computedProps.columnFilterContextMenuPosition || 'absolute'\n    },\n    selected: selected,\n    onSelectionChange: onSelectionChange,\n    onDismiss: computedProps.hideColumnFilterContextMenu,\n    constrainTo: computedProps.columnFilterContextMenuConstrainTo,\n    alignPositions: computedProps.columnFilterContextMenuAlignPositions || rtl ? COLUMN_MENU_ALIGN_POSITIONS_RTL : COLUMN_MENU_ALIGN_POSITIONS,\n    alignTo: computedProps.columnFilterContextMenuAlignToRef.current\n  };\n  var result;\n  if (computedProps.initialProps.renderColumnFilterContextMenu) {\n    result = computedProps.initialProps.renderColumnFilterContextMenu(menuProps, {\n      cellProps: cellProps,\n      grid: computedPropsRef,\n      props: computedProps\n    });\n  }\n  if (result === undefined) {\n    result = _react.default.createElement(_Menu.default, _objectSpread({}, menuProps));\n  }\n  if (computedProps.initialProps.renderGridMenu) {\n    return computedProps.initialProps.renderGridMenu(result, computedProps);\n  }\n  return (0, _renderGridMenu.default)(result, computedProps);\n};\nexports.renderColumnFilterContextMenu = renderColumnFilterContextMenu;\nvar useFilterValue = function useFilterValue(props, _ref, computedPropsRef) {\n  var columnsMap = _ref.columnsMap,\n    enableFiltering = _ref.enableFiltering;\n  var _useProperty = (0, _useProperty5.default)(props, 'filterValue'),\n    _useProperty2 = (0, _slicedToArray2.default)(_useProperty, 2),\n    filterValue = _useProperty2[0],\n    doSetFilterValue = _useProperty2[1];\n  filterValue = (0, _react.useMemo)(function () {\n    return (0, _getFilterValueForColumns.default)(filterValue || [], columnsMap);\n  }, [filterValue || [], columnsMap]);\n  if (!filterValue.length) {\n    filterValue = null;\n  }\n  var setFilterValue = (0, _react.useCallback)(function (filterValue) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    filterValue = (0, _getFilterValueForColumns.default)(filterValue, computedProps.columnsMap);\n    var queue = (0, _batchUpdate.default)();\n    queue.commit(function () {\n      computedProps.setLoadDataTrigger(function (loadDataTrigger) {\n        return [].concat((0, _toConsumableArray2.default)(loadDataTrigger), ['filterValue']);\n      });\n      doSetFilterValue(filterValue);\n    });\n  }, [doSetFilterValue]);\n  return [filterValue, setFilterValue];\n};\nvar isFilterable = function isFilterable(_ref2) {\n  var enableFiltering = _ref2.enableFiltering,\n    filterValue = _ref2.filterValue;\n  if (enableFiltering !== undefined) {\n    return enableFiltering;\n  }\n  if (!Array.isArray(filterValue) || !filterValue.length) {\n    return false;\n  }\n  return true;\n};\nvar useFilters = function useFilters(props, computedProps, computedPropsRef) {\n  var _useProperty3 = (0, _useProperty5.default)(props, 'enableFiltering'),\n    _useProperty4 = (0, _slicedToArray2.default)(_useProperty3, 2),\n    enableFiltering = _useProperty4[0],\n    setEnableFiltering = _useProperty4[1];\n  var isColumnFiltered = (0, _react.useCallback)(function (col) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return false;\n    }\n    var filterValue = computedProps.getColumnFilterValue(col.id);\n    if (!filterValue) {\n      return false;\n    }\n    var filterType = computedProps.initialProps.filterTypes[filterValue.type];\n    return filterValue.value !== filterType.emptyValue;\n  }, []);\n  var columnsMap = (0, _react.useMemo)(function () {\n    return (0, _mapColumns.default)(props.columns, {\n      showWarnings: false\n    });\n  }, [props.columns]);\n  var _useFilterValue = useFilterValue(props, {\n      enableFiltering: enableFiltering,\n      columnsMap: columnsMap\n    }, computedPropsRef),\n    _useFilterValue2 = (0, _slicedToArray2.default)(_useFilterValue, 2),\n    computedFilterValue = _useFilterValue2[0],\n    setFilterValue = _useFilterValue2[1];\n  var getMenuAvailableHeight = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return undefined;\n    }\n    var filtersHeight = 0;\n    if (computedProps.computedFilterable) {\n      var filterNode = computedProps.getDOMNode().querySelector('.InovuaReactDataGrid__column-header__filter-wrapper');\n      if (filterNode) {\n        filtersHeight = filterNode.offsetHeight;\n      }\n    }\n    return computedProps.size ? computedProps.size.height - 5 + filtersHeight : undefined;\n  }, []);\n  var clearAllFilters = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    if (!computedProps.computedFilterValueMap) {\n      return;\n    }\n    var allFiltersValue = [];\n    var headerCells = computedProps.getColumnLayout().getHeaderCells();\n    computedProps.allColumns.forEach(function (column) {\n      var filterValue = computedProps.computedFilterValueMap[column.id];\n      if (!filterValue) {\n        return;\n      }\n      var filterType = computedProps.initialProps.filterTypes[filterValue.type];\n      var headerCell = headerCells[column.computedVisibleIndex];\n      var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n        value: filterType.emptyValue\n      });\n      if (headerCell && headerCell.filter) {\n        headerCell.filter.setValue(newFilterValue.value);\n      }\n      allFiltersValue.push(newFilterValue);\n    });\n    setFilterValue(allFiltersValue);\n  }, [setFilterValue]);\n  var columnFilterContextMenuAlignToRef = (0, _react.useRef)(null);\n  var columnFilterContextMenuConstrainToRef = (0, _react.useRef)(null);\n  var _useState = (0, _react.useState)(null),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    columnFilterContextMenuProps = _useState2[0],\n    setColumnFilterContextMenuProps = _useState2[1];\n  var showColumnFilterContextMenu = (0, _react.useCallback)(function (alignTo, cellProps) {\n    var computedProps = computedPropsRef.current;\n    if (columnFilterContextMenuProps || !computedProps) {\n      return;\n    }\n    columnFilterContextMenuAlignToRef.current = alignTo;\n    columnFilterContextMenuConstrainToRef.current = computedProps.columnFilterContextMenuConstrainTo || computedProps.getDOMNode();\n    if (computedProps.hideColumnContextMenu) {\n      computedProps.hideColumnContextMenu();\n    }\n    setColumnFilterContextMenuProps(cellProps);\n    computedProps.notifyColumnFilterVisibleStateChange(true);\n  }, [setColumnFilterContextMenuProps]);\n  var hideColumnFilterContextMenu = (0, _react.useCallback)(function (node) {\n    var computedProps = computedPropsRef.current;\n    if (columnFilterContextMenuProps && computedProps) {\n      setColumnFilterContextMenuProps(null);\n      computedProps.notifyColumnFilterVisibleStateChange(false);\n    }\n    if (node && !node.type) {\n      var filterIcon = node.querySelector('.InovuaReactDataGrid__column-header__filter-settings-icon');\n      filterIcon.focus();\n    }\n  }, [columnFilterContextMenuProps]);\n  var shouldShowFilteringMenuItems = (0, _react.useCallback)(function () {\n    if (props.showFilteringMenuItems) {\n      return true;\n    }\n    if (computedFilterValue) {\n      return true;\n    }\n    if (enableFiltering) {\n      return true;\n    }\n    return false;\n  }, [computedFilterValue, enableFiltering, props.showFilteringMenuItems]);\n  var computedFilterValueMap = (0, _react.useMemo)(function () {\n    return computedFilterValue ? computedFilterValue.reduce(function (acc, columnFilterValue) {\n      acc[columnFilterValue.name] = columnFilterValue;\n      return acc;\n    }, {}) : null;\n  }, [computedFilterValue]);\n  var computedOnColumnFilterValueChange = (0, _react.useCallback)(function (columnFilterValue) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    var isBinaryOperator = computedProps.isBinaryOperator;\n    if (computedProps.onColumnFilterValueChange) {\n      computedProps.onColumnFilterValueChange(columnFilterValue);\n    }\n    var computedFilterValue = computedProps.computedFilterValue;\n    var newFilterValue = (computedFilterValue || []).map(function (oldFilterValue) {\n      if (oldFilterValue.name === columnFilterValue.columnId) {\n        var emptyValue = getColumnFilterEmptyValue(columnFilterValue.columnId);\n        if (columnFilterValue.filterValue.type === 'date' || columnFilterValue.filterValue.type === 'number') {\n          if (isBinaryOperator(oldFilterValue.operator) && !isBinaryOperator(columnFilterValue.filterValue.operator)) {\n            return _objectSpread(_objectSpread({}, columnFilterValue.filterValue), {}, {\n              value: emptyValue\n            });\n          }\n          if (!isBinaryOperator(oldFilterValue.operator) && isBinaryOperator(columnFilterValue.filterValue.operator)) {\n            return _objectSpread(_objectSpread({}, columnFilterValue.filterValue), {}, {\n              value: columnFilterValue.filterValue && columnFilterValue.filterValue.value != null && columnFilterValue.filterValue.value.start != null ? columnFilterValue.filterValue.value : {\n                start: emptyValue,\n                end: emptyValue\n              }\n            });\n          }\n        }\n        return columnFilterValue.filterValue;\n      }\n      return oldFilterValue;\n    }).filter(function (f) {\n      return !!f;\n    });\n    setFilterValue(newFilterValue);\n  }, [setFilterValue]);\n  var getColumnFilterValue = (0, _react.useCallback)(function (column) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return null;\n    }\n    var col = computedProps.getColumnBy(column);\n    if (!col) {\n      return null;\n    }\n    if (!computedProps.computedFilterValueMap) {\n      return null;\n    }\n    return computedProps.computedFilterValueMap[col.id];\n  }, []);\n  var setColumnFilterValue = (0, _react.useCallback)(function (column, value, operator) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return null;\n    }\n    var filterValue = getColumnFilterValue(column);\n    if (!filterValue) {\n      return;\n    }\n    var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n      value: value\n    });\n    if (operator) {\n      newFilterValue.operator = operator;\n    }\n    var col = computedProps.getColumnBy(column);\n    var headerCells = computedProps.getColumnLayout().getHeaderCells();\n    var headerCell = headerCells[col.computedVisibleIndex];\n    if (!headerCell || !headerCell.filter) {\n      return;\n    }\n    computedProps.computedOnColumnFilterValueChange({\n      columnId: col.id,\n      columnIndex: col.computedVisibleIndex,\n      filterValue: newFilterValue\n    });\n    headerCell.filter.setValue(value);\n  }, []);\n  var getColumnFilterEmptyValue = (0, _react.useCallback)(function (idNameOrIndex) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    var col = computedProps.getColumnBy(idNameOrIndex);\n    if (!col) {\n      return;\n    }\n    if (!computedProps.computedFilterValueMap) {\n      return;\n    }\n    var filterValue = computedProps.computedFilterValueMap[col.id];\n    if (!filterValue) {\n      return;\n    }\n    var filterType = computedProps.initialProps.filterTypes[filterValue.type];\n    return filterType.emptyValue;\n  }, []);\n  var clearColumnFilter = (0, _react.useCallback)(function (idNameOrIndex) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    var col = computedProps.getColumnBy(idNameOrIndex);\n    if (!col) {\n      return;\n    }\n    computedProps.setColumnFilterValue(idNameOrIndex, getColumnFilterEmptyValue(idNameOrIndex));\n  }, []);\n  var isFiltered = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return false;\n    }\n    return (computedProps.computedFilterValue || []).reduce(function (result, filterValue) {\n      if (result) {\n        return true;\n      }\n      var col = computedProps.getColumnBy(filterValue.name);\n      if (col && isColumnFiltered(col)) {\n        return true;\n      }\n      return false;\n    }, false);\n  }, []);\n  var computedFiltered = isFiltered();\n  return {\n    clearColumnFilter: clearColumnFilter,\n    computedOnColumnFilterValueChange: computedOnColumnFilterValueChange,\n    computedFilterValueMap: computedFilterValueMap,\n    computedFilterValue: computedFilterValue,\n    computedFiltered: computedFiltered,\n    computedFilterable: isFilterable({\n      enableFiltering: enableFiltering,\n      filterValue: computedFilterValue\n    }),\n    setEnableFiltering: setEnableFiltering,\n    setFilterValue: setFilterValue,\n    getMenuAvailableHeight: getMenuAvailableHeight,\n    showColumnFilterContextMenu: showColumnFilterContextMenu,\n    hideColumnFilterContextMenu: hideColumnFilterContextMenu,\n    shouldShowFilteringMenuItems: shouldShowFilteringMenuItems,\n    renderColumnFilterContextMenu: renderColumnFilterContextMenu,\n    columnFilterContextMenuProps: columnFilterContextMenuProps,\n    columnFilterContextMenuAlignToRef: columnFilterContextMenuAlignToRef,\n    clearAllFilters: clearAllFilters,\n    getColumnFilterValue: getColumnFilterValue,\n    setColumnFilterValue: setColumnFilterValue,\n    isColumnFiltered: isColumnFiltered\n  };\n};\nvar _default = useFilters;\nexports.default = _default;","map":{"version":3,"names":["_interopRequireDefault","require","_typeof","Object","defineProperty","exports","value","renderColumnFilterContextMenu","default","_toConsumableArray2","_slicedToArray2","_defineProperty2","_react","_interopRequireWildcard","_useProperty5","_getFilterValueForColumns","_batchUpdate","_mapColumns","_ua","_Menu","_renderGridMenu","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","emptyArray","COLUMN_MENU_ALIGN_POSITIONS","COLUMN_MENU_ALIGN_POSITIONS_RTL","computedProps","computedPropsRef","cellProps","columnFilterContextMenuProps","filterValue","computedFilterValueMap","id","columnOperators","initialProps","filterTypes","type","operators","selected","operator","showEnableButton","active","filterType","isFiltered","computedFiltered","items","activationItems","label","i18n","itemId","disabled","onClick","newFilterValue","current","computedOnColumnFilterValueChange","columnId","columnIndex","computedVisibleIndex","hideColumnFilterContextMenu","emptyValue","clearColumnFilter","clearAllFilters","map","name","concat","onSelectionChange","filterTypeDescription","operatorDescriptor","op","valueOnOperatorSelect","undefined","rtl","menuProps","autoFocus","dismissWithEscape","theme","updatePositionOnScroll","updateMenuPositionOnScroll","nativeScroll","IS_MS_BROWSER","enableSelection","maxHeight","columnFilterContextMenuConstrainTo","getMenuAvailableHeight","style","zIndex","position","columnFilterContextMenuPosition","onDismiss","constrainTo","alignPositions","columnFilterContextMenuAlignPositions","alignTo","columnFilterContextMenuAlignToRef","result","grid","props","createElement","renderGridMenu","useFilterValue","_ref","columnsMap","enableFiltering","_useProperty","_useProperty2","doSetFilterValue","useMemo","setFilterValue","useCallback","queue","commit","setLoadDataTrigger","loadDataTrigger","isFilterable","_ref2","Array","isArray","useFilters","_useProperty3","_useProperty4","setEnableFiltering","isColumnFiltered","col","getColumnFilterValue","columns","showWarnings","_useFilterValue","_useFilterValue2","computedFilterValue","filtersHeight","computedFilterable","filterNode","getDOMNode","querySelector","offsetHeight","size","height","allFiltersValue","headerCells","getColumnLayout","getHeaderCells","allColumns","column","headerCell","setValue","useRef","columnFilterContextMenuConstrainToRef","_useState","useState","_useState2","setColumnFilterContextMenuProps","showColumnFilterContextMenu","hideColumnContextMenu","notifyColumnFilterVisibleStateChange","node","filterIcon","focus","shouldShowFilteringMenuItems","showFilteringMenuItems","reduce","acc","columnFilterValue","isBinaryOperator","onColumnFilterValueChange","oldFilterValue","getColumnFilterEmptyValue","start","end","f","getColumnBy","setColumnFilterValue","idNameOrIndex","_default"],"sources":["/Users/alexandre.nepomuceno/Documents/agendaagroamais/node_modules/@inovua/reactdatagrid-community/plugins/filters/useFilters/index.js"],"sourcesContent":["/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.renderColumnFilterContextMenu = exports.default = void 0;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _useProperty5 = _interopRequireDefault(require(\"../../../hooks/useProperty\"));\nvar _getFilterValueForColumns = _interopRequireDefault(require(\"../../../hooks/useDataSource/getFilterValueForColumns\"));\nvar _batchUpdate = _interopRequireDefault(require(\"../../../utils/batchUpdate\"));\nvar _mapColumns = _interopRequireDefault(require(\"../../../mapColumns\"));\nvar _ua = require(\"../../../common/ua\");\nvar _Menu = _interopRequireDefault(require(\"../../../packages/Menu\"));\nvar _renderGridMenu = _interopRequireDefault(require(\"../../../renderGridMenu\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar emptyArray = [];\nvar COLUMN_MENU_ALIGN_POSITIONS = ['tl-bl', 'tr-br', 'tl-tr', 'tr-tl', 'br-tr', 'bl-tl', 'br-tl', 'bl-tr', 'lc-tr', 'rc-tl'];\nvar COLUMN_MENU_ALIGN_POSITIONS_RTL = ['tr-br', 'tl-bl', 'tr-tl', 'tl-tr', 'br-tr', 'bl-tl', 'br-tl', 'bl-tr', 'lc-tr', 'rc-tl'];\nvar renderColumnFilterContextMenu = function renderColumnFilterContextMenu(computedProps, computedPropsRef) {\n  if (!computedProps) {\n    return null;\n  }\n  var cellProps = computedProps.columnFilterContextMenuProps;\n  if (!cellProps) {\n    return null;\n  }\n  var filterValue = computedProps.computedFilterValueMap ? computedProps.computedFilterValueMap[cellProps.id] : null;\n  if (!filterValue) {\n    return null;\n  }\n  var columnOperators = computedProps.initialProps.filterTypes[filterValue.type].operators || emptyArray;\n  var selected = {\n    operator: filterValue.operator\n  };\n  var showEnableButton = filterValue.active === false;\n  var filterType = computedProps.initialProps.filterTypes[filterValue.type];\n  var isFiltered = computedProps.computedFiltered;\n  var items = function () {\n    var activationItems = ['-', {\n      label: computedProps.i18n('enable', 'Enable'),\n      itemId: 'enableFilter',\n      disabled: !showEnableButton,\n      onClick: function onClick() {\n        var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n          active: true\n        });\n        var computedProps = computedPropsRef.current;\n        if (!computedProps) {\n          return;\n        }\n        computedProps.computedOnColumnFilterValueChange({\n          columnId: cellProps.id,\n          columnIndex: cellProps.computedVisibleIndex,\n          cellProps: cellProps,\n          filterValue: newFilterValue\n        });\n        computedProps.hideColumnFilterContextMenu();\n      }\n    }, {\n      label: computedProps.i18n('disable', 'Disable'),\n      disabled: showEnableButton,\n      itemId: 'disableFilter',\n      onClick: function onClick() {\n        var computedProps = computedPropsRef.current;\n        if (!computedProps) {\n          return;\n        }\n        var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n          active: false\n        });\n        computedProps.computedOnColumnFilterValueChange({\n          columnId: cellProps.id,\n          cellProps: cellProps,\n          columnIndex: cellProps.computedVisibleIndex,\n          filterValue: newFilterValue\n        });\n        computedProps.hideColumnFilterContextMenu();\n      }\n    }, '-', {\n      label: computedProps.i18n('clear', 'Clear'),\n      itemId: 'clearFilter',\n      disabled: filterValue.value === filterType.emptyValue,\n      onClick: function onClick() {\n        var computedProps = computedPropsRef.current;\n        if (!computedProps) {\n          return;\n        }\n        computedProps.clearColumnFilter(cellProps.id);\n        computedProps.hideColumnFilterContextMenu();\n      }\n    }, {\n      label: computedProps.i18n('clearAll', 'Clear All'),\n      itemId: 'clearAllFilters',\n      disabled: !isFiltered,\n      onClick: function onClick() {\n        var computedProps = computedPropsRef.current;\n        if (!computedProps) {\n          return;\n        }\n        computedProps.clearAllFilters();\n        computedProps.hideColumnFilterContextMenu();\n      }\n    }];\n    var items = columnOperators.map(function (operator) {\n      return {\n        label: computedProps.i18n(operator.label, operator.label) || computedProps.i18n(operator.name, operator.name),\n        name: 'operator',\n        itemId: \"operator-\".concat(operator.name),\n        value: operator.name\n      };\n    });\n    items.push.apply(items, activationItems);\n    return items;\n  }();\n  var onSelectionChange = function onSelectionChange(selected) {\n    var operator = selected.operator;\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    var filterTypes = computedProps.initialProps.filterTypes;\n    var filterTypeDescription = filterTypes[filterType.type] || {\n      operators: []\n    };\n    var operatorDescriptor = filterTypeDescription.operators.filter(function (op) {\n      return op.name === operator;\n    })[0];\n    var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n      operator: operator\n    });\n    if (operatorDescriptor && operatorDescriptor.valueOnOperatorSelect !== undefined) {\n      newFilterValue.value = operatorDescriptor.valueOnOperatorSelect;\n    }\n    computedProps.computedOnColumnFilterValueChange({\n      columnId: cellProps.id,\n      cellProps: cellProps,\n      columnIndex: cellProps.computedVisibleIndex,\n      filterValue: newFilterValue\n    });\n    computedProps.hideColumnFilterContextMenu();\n  };\n  var rtl = computedProps.rtl;\n  var menuProps = {\n    autoFocus: true,\n    dismissWithEscape: true,\n    items: items,\n    theme: computedProps.theme,\n    updatePositionOnScroll: computedProps.updateMenuPositionOnScroll,\n    nativeScroll: !_ua.IS_MS_BROWSER,\n    enableSelection: true,\n    maxHeight: computedProps.columnFilterContextMenuConstrainTo ? null : computedProps.getMenuAvailableHeight(),\n    style: {\n      zIndex: 10000,\n      position: computedProps.columnFilterContextMenuPosition || 'absolute'\n    },\n    selected: selected,\n    onSelectionChange: onSelectionChange,\n    onDismiss: computedProps.hideColumnFilterContextMenu,\n    constrainTo: computedProps.columnFilterContextMenuConstrainTo,\n    alignPositions: computedProps.columnFilterContextMenuAlignPositions || rtl ? COLUMN_MENU_ALIGN_POSITIONS_RTL : COLUMN_MENU_ALIGN_POSITIONS,\n    alignTo: computedProps.columnFilterContextMenuAlignToRef.current\n  };\n  var result;\n  if (computedProps.initialProps.renderColumnFilterContextMenu) {\n    result = computedProps.initialProps.renderColumnFilterContextMenu(menuProps, {\n      cellProps: cellProps,\n      grid: computedPropsRef,\n      props: computedProps\n    });\n  }\n  if (result === undefined) {\n    result = _react.default.createElement(_Menu.default, _objectSpread({}, menuProps));\n  }\n  if (computedProps.initialProps.renderGridMenu) {\n    return computedProps.initialProps.renderGridMenu(result, computedProps);\n  }\n  return (0, _renderGridMenu.default)(result, computedProps);\n};\nexports.renderColumnFilterContextMenu = renderColumnFilterContextMenu;\nvar useFilterValue = function useFilterValue(props, _ref, computedPropsRef) {\n  var columnsMap = _ref.columnsMap,\n    enableFiltering = _ref.enableFiltering;\n  var _useProperty = (0, _useProperty5.default)(props, 'filterValue'),\n    _useProperty2 = (0, _slicedToArray2.default)(_useProperty, 2),\n    filterValue = _useProperty2[0],\n    doSetFilterValue = _useProperty2[1];\n  filterValue = (0, _react.useMemo)(function () {\n    return (0, _getFilterValueForColumns.default)(filterValue || [], columnsMap);\n  }, [filterValue || [], columnsMap]);\n  if (!filterValue.length) {\n    filterValue = null;\n  }\n  var setFilterValue = (0, _react.useCallback)(function (filterValue) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    filterValue = (0, _getFilterValueForColumns.default)(filterValue, computedProps.columnsMap);\n    var queue = (0, _batchUpdate.default)();\n    queue.commit(function () {\n      computedProps.setLoadDataTrigger(function (loadDataTrigger) {\n        return [].concat((0, _toConsumableArray2.default)(loadDataTrigger), ['filterValue']);\n      });\n      doSetFilterValue(filterValue);\n    });\n  }, [doSetFilterValue]);\n  return [filterValue, setFilterValue];\n};\nvar isFilterable = function isFilterable(_ref2) {\n  var enableFiltering = _ref2.enableFiltering,\n    filterValue = _ref2.filterValue;\n  if (enableFiltering !== undefined) {\n    return enableFiltering;\n  }\n  if (!Array.isArray(filterValue) || !filterValue.length) {\n    return false;\n  }\n  return true;\n};\nvar useFilters = function useFilters(props, computedProps, computedPropsRef) {\n  var _useProperty3 = (0, _useProperty5.default)(props, 'enableFiltering'),\n    _useProperty4 = (0, _slicedToArray2.default)(_useProperty3, 2),\n    enableFiltering = _useProperty4[0],\n    setEnableFiltering = _useProperty4[1];\n  var isColumnFiltered = (0, _react.useCallback)(function (col) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return false;\n    }\n    var filterValue = computedProps.getColumnFilterValue(col.id);\n    if (!filterValue) {\n      return false;\n    }\n    var filterType = computedProps.initialProps.filterTypes[filterValue.type];\n    return filterValue.value !== filterType.emptyValue;\n  }, []);\n  var columnsMap = (0, _react.useMemo)(function () {\n    return (0, _mapColumns.default)(props.columns, {\n      showWarnings: false\n    });\n  }, [props.columns]);\n  var _useFilterValue = useFilterValue(props, {\n      enableFiltering: enableFiltering,\n      columnsMap: columnsMap\n    }, computedPropsRef),\n    _useFilterValue2 = (0, _slicedToArray2.default)(_useFilterValue, 2),\n    computedFilterValue = _useFilterValue2[0],\n    setFilterValue = _useFilterValue2[1];\n  var getMenuAvailableHeight = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return undefined;\n    }\n    var filtersHeight = 0;\n    if (computedProps.computedFilterable) {\n      var filterNode = computedProps.getDOMNode().querySelector('.InovuaReactDataGrid__column-header__filter-wrapper');\n      if (filterNode) {\n        filtersHeight = filterNode.offsetHeight;\n      }\n    }\n    return computedProps.size ? computedProps.size.height - 5 + filtersHeight : undefined;\n  }, []);\n  var clearAllFilters = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    if (!computedProps.computedFilterValueMap) {\n      return;\n    }\n    var allFiltersValue = [];\n    var headerCells = computedProps.getColumnLayout().getHeaderCells();\n    computedProps.allColumns.forEach(function (column) {\n      var filterValue = computedProps.computedFilterValueMap[column.id];\n      if (!filterValue) {\n        return;\n      }\n      var filterType = computedProps.initialProps.filterTypes[filterValue.type];\n      var headerCell = headerCells[column.computedVisibleIndex];\n      var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n        value: filterType.emptyValue\n      });\n      if (headerCell && headerCell.filter) {\n        headerCell.filter.setValue(newFilterValue.value);\n      }\n      allFiltersValue.push(newFilterValue);\n    });\n    setFilterValue(allFiltersValue);\n  }, [setFilterValue]);\n  var columnFilterContextMenuAlignToRef = (0, _react.useRef)(null);\n  var columnFilterContextMenuConstrainToRef = (0, _react.useRef)(null);\n  var _useState = (0, _react.useState)(null),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    columnFilterContextMenuProps = _useState2[0],\n    setColumnFilterContextMenuProps = _useState2[1];\n  var showColumnFilterContextMenu = (0, _react.useCallback)(function (alignTo, cellProps) {\n    var computedProps = computedPropsRef.current;\n    if (columnFilterContextMenuProps || !computedProps) {\n      return;\n    }\n    columnFilterContextMenuAlignToRef.current = alignTo;\n    columnFilterContextMenuConstrainToRef.current = computedProps.columnFilterContextMenuConstrainTo || computedProps.getDOMNode();\n    if (computedProps.hideColumnContextMenu) {\n      computedProps.hideColumnContextMenu();\n    }\n    setColumnFilterContextMenuProps(cellProps);\n    computedProps.notifyColumnFilterVisibleStateChange(true);\n  }, [setColumnFilterContextMenuProps]);\n  var hideColumnFilterContextMenu = (0, _react.useCallback)(function (node) {\n    var computedProps = computedPropsRef.current;\n    if (columnFilterContextMenuProps && computedProps) {\n      setColumnFilterContextMenuProps(null);\n      computedProps.notifyColumnFilterVisibleStateChange(false);\n    }\n    if (node && !node.type) {\n      var filterIcon = node.querySelector('.InovuaReactDataGrid__column-header__filter-settings-icon');\n      filterIcon.focus();\n    }\n  }, [columnFilterContextMenuProps]);\n  var shouldShowFilteringMenuItems = (0, _react.useCallback)(function () {\n    if (props.showFilteringMenuItems) {\n      return true;\n    }\n    if (computedFilterValue) {\n      return true;\n    }\n    if (enableFiltering) {\n      return true;\n    }\n    return false;\n  }, [computedFilterValue, enableFiltering, props.showFilteringMenuItems]);\n  var computedFilterValueMap = (0, _react.useMemo)(function () {\n    return computedFilterValue ? computedFilterValue.reduce(function (acc, columnFilterValue) {\n      acc[columnFilterValue.name] = columnFilterValue;\n      return acc;\n    }, {}) : null;\n  }, [computedFilterValue]);\n  var computedOnColumnFilterValueChange = (0, _react.useCallback)(function (columnFilterValue) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    var isBinaryOperator = computedProps.isBinaryOperator;\n    if (computedProps.onColumnFilterValueChange) {\n      computedProps.onColumnFilterValueChange(columnFilterValue);\n    }\n    var computedFilterValue = computedProps.computedFilterValue;\n    var newFilterValue = (computedFilterValue || []).map(function (oldFilterValue) {\n      if (oldFilterValue.name === columnFilterValue.columnId) {\n        var emptyValue = getColumnFilterEmptyValue(columnFilterValue.columnId);\n        if (columnFilterValue.filterValue.type === 'date' || columnFilterValue.filterValue.type === 'number') {\n          if (isBinaryOperator(oldFilterValue.operator) && !isBinaryOperator(columnFilterValue.filterValue.operator)) {\n            return _objectSpread(_objectSpread({}, columnFilterValue.filterValue), {}, {\n              value: emptyValue\n            });\n          }\n          if (!isBinaryOperator(oldFilterValue.operator) && isBinaryOperator(columnFilterValue.filterValue.operator)) {\n            return _objectSpread(_objectSpread({}, columnFilterValue.filterValue), {}, {\n              value: columnFilterValue.filterValue && columnFilterValue.filterValue.value != null && columnFilterValue.filterValue.value.start != null ? columnFilterValue.filterValue.value : {\n                start: emptyValue,\n                end: emptyValue\n              }\n            });\n          }\n        }\n        return columnFilterValue.filterValue;\n      }\n      return oldFilterValue;\n    }).filter(function (f) {\n      return !!f;\n    });\n    setFilterValue(newFilterValue);\n  }, [setFilterValue]);\n  var getColumnFilterValue = (0, _react.useCallback)(function (column) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return null;\n    }\n    var col = computedProps.getColumnBy(column);\n    if (!col) {\n      return null;\n    }\n    if (!computedProps.computedFilterValueMap) {\n      return null;\n    }\n    return computedProps.computedFilterValueMap[col.id];\n  }, []);\n  var setColumnFilterValue = (0, _react.useCallback)(function (column, value, operator) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return null;\n    }\n    var filterValue = getColumnFilterValue(column);\n    if (!filterValue) {\n      return;\n    }\n    var newFilterValue = _objectSpread(_objectSpread({}, filterValue), {}, {\n      value: value\n    });\n    if (operator) {\n      newFilterValue.operator = operator;\n    }\n    var col = computedProps.getColumnBy(column);\n    var headerCells = computedProps.getColumnLayout().getHeaderCells();\n    var headerCell = headerCells[col.computedVisibleIndex];\n    if (!headerCell || !headerCell.filter) {\n      return;\n    }\n    computedProps.computedOnColumnFilterValueChange({\n      columnId: col.id,\n      columnIndex: col.computedVisibleIndex,\n      filterValue: newFilterValue\n    });\n    headerCell.filter.setValue(value);\n  }, []);\n  var getColumnFilterEmptyValue = (0, _react.useCallback)(function (idNameOrIndex) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    var col = computedProps.getColumnBy(idNameOrIndex);\n    if (!col) {\n      return;\n    }\n    if (!computedProps.computedFilterValueMap) {\n      return;\n    }\n    var filterValue = computedProps.computedFilterValueMap[col.id];\n    if (!filterValue) {\n      return;\n    }\n    var filterType = computedProps.initialProps.filterTypes[filterValue.type];\n    return filterType.emptyValue;\n  }, []);\n  var clearColumnFilter = (0, _react.useCallback)(function (idNameOrIndex) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    var col = computedProps.getColumnBy(idNameOrIndex);\n    if (!col) {\n      return;\n    }\n    computedProps.setColumnFilterValue(idNameOrIndex, getColumnFilterEmptyValue(idNameOrIndex));\n  }, []);\n  var isFiltered = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return false;\n    }\n    return (computedProps.computedFilterValue || []).reduce(function (result, filterValue) {\n      if (result) {\n        return true;\n      }\n      var col = computedProps.getColumnBy(filterValue.name);\n      if (col && isColumnFiltered(col)) {\n        return true;\n      }\n      return false;\n    }, false);\n  }, []);\n  var computedFiltered = isFiltered();\n  return {\n    clearColumnFilter: clearColumnFilter,\n    computedOnColumnFilterValueChange: computedOnColumnFilterValueChange,\n    computedFilterValueMap: computedFilterValueMap,\n    computedFilterValue: computedFilterValue,\n    computedFiltered: computedFiltered,\n    computedFilterable: isFilterable({\n      enableFiltering: enableFiltering,\n      filterValue: computedFilterValue\n    }),\n    setEnableFiltering: setEnableFiltering,\n    setFilterValue: setFilterValue,\n    getMenuAvailableHeight: getMenuAvailableHeight,\n    showColumnFilterContextMenu: showColumnFilterContextMenu,\n    hideColumnFilterContextMenu: hideColumnFilterContextMenu,\n    shouldShowFilteringMenuItems: shouldShowFilteringMenuItems,\n    renderColumnFilterContextMenu: renderColumnFilterContextMenu,\n    columnFilterContextMenuProps: columnFilterContextMenuProps,\n    columnFilterContextMenuAlignToRef: columnFilterContextMenuAlignToRef,\n    clearAllFilters: clearAllFilters,\n    getColumnFilterValue: getColumnFilterValue,\n    setColumnFilterValue: setColumnFilterValue,\n    isColumnFiltered: isColumnFiltered\n  };\n};\nvar _default = useFilters;\nexports.default = _default;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}