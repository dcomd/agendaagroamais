{"ast":null,"code":"/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\nvar _regionAlign = _interopRequireDefault(require(\"../../../packages/region-align\"));\nvar _assign = _interopRequireDefault(require(\"../../../common/assign\"));\nvar _align = _interopRequireDefault(require(\"./align\"));\nvar _getGlobal = require(\"../../../getGlobal\");\nvar globalObject = (0, _getGlobal.getGlobal)();\nfunction transformPxStringToInt(pxValue) {\n  var value = parseFloat(pxValue.split('px')[0]);\n  return typeof value === 'number' && !isNaN(value) ? value : 0;\n}\nfunction _default(props, state, domNode) {\n  var _this = this;\n  if (state.activeSubMenuIndex == null || !this.componentIsMounted) {\n    this.prevMenuIndex = -1;\n    return;\n  }\n  var overItem = this.getItemByIndex(state.activeSubMenuIndex);\n  var offset = overItem && overItem.getOffset();\n  var left = offset.left + offset.width;\n  var top = offset.top;\n  var menuIndex = state.activeSubMenuIndex;\n  var sameMenu = this.prevMenuIndex == menuIndex;\n  if (this.aligning && !sameMenu) {\n    this.aligning = false;\n  }\n  this.prevMenuIndex = menuIndex;\n  var style = {\n    left: left,\n    top: top,\n    pointerEvents: 'none',\n    position: 'absolute'\n  };\n  if (!this.aligning && !sameMenu) {\n    setTimeout(function () {\n      if (!_this.componentIsMounted) {\n        return;\n      }\n      var thisRegion = _regionAlign.default.from(domNode);\n      var menuComputedStyle = globalObject.getComputedStyle(domNode);\n      var paddingLeft = transformPxStringToInt(menuComputedStyle.paddingLeft);\n      var menuItemRegion = _regionAlign.default.from({\n        left: thisRegion.left + paddingLeft,\n        top: thisRegion.top + offset.top,\n        width: offset.width,\n        height: offset.height\n      });\n      var subMenuMounted = _this.subMenu && _this.subMenu.componentIsMounted;\n      if (!subMenuMounted) {\n        return;\n      }\n      var submenuNode = _this.subMenu.node;\n      var subMenuRegion = _regionAlign.default.from(submenuNode);\n      var initialHeight = subMenuRegion.height;\n      var alignPosition = (0, _align.default)(props, subMenuRegion, menuItemRegion, props.constrainTo, domNode);\n      var newHeight = subMenuRegion.height;\n      var maxHeight;\n      if (newHeight < initialHeight && props.subMenuConstrainMargin != null) {\n        maxHeight = newHeight - props.subMenuConstrainMargin;\n      } else if (newHeight < initialHeight) {\n        maxHeight = newHeight;\n      }\n      if (maxHeight && alignPosition == -1) {\n        subMenuRegion.top = subMenuRegion.bottom - maxHeight;\n      }\n      var newLeft = subMenuRegion.left - thisRegion.left;\n      var newTop = subMenuRegion.top - thisRegion.top;\n      if (Math.abs(newLeft - left) < 5) {\n        newLeft = left;\n      }\n      if (Math.abs(newTop - top) < 5) {\n        newTop = top;\n      }\n      _this.subMenuPosition = newLeft < 0 ? 'left' : 'right';\n      if (newHeight === 0) {\n        return;\n      }\n      _this.alignOffset = {\n        left: newLeft,\n        top: newTop\n      };\n      _this.aligning = true;\n      _this.setState({\n        submenuAlignPosition: alignPosition,\n        submenuMaxHeight: props.submenuMaxHeight || maxHeight\n      });\n    }, 0);\n  }\n  if (sameMenu || this.aligning && this.alignOffset) {\n    (0, _assign.default)(style, this.alignOffset);\n    style.visibility = 'visible';\n    delete style.pointerEvents;\n    delete style.overflow;\n  }\n  this.aligning = false;\n  return style;\n}","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_default","_regionAlign","_assign","_align","_getGlobal","globalObject","getGlobal","transformPxStringToInt","pxValue","parseFloat","split","isNaN","props","state","domNode","_this","activeSubMenuIndex","componentIsMounted","prevMenuIndex","overItem","getItemByIndex","offset","getOffset","left","width","top","menuIndex","sameMenu","aligning","style","pointerEvents","position","setTimeout","thisRegion","from","menuComputedStyle","getComputedStyle","paddingLeft","menuItemRegion","height","subMenuMounted","subMenu","submenuNode","node","subMenuRegion","initialHeight","alignPosition","constrainTo","newHeight","maxHeight","subMenuConstrainMargin","bottom","newLeft","newTop","Math","abs","subMenuPosition","alignOffset","setState","submenuAlignPosition","submenuMaxHeight","visibility","overflow"],"sources":["/Users/alexandre.nepomuceno/Documents/agenda/node_modules/@inovua/reactdatagrid-community/packages/Menu/src/getSubMenuStyle.js"],"sourcesContent":["/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\nvar _regionAlign = _interopRequireDefault(require(\"../../../packages/region-align\"));\nvar _assign = _interopRequireDefault(require(\"../../../common/assign\"));\nvar _align = _interopRequireDefault(require(\"./align\"));\nvar _getGlobal = require(\"../../../getGlobal\");\nvar globalObject = (0, _getGlobal.getGlobal)();\nfunction transformPxStringToInt(pxValue) {\n  var value = parseFloat(pxValue.split('px')[0]);\n  return typeof value === 'number' && !isNaN(value) ? value : 0;\n}\nfunction _default(props, state, domNode) {\n  var _this = this;\n  if (state.activeSubMenuIndex == null || !this.componentIsMounted) {\n    this.prevMenuIndex = -1;\n    return;\n  }\n  var overItem = this.getItemByIndex(state.activeSubMenuIndex);\n  var offset = overItem && overItem.getOffset();\n  var left = offset.left + offset.width;\n  var top = offset.top;\n  var menuIndex = state.activeSubMenuIndex;\n  var sameMenu = this.prevMenuIndex == menuIndex;\n  if (this.aligning && !sameMenu) {\n    this.aligning = false;\n  }\n  this.prevMenuIndex = menuIndex;\n  var style = {\n    left: left,\n    top: top,\n    pointerEvents: 'none',\n    position: 'absolute'\n  };\n  if (!this.aligning && !sameMenu) {\n    setTimeout(function () {\n      if (!_this.componentIsMounted) {\n        return;\n      }\n      var thisRegion = _regionAlign.default.from(domNode);\n      var menuComputedStyle = globalObject.getComputedStyle(domNode);\n      var paddingLeft = transformPxStringToInt(menuComputedStyle.paddingLeft);\n      var menuItemRegion = _regionAlign.default.from({\n        left: thisRegion.left + paddingLeft,\n        top: thisRegion.top + offset.top,\n        width: offset.width,\n        height: offset.height\n      });\n      var subMenuMounted = _this.subMenu && _this.subMenu.componentIsMounted;\n      if (!subMenuMounted) {\n        return;\n      }\n      var submenuNode = _this.subMenu.node;\n      var subMenuRegion = _regionAlign.default.from(submenuNode);\n      var initialHeight = subMenuRegion.height;\n      var alignPosition = (0, _align.default)(props, subMenuRegion, menuItemRegion, props.constrainTo, domNode);\n      var newHeight = subMenuRegion.height;\n      var maxHeight;\n      if (newHeight < initialHeight && props.subMenuConstrainMargin != null) {\n        maxHeight = newHeight - props.subMenuConstrainMargin;\n      } else if (newHeight < initialHeight) {\n        maxHeight = newHeight;\n      }\n      if (maxHeight && alignPosition == -1) {\n        subMenuRegion.top = subMenuRegion.bottom - maxHeight;\n      }\n      var newLeft = subMenuRegion.left - thisRegion.left;\n      var newTop = subMenuRegion.top - thisRegion.top;\n      if (Math.abs(newLeft - left) < 5) {\n        newLeft = left;\n      }\n      if (Math.abs(newTop - top) < 5) {\n        newTop = top;\n      }\n      _this.subMenuPosition = newLeft < 0 ? 'left' : 'right';\n      if (newHeight === 0) {\n        return;\n      }\n      _this.alignOffset = {\n        left: newLeft,\n        top: newTop\n      };\n      _this.aligning = true;\n      _this.setState({\n        submenuAlignPosition: alignPosition,\n        submenuMaxHeight: props.submenuMaxHeight || maxHeight\n      });\n    }, 0);\n  }\n  if (sameMenu || this.aligning && this.alignOffset) {\n    (0, _assign.default)(style, this.alignOffset);\n    style.visibility = 'visible';\n    delete style.pointerEvents;\n    delete style.overflow;\n  }\n  this.aligning = false;\n  return style;\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}