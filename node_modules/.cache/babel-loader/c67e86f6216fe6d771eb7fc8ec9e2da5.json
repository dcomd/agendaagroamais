{"ast":null,"code":"/** \n * Copyright Â© INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _typeof3 = require(\"@babel/runtime/helpers/typeof\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.REMAINING_ITEMS = void 0;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _cleanProps = _interopRequireDefault(require(\"../../../common/cleanProps\"));\nvar _NotifyResize = require(\"../../NotifyResize\");\nvar _throttle = _interopRequireDefault(require(\"../../../common/throttle\"));\nvar _containsNode = _interopRequireDefault(require(\"../../../common/containsNode\"));\nvar _TextInput = _interopRequireDefault(require(\"./TextInput\"));\nvar _Value = _interopRequireDefault(require(\"./Value\"));\nvar _ClearButton = _interopRequireDefault(require(\"./ClearButton\"));\nvar _ToggleButton = _interopRequireDefault(require(\"./ToggleButton\"));\nvar _List = _interopRequireDefault(require(\"./List\"));\nvar _Icons = require(\"./Icons\");\nvar _shouldComponentUpdate2 = _interopRequireDefault(require(\"./utils/shouldComponentUpdate\"));\nvar _getRootClassName = _interopRequireDefault(require(\"./utils/getRootClassName\"));\nvar _getListProps2 = _interopRequireDefault(require(\"./utils/getListProps\"));\nvar _getValueProps2 = _interopRequireDefault(require(\"./utils/getValueProps\"));\nvar _getDataProp = _interopRequireDefault(require(\"./utils/getDataProp\"));\nvar _getNewMultipleValue = _interopRequireDefault(require(\"./utils/getNewMultipleValue\"));\nvar _getNewSingleValue = _interopRequireDefault(require(\"./utils/getNewSingleValue\"));\nvar _findItemIndex = _interopRequireDefault(require(\"./utils/findItemIndex\"));\nvar _filterByValue = _interopRequireDefault(require(\"./utils/filterByValue\"));\nvar _filterByText = _interopRequireDefault(require(\"./utils/filterByText\"));\nvar _deselectValue = _interopRequireDefault(require(\"./utils/deselectValue\"));\nvar _getNewActiveTagOnRemove = _interopRequireDefault(require(\"./utils/getNewActiveTagOnRemove\"));\nvar _getNextItem = _interopRequireDefault(require(\"./utils/getNextItem\"));\nvar _groupItems = _interopRequireDefault(require(\"./utils/groupItems\"));\nvar _getValueMap = _interopRequireDefault(require(\"./utils/getValueMap\"));\nvar _getGroups = _interopRequireDefault(require(\"./utils/getGroups\"));\nvar _PaginationToolbar = require(\"../../PaginationToolbar\");\nvar _getGlobal = require(\"../../../getGlobal\");\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || _typeof3(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nvar globalObject = (0, _getGlobal.getGlobal)();\nvar REMAINING_ITEMS = 'REMAINING_ITEMS';\nexports.REMAINING_ITEMS = REMAINING_ITEMS;\nvar emptyObject = {};\nvar InovuaComboBox = function (_Component) {\n  (0, _inherits2.default)(InovuaComboBox, _Component);\n  var _super = _createSuper(InovuaComboBox);\n  function InovuaComboBox(props) {\n    var _this;\n    (0, _classCallCheck2.default)(this, InovuaComboBox);\n    _this = _super.call(this, props);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"componentDidUpdate\", function (prevProps) {\n      if (_this.isExpandedControlled() && _this.props.expanded !== prevProps.expanded) {\n        _this.onExpand();\n      }\n      if (prevProps.dataSource !== _this.props.dataSource) {\n        _this.loadDataSource(_this.props.dataSource, _this.props);\n      }\n      if (_this.props.idProperty !== prevProps.idProperty) {\n        _this.updateGetIdProperty(_this.props);\n      }\n      if (_this.props.displayProperty !== prevProps.displayProperty) {\n        _this.updateGetDisplayProperty(_this.props);\n      }\n      if (_this.props.filterProperty !== prevProps.filterProperty) {\n        _this.updateGetFilterProperty(_this.props);\n      }\n      if (_this.props.groupProperty !== prevProps.groupProperty) {\n        _this.updateGroups({\n          groupProperty: _this.props.groupProperty\n        });\n      }\n      if (_this.isTextControled() && _this.props.text !== prevProps.text) {\n        _this.onTextUpdate(_this.props.text);\n      }\n      if (_this.isActiveItemControlled() && prevProps.changeValueOnNavigation && !prevProps.multiple && prevProps.activeItem !== _this.props.activeItem) {\n        _this.setValue(_this.props.activeItem, {\n          action: 'navigate'\n        });\n      }\n      if (_this.isExpandedControlled() && !prevProps.expanded && _this.props.expanded) {\n        _this.loadLazyDataSource({\n          action: 'expand',\n          text: ''\n        });\n      }\n    });\n    _this.refTools = function (tools) {\n      _this.toolsNode = tools;\n    };\n    _this.state = {\n      loading: props.defaultLoading || !!(props.dataSource && props.dataSource.then),\n      value: props.defaultValue,\n      valueMap: {},\n      text: props.defaultText,\n      activeTag: props.defaultActiveTag,\n      activeItem: props.defaultActiveItem || !props.multiple && props.defaultValue,\n      expanded: props.defaultExpanded,\n      toolsSize: {\n        width: 0,\n        height: 0\n      },\n      over: false,\n      focus: false\n    };\n    _this.getData = _this.getData.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleItemClick = _this.handleItemClick.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleTextChange = _this.handleTextChange.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleTextInputClick = _this.handleTextInputClick.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleTagClick = _this.handleTagClick.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleRemoveTag = _this.handleRemoveTag.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleComboClick = _this.handleComboClick.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleComboKeyDown = _this.handleComboKeyDown.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleComboFocus = _this.handleComboFocus.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleComboBlur = _this.handleComboBlur.bind((0, _assertThisInitialized2.default)(_this));\n    _this.getComboNode = _this.getComboNode.bind((0, _assertThisInitialized2.default)(_this));\n    _this.clear = _this.clear.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleMouseEnter = _this.handleMouseEnter.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleMouseLeave = _this.handleMouseLeave.bind((0, _assertThisInitialized2.default)(_this));\n    _this.toggleExpand = _this.toggleExpand.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleToolsSize = _this.handleToolsSize.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleRemoveMultipleTag = _this.handleRemoveMultipleTag.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleListScrollBottom = _this.handleListScrollBottom.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleDelete = _this.handleDelete.bind((0, _assertThisInitialized2.default)(_this));\n    _this.getListNode = _this.getListNode.bind((0, _assertThisInitialized2.default)(_this));\n    _this.updateGetIdProperty();\n    _this.updateGetDisplayProperty();\n    _this.updateGetFilterProperty();\n    _this.addTextInputRef = function (ref) {\n      _this.textInput = ref;\n    };\n    _this.addRootRef = function (ref) {\n      _this.comboNode = ref;\n    };\n    _this.addListRef = function (ref) {\n      _this.listNode = ref;\n    };\n    _this.setActiveItem = (0, _throttle.default)(_this.setActiveItem, 16);\n    return _this;\n  }\n  (0, _createClass2.default)(InovuaComboBox, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.autoFocus) {\n        this.focus();\n      }\n      if (this.state.activeItem && this.state.activeItemIndex == null) {\n        this.setState({\n          activeItemIndex: this.getItemIndexById(this.state.activeItem)\n        });\n      }\n      if (!this.isRemoteFilter()) {\n        this.doFilter();\n      }\n      if (!this.props.lazyDataSource) {\n        this.loadDataSource(this.props.dataSource);\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return (0, _shouldComponentUpdate2.default)(this, nextProps, nextState);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = this.props,\n        state = this.state;\n      var textInput = this.renderTextInput();\n      var className = (0, _getRootClassName.default)({\n        props: props,\n        state: state,\n        computed: {\n          value: this.getValue()\n        }\n      });\n      var expanded = this.getExpanded();\n      var items = this.getSelectedItems();\n      var groupedItems = this.groupedItems = this.getGroupedItems(this.getSelectedItems());\n      this.areItemsGrouped = this.groupedItems && this.groupedItems.remainingItems && this.groupedItems.remainingItems.length;\n      var style = this.getRootStyle();\n      var filteredData = this.getFilteredData();\n      var text = this.getText();\n      this.isNewCustomTagValid = (!filteredData || filteredData.length === 0) && !!text && props.allowCustomTagCreation;\n      return _react.default.createElement(\"div\", _objectSpread(_objectSpread({}, (0, _cleanProps.default)(props, InovuaComboBox.propTypes)), {}, {\n        onClick: this.handleComboClick,\n        onMouseDown: this.handleComboMouseDown,\n        onKeyDown: this.handleComboKeyDown,\n        onFocus: this.handleComboFocus,\n        onBlur: this.handleComboBlur,\n        className: className,\n        style: style,\n        ref: this.addRootRef,\n        onMouseEnter: this.handleMouseEnter,\n        onMouseLeave: this.handleMouseLeave,\n        tabIndex: 0\n      }), _react.default.createElement(_Value.default, _objectSpread(_objectSpread({}, this.getValueProps({\n        items: items,\n        groupedItems: groupedItems\n      })), {}, {\n        textInput: textInput,\n        toolsSize: state.toolsSize\n      })), _react.default.createElement(\"div\", {\n        className: \"\".concat(props.rootClassName, \"__tools\"),\n        ref: this.refTools\n      }, this.renderSpinner(), this.renderClearIcon(), this.renderToggleIcon(), this.props.tagEllipsis && _react.default.createElement(_NotifyResize.NotifyResize, {\n        notifyOnMount: true,\n        onResize: this.handleToolsSize\n      })), expanded && this.renderList());\n    }\n  }, {\n    key: \"getRootStyle\",\n    value: function getRootStyle() {\n      var props = this.props,\n        state = this.state;\n      var style = _objectSpread({}, props.style);\n      if (props.borderRadius) {\n        style.borderRadius = props.borderRadius;\n      }\n      if (props.padding) {\n        style.padding = props.padding;\n      }\n      if (props.border) {\n        style.border = props.border;\n      }\n      if (props.background) {\n        style.background = props.background;\n      }\n      if (!this.getValue() && props.emptyStyle) {\n        style = _objectSpread(_objectSpread({}, style), props.emptyStyle);\n      }\n      if (props.disabledStyle && props.disabled) {\n        style = _objectSpread(_objectSpread({}, style), props.disabledStyle);\n      }\n      if (state.focus && props.focusedStyle) {\n        style = _objectSpread(_objectSpread({}, style), props.focusedStyle);\n      }\n      return style;\n    }\n  }, {\n    key: \"renderList\",\n    value: function renderList() {\n      var listProps = this.getListProps();\n      var result;\n      if (typeof this.props.renderList === 'function') {\n        result = this.props.renderList({\n          domProps: listProps,\n          items: this.getFilteredData()\n        });\n      }\n      if (result === undefined) {\n        result = _react.default.createElement(_List.default, _objectSpread({}, listProps));\n      }\n      if (typeof this.props.renderListComponent === 'function') {\n        var res = this.props.renderListComponent(result);\n        if ((0, _typeof2.default)(res) !== undefined) {\n          return res;\n        }\n        result = res;\n      }\n      return result;\n    }\n  }, {\n    key: \"renderClearIcon\",\n    value: function renderClearIcon() {\n      var props = this.props,\n        state = this.state;\n      var searchable = props.searchable;\n      var text = this.getText();\n      var value = this.getValue();\n      var showClearIcon = (text || value != null) && props.clearIcon;\n      if (props.showClearIconOnMouseOver) {\n        if (!state.over) {\n          showClearIcon = false;\n        }\n      }\n      if (searchable === false) {\n        showClearIcon = false;\n      }\n      if (!showClearIcon) {\n        return null;\n      }\n      var clearButton = _react.default.createElement(_ClearButton.default, {\n        onClear: this.clear,\n        closeIcon: props.clearIcon,\n        className: \"\".concat(props.rootClassName, \"__clear-icon\")\n      });\n      return clearButton;\n    }\n  }, {\n    key: \"renderToggleIcon\",\n    value: function renderToggleIcon() {\n      var props = this.props;\n      if (!props.toggleIcon) {\n        return null;\n      }\n      return _react.default.createElement(_ToggleButton.default, {\n        onToggle: this.toggleExpand,\n        className: \"\".concat(props.rootClassName, \"__toggle-icon\"),\n        toggleIcon: props.toggleIcon,\n        expanded: this.getExpanded()\n      });\n    }\n  }, {\n    key: \"renderTextInput\",\n    value: function renderTextInput() {\n      if (this.props.disabled) {\n        return null;\n      }\n      var text = this.getText();\n      var value = text;\n      if (!this.props.multiple) {\n        if (text == null) {\n          value = this.getValue() == null ? '' : this.getItemLabel();\n        } else {\n          value = text;\n        }\n      }\n      var data = this.getFilteredData();\n      var suggestion = null;\n      if (this.props.minAutocompleteLength <= (value && value.length) && data && data[0]) {\n        suggestion = this.getDisplayProperty(data[0]);\n      }\n      var inputProps = {\n        key: 'text_input',\n        value: value,\n        theme: this.props.theme,\n        suggestion: suggestion,\n        placeholder: this.props.placeholder,\n        rootClassName: \"\".concat(this.props.rootClassName, \"__input\"),\n        className: this.props.inputClassName,\n        style: this.props.inputStyle,\n        onChange: this.handleTextChange,\n        ref: this.addTextInputRef,\n        onClick: this.handleTextInputClick,\n        throttle: this.props.filterDelay,\n        autocomplete: this.props.autocomplete,\n        tabIndex: this.props.tabIndex,\n        autocompleteDelay: this.props.autocompleteDelay,\n        searchable: this.props.searchable\n      };\n      var result;\n      if (typeof this.props.renderInput === 'function') {\n        result = this.props.renderInput({\n          text: text,\n          domProps: inputProps,\n          onChange: inputProps.onChange\n        });\n      }\n      if (result === undefined) {\n        result = _react.default.createElement(_TextInput.default, _objectSpread({}, inputProps));\n      }\n      return result;\n    }\n  }, {\n    key: \"renderSpinner\",\n    value: function renderSpinner() {\n      if (!this.props.loadingSpinner) {\n        return null;\n      }\n      var loading = this.getLoading();\n      if (!loading && !this.getExpanded()) {\n        return null;\n      }\n      var spinner = this.props.loadingSpinner === true ? _react.default.createElement(_Icons.LoadingIcon, {\n        className: \"\".concat(this.props.rootClassName, \"__loading-spinner\")\n      }) : this.props.loadingSpinner;\n      return loading ? spinner : (0, _react.cloneElement)(spinner, {\n        style: spinner.props.style ? _objectSpread(_objectSpread({}, spinner.props.style), {}, {\n          display: 'none'\n        }) : {\n          display: 'none'\n        }\n      });\n    }\n  }, {\n    key: \"getListProps\",\n    value: function getListProps() {\n      var props = this.props,\n        state = this.state;\n      var data = this.getFilteredData();\n      var groupsLength = this.state.groups && Object.keys(this.state.groups).length || 0;\n      var listProps = (0, _getListProps2.default)({\n        props: props,\n        state: state,\n        computed: {\n          data: data,\n          loading: this.getLoading(),\n          activeItem: this.getActiveItem(),\n          value: this.getValue(),\n          dataLength: data && data.length + groupsLength || 0,\n          getIdProperty: this.getIdProperty,\n          getDisplayProperty: this.getDisplayProperty,\n          onItemClick: this.handleItemClick,\n          getComboNode: this.getComboNode,\n          ref: this.addListRef,\n          onScrollBottom: this.handleListScrollBottom,\n          text: this.getText(),\n          isNewCustomTagValid: this.isNewCustomTagValid\n        }\n      });\n      return listProps;\n    }\n  }, {\n    key: \"getValueProps\",\n    value: function getValueProps(_ref) {\n      var items = _ref.items,\n        groupedItems = _ref.groupedItems,\n        item = _ref.item;\n      var props = this.props,\n        state = this.state;\n      var value = this.getValue();\n      return (0, _getValueProps2.default)({\n        props: props,\n        state: state,\n        computed: {\n          items: items,\n          item: item,\n          groupedItems: groupedItems,\n          value: value,\n          label: this.getItemLabel(),\n          activeTag: this.getActiveTag()\n        },\n        tagProps: {\n          activeStyle: props.tagActiveStyle,\n          onClick: this.handleTagClick,\n          onCloseTagClick: this.handleRemoveTag,\n          onMultipleTagClose: this.handleRemoveMultipleTag\n        }\n      });\n    }\n  }, {\n    key: \"loadDataSource\",\n    value: function loadDataSource(dataSource) {\n      var _this2 = this;\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props;\n      var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : emptyObject,\n        appendTo = _ref2.appendTo,\n        action = _ref2.action,\n        value = _ref2.value,\n        text = _ref2.text,\n        skip = _ref2.skip,\n        limit = _ref2.limit,\n        hasNextPage = _ref2.hasNextPage;\n      if (Array.isArray(dataSource)) {\n        if (this.getLoading()) {\n          this.setLoading(false);\n        }\n        this.setData(dataSource, props, {\n          appendTo: appendTo\n        });\n        return;\n      }\n      if (dataSource && Array.isArray(dataSource.data)) {\n        if (this.getLoading()) {\n          this.setLoading(false);\n        }\n        this.setData(dataSource.data, props, {\n          remoteCount: dataSource.count != null ? dataSource.count * 1 : null,\n          appendTo: appendTo\n        });\n        return;\n      }\n      if (dataSource && dataSource.then) {\n        this.setLoading(true);\n        dataSource.then(function (data) {\n          _this2.props.onDataSourceLoad(data);\n          _this2.loadDataSource(data, props, {\n            appendTo: appendTo\n          });\n        });\n        return;\n      }\n      if (typeof dataSource === 'function') {\n        var config = _objectSpread(_objectSpread({}, props), {}, {\n          data: this.state.data,\n          hasNextPage: hasNextPage !== undefined ? hasNextPage : this.hasNextPage(),\n          text: this.isRemoteFilter() ? text !== undefined ? text : this.getText() : undefined,\n          skip: skip || 0,\n          action: action,\n          append: !!appendTo,\n          value: value !== undefined ? value : this.getValue(),\n          limit: limit !== undefined ? limit : this.props.limit\n        });\n        var dataResult = dataSource(config);\n        this.loadDataSource(dataResult, undefined, {\n          appendTo: config.append === false ? null : appendTo\n        });\n      }\n      if (!dataSource) {\n        this.setData(null, props);\n      }\n    }\n  }, {\n    key: \"setData\",\n    value: function setData(data) {\n      var _this3 = this;\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props;\n      var _ref3 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : emptyObject,\n        remoteCount = _ref3.remoteCount,\n        appendTo = _ref3.appendTo;\n      if (!data) {\n        this.setState({\n          data: null,\n          dataMap: null,\n          filteredData: null,\n          remoteCount: null\n        });\n        return null;\n      }\n      if (Array.isArray(appendTo)) {\n        data = appendTo.concat(data);\n      }\n      var dataMap = data.reduce(function (acc, item) {\n        acc[_this3.getIdProperty(item)] = item;\n        return acc;\n      }, {});\n      if (props.groupProperty) {\n        this.updateGroups({\n          data: data,\n          groupProperty: props.groupProperty\n        });\n      }\n      this.updateValueMap({\n        value: this.getValue(props),\n        dataMap: dataMap,\n        oldValueMap: this.getValueMap()\n      });\n      this.updateFilteredData({\n        data: data\n      });\n      this.setState({\n        data: data,\n        dataMap: dataMap,\n        remoteCount: remoteCount\n      });\n    }\n  }, {\n    key: \"getPageCount\",\n    value: function getPageCount() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var count = this.getDataCountForPagination(props);\n      return (0, _PaginationToolbar.getPageCount)({\n        count: count,\n        limit: props.limit\n      });\n    }\n  }, {\n    key: \"hasNextPage\",\n    value: function hasNextPage() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      return this.getCurrentPage(props) < this.getPageCount(props);\n    }\n  }, {\n    key: \"getCurrentPage\",\n    value: function getCurrentPage() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var limit = props.limit,\n        skip = props.skip;\n      return (0, _PaginationToolbar.getCurrentPage)({\n        skip: this.previousSkip ? this.previousSkip : 0,\n        limit: limit\n      });\n    }\n  }, {\n    key: \"isLastPage\",\n    value: function isLastPage() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n    }\n  }, {\n    key: \"getDataCountForPagination\",\n    value: function getDataCountForPagination() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var data = this.getData();\n      var count = this.isPaginationEnabled(props) ? props.remoteCount || this.state.remoteCount : data ? data.length : 0;\n      return count || 0;\n    }\n  }, {\n    key: \"getFilteredData\",\n    value: function getFilteredData() {\n      return this.state.filteredData;\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      return this.state.data;\n    }\n  }, {\n    key: \"loadLazyDataSource\",\n    value: function loadLazyDataSource(_ref4) {\n      var action = _ref4.action,\n        text = _ref4.text;\n      if (!this.props.lazyDataSource) {\n        return null;\n      }\n      var params = {\n        action: action,\n        text: text,\n        value: this.getValue()\n      };\n      this.setData(null);\n      this.loadDataSource(this.props.dataSource, undefined, params);\n      return null;\n    }\n  }, {\n    key: \"isPaginationEnabled\",\n    value: function isPaginationEnabled() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var hasLoadNextPage = typeof props.loadNextPage === 'function';\n      var hasFunctionalDataSource = typeof props.dataSource === 'function';\n      if (props.enablePagination === false) {\n        return false;\n      }\n      return props.enablePagination ? hasLoadNextPage || hasFunctionalDataSource : hasLoadNextPage;\n    }\n  }, {\n    key: \"remoteFilterData\",\n    value: function remoteFilterData() {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref5$text = _ref5.text,\n        text = _ref5$text === void 0 ? this.getText() : _ref5$text,\n        _ref5$value = _ref5.value,\n        value = _ref5$value === void 0 ? this.getValue() : _ref5$value,\n        filterType = _ref5.filterType;\n      this.previousSkip = null;\n      this.loadDataSource(this.props.dataSource, undefined, {\n        text: text,\n        skip: 0\n      });\n    }\n  }, {\n    key: \"loadNextPage\",\n    value: function loadNextPage() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var filteredData = this.getFilteredData();\n      if (filteredData && filteredData.length < 3) {\n        return null;\n      }\n      if (this.previousSkip == null) {\n        this.previousSkip = props.skip;\n      }\n      var limit = props.limit;\n      var hasNextPage = this.hasNextPage();\n      var newSkip = this.previousSkip + limit;\n      this.previousSkip = newSkip;\n      if (!this.isPaginationEnabled()) {\n        return;\n      }\n      var fn = typeof props.dataSource === 'function' ? props.dataSource : null;\n      if (fn && hasNextPage) {\n        var currentData = this.state.data;\n        this.loadDataSource(this.props.dataSource, undefined, {\n          appendTo: currentData,\n          hasNextPage: hasNextPage,\n          skip: newSkip,\n          limit: limit,\n          filter: this.currentFilter\n        });\n      }\n    }\n  }, {\n    key: \"isRemoteDataSource\",\n    value: function isRemoteDataSource() {\n      return typeof this.props.dataSource === 'function';\n    }\n  }, {\n    key: \"isRemoteFilter\",\n    value: function isRemoteFilter() {\n      return (0, _typeof2.default)(this.isRemoteDataSource()) && this.props.remoteFilter;\n    }\n  }, {\n    key: \"doFilter\",\n    value: function doFilter() {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        text = _ref6.text,\n        value = _ref6.value,\n        force = _ref6.force,\n        data = _ref6.data,\n        filterType = _ref6.filterType,\n        action = _ref6.action;\n      if (this.currentFilter === text && !force) {\n        return;\n      }\n      this.currentFilter = text;\n      if (this.isRemoteFilter()) {\n        if (action === 'select') {\n          return;\n        }\n        this.remoteFilterData({\n          value: value,\n          text: text,\n          filterType: filterType\n        });\n      } else {\n        this.updateFilteredData({\n          text: text,\n          value: value,\n          data: data,\n          filterType: filterType\n        });\n      }\n    }\n  }, {\n    key: \"updateFilteredData\",\n    value: function updateFilteredData() {\n      var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref7$text = _ref7.text,\n        text = _ref7$text === void 0 ? this.getText() : _ref7$text,\n        _ref7$value = _ref7.value,\n        value = _ref7$value === void 0 ? this.getValue() : _ref7$value,\n        _ref7$data = _ref7.data,\n        data = _ref7$data === void 0 ? this.state.data : _ref7$data,\n        filterType = _ref7.filterType;\n      var filteredData = data;\n      if (!Array.isArray(filteredData)) {\n        return filteredData;\n      }\n      if (!this.isRemoteFilter()) {\n        filteredData = this.filterDataByText({\n          text: text,\n          data: filteredData\n        });\n        filteredData = this.filterDataByValue({\n          value: value,\n          text: text,\n          data: filteredData\n        });\n      }\n      var isFilteredByText = filterType === 'text' && data.length !== filteredData.length;\n      if (isFilteredByText && this.props.activeFirstItemOnFilter) {\n        var firstItem = filteredData && filteredData[0];\n        if (firstItem) {\n          var id = this.getIdProperty(firstItem);\n          this.setActiveItem(id);\n        } else {\n          this.setActiveItem(null);\n        }\n      }\n      this.setState({\n        filteredData: filteredData\n      });\n    }\n  }, {\n    key: \"filterDataByValue\",\n    value: function filterDataByValue(_ref8) {\n      var _ref8$value = _ref8.value,\n        value = _ref8$value === void 0 ? this.getValue() : _ref8$value,\n        _ref8$data = _ref8.data,\n        data = _ref8$data === void 0 ? this.state.data : _ref8$data;\n      if (!Array.isArray(data)) {\n        return data;\n      }\n      var newData = data;\n      if (data && value && this.props.removeSelectedItems) {\n        newData = (0, _filterByValue.default)({\n          data: newData,\n          getIdProperty: this.getIdProperty,\n          value: value\n        });\n      }\n      return newData;\n    }\n  }, {\n    key: \"filterDataByText\",\n    value: function filterDataByText(_ref9) {\n      var _ref9$text = _ref9.text,\n        text = _ref9$text === void 0 ? this.getText() : _ref9$text,\n        _ref9$data = _ref9.data,\n        data = _ref9$data === void 0 ? this.state.data : _ref9$data;\n      if (!data || !text) {\n        return data;\n      }\n      var newData = data;\n      if (this.isFilterTextActive()) {\n        var filterFunction = this.props.filterFunction;\n        newData = (0, _filterByText.default)({\n          data: data,\n          text: text,\n          filterFunction: filterFunction,\n          getFilterProperty: this.getFilterProperty || this.getDisplayProperty,\n          mode: this.props.filterMode,\n          hightlight: this.props.highlightMatchedText\n        });\n      }\n      return newData;\n    }\n  }, {\n    key: \"getDataMap\",\n    value: function getDataMap() {\n      return this.state.dataMap;\n    }\n  }, {\n    key: \"getValueMap\",\n    value: function getValueMap() {\n      return this.state.valueMap;\n    }\n  }, {\n    key: \"isValueControlled\",\n    value: function isValueControlled() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      return props.value !== undefined;\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      return this.isValueControlled(props) ? props.value : this.state.value;\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(newValue) {\n      var _ref10 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        action = _ref10.action;\n      if (this.props.disabled) {\n        return null;\n      }\n      if (this.props.readOnly) {\n        return null;\n      }\n      if (this.props.maxValueLength && newValue && newValue.length > this.props.maxValueLength) {\n        return null;\n      }\n      if (this.props.collapseOnSelect && action !== 'navigate') {\n        this.collapse();\n      }\n      if (this.props.autoBlur) {\n        this.blur();\n      }\n      if (!this.isValueControlled()) {\n        this.setState({\n          value: newValue\n        });\n      }\n      this.setText(null, {\n        skipFilter: true\n      });\n      this.updateValueMap({\n        value: newValue\n      });\n      this.props.onChange(newValue);\n    }\n  }, {\n    key: \"isFilterTextActive\",\n    value: function isFilterTextActive() {\n      var text = this.getText();\n      var data = this.getFilteredData();\n      return data && text && this.props.searchable && text.length >= this.props.filterMinLength;\n    }\n  }, {\n    key: \"updateValueMap\",\n    value: function updateValueMap(_ref11) {\n      var _this4 = this;\n      var value = _ref11.value,\n        dataMap = _ref11.dataMap,\n        oldValueMap = _ref11.oldValueMap;\n      var newValueMap = (0, _getValueMap.default)({\n        value: value,\n        dataMap: dataMap || this.getDataMap(),\n        oldValueMap: oldValueMap || this.getValueMap()\n      });\n      if (newValueMap) {\n        newValueMap = Object.keys(newValueMap).reduce(function (acc, id) {\n          var item = newValueMap[id];\n          acc[id] = _objectSpread(_objectSpread({}, item), {}, {\n            id: _this4.getIdProperty(item),\n            label: _this4.getDisplayProperty(item) || item\n          });\n          return acc;\n        }, {});\n      }\n      this.setState({\n        valueMap: newValueMap\n      });\n    }\n  }, {\n    key: \"selectItem\",\n    value: function selectItem(id) {\n      var dataMap = this.getDataMap();\n      var item = dataMap && dataMap[id];\n      if (!item && !this.props.allowCustomTagCreation) {\n        return null;\n      }\n      if (typeof this.props.isSelectedItemValid === 'function') {\n        var isItemValid = this.props.isSelectedItemValid(item);\n        if (!isItemValid) {\n          return null;\n        }\n      }\n      var value = this.getValue();\n      var newValue;\n      if (this.props.multiple) {\n        newValue = (0, _getNewMultipleValue.default)({\n          id: id,\n          value: value\n        });\n      } else {\n        newValue = (0, _getNewSingleValue.default)({\n          id: id,\n          value: value,\n          toggle: this.props.changeValueOnNavigation ? false : this.props.allowSelectionToggle\n        });\n      }\n      this.setValue(newValue, {\n        action: 'select'\n      });\n      this.props.onItemClick({\n        item: item,\n        id: id\n      });\n    }\n  }, {\n    key: \"deselectItem\",\n    value: function deselectItem(id) {\n      var value = this.getValue();\n      var newValue = (0, _deselectValue.default)({\n        id: id,\n        value: value,\n        getIdProperty: this.getIdProperty\n      });\n      this.setValue(newValue);\n    }\n  }, {\n    key: \"deselectItems\",\n    value: function deselectItems() {\n      var _this5 = this;\n      var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var value = this.getValue();\n      var newValue = ids.reduce(function (acc, id) {\n        acc = (0, _deselectValue.default)({\n          id: id,\n          value: acc,\n          getIdProperty: _this5.getIdProperty\n        });\n        return acc;\n      }, value);\n      this.setValue(newValue);\n    }\n  }, {\n    key: \"getExpanded\",\n    value: function getExpanded() {\n      return this.isExpandedControlled() ? this.props.expanded : this.expanded != null ? this.expanded : this.state.expanded;\n    }\n  }, {\n    key: \"isExpandedControlled\",\n    value: function isExpandedControlled() {\n      return this.props.expanded !== undefined;\n    }\n  }, {\n    key: \"setExpanded\",\n    value: function setExpanded(expanded) {\n      var _this6 = this;\n      if (this.expandedPromise) {\n        this.expandedPromise.then(function (result) {\n          if (_this6.getExpanded() !== expanded) {\n            _this6.setExpanded(expanded);\n          }\n        });\n        return;\n      }\n      this.expandedPromise = this.doSetExpanded(expanded).then(function () {\n        delete _this6.expandedPromise;\n      });\n    }\n  }, {\n    key: \"doSetExpanded\",\n    value: function doSetExpanded(expanded) {\n      var _this7 = this;\n      if (this.props.disabled) {\n        return Promise.resolve(null);\n      }\n      var currentExpanded = this.getExpanded();\n      if (currentExpanded === expanded) {\n        return Promise.resolve(expanded);\n      }\n      if (!expanded && this.isRemoteFilter()) {\n        this.previousSkip = null;\n      }\n      globalObject.requestAnimationFrame(function () {\n        if (_this7.toolsNode) {\n          _this7.handleToolsSize();\n        }\n      });\n      var promise;\n      if (!this.isExpandedControlled()) {\n        promise = new Promise(function (resolve, reject) {\n          _this7.setState({\n            expanded: expanded\n          }, function () {\n            resolve(expanded);\n          });\n        });\n      } else {\n        promise = Promise.resolve(expanded);\n      }\n      if (expanded) {\n        if (this.isRemoteDataSource() && this.state.data === undefined) {\n          this.loadDataSource(this.props.dataSource);\n        } else {\n          if (this.wasExpandedAtLeastOnce) {\n            this.doFilter({\n              text: '',\n              action: 'expand',\n              force: true\n            });\n          }\n        }\n      }\n      if (expanded && !this.wasExpandedAtLeastOnce) {\n        this.wasExpandedAtLeastOnce = true;\n      }\n      if (expanded) {\n        this.onExpand();\n      } else {\n        this.props.onCollapse();\n      }\n      this.props.onExpandChange(expanded);\n      this.props.onExpandedChange(expanded);\n      return promise;\n    }\n  }, {\n    key: \"onExpand\",\n    value: function onExpand() {\n      this.props.onExpand();\n      if (this.props.highlightFirst) {\n        var activeItem = this.getActiveItem();\n        if (!activeItem) {\n          var firstItem = this.getItemByIndex(0);\n          if (firstItem) {\n            var id = this.getIdProperty(firstItem);\n            this.setActiveItem(id);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"isActiveTagControlled\",\n    value: function isActiveTagControlled() {\n      return this.props.activeTag !== undefined;\n    }\n  }, {\n    key: \"setActiveTag\",\n    value: function setActiveTag(id) {\n      if (this.props.disabled) {\n        return null;\n      }\n      if (!this.isActiveTagControlled()) {\n        this.setState({\n          activeTag: id\n        });\n      }\n      this.props.onActiveTagChange(id);\n    }\n  }, {\n    key: \"deselectActiveTag\",\n    value: function deselectActiveTag() {\n      var activeTag = this.getActiveTag();\n      if (activeTag) {\n        this.setActiveTag(null);\n      }\n    }\n  }, {\n    key: \"getActiveTag\",\n    value: function getActiveTag() {\n      return this.isActiveTagControlled() ? this.props.activeTag : this.state.activeTag;\n    }\n  }, {\n    key: \"getSelectedItems\",\n    value: function getSelectedItems() {\n      var _this8 = this;\n      var valueMap = this.getValueMap();\n      var value = this.getValue();\n      var items = null;\n      if (value) {\n        value = Array.isArray(value) ? value : [value];\n        items = value.map(function (id) {\n          return valueMap[id] || {\n            id: (0, _typeof2.default)(id) === 'object' ? _this8.getIdProperty(id) : id,\n            label: (0, _typeof2.default)(id) === 'object' ? _this8.getDisplayProperty(id) : _this8.getItemLabel(id)\n          };\n        });\n      }\n      return items;\n    }\n  }, {\n    key: \"getItemLabel\",\n    value: function getItemLabel(id) {\n      id = id === undefined ? this.getValue() : id;\n      var valueMap = this.getValueMap();\n      var dataMap = this.getDataMap();\n      var label;\n      if (valueMap && valueMap[id]) {\n        label = valueMap[id].label;\n      } else if (dataMap && dataMap[id]) {\n        label = this.getDisplayProperty(dataMap[id]);\n      }\n      if (label === undefined) {\n        label = this.props.defaultDisplayValue !== undefined && id != null ? this.props.defaultDisplayValue : id;\n      }\n      return label;\n    }\n  }, {\n    key: \"getGroupedItems\",\n    value: function getGroupedItems(items) {\n      var maxTagsLength = this.props.maxTagsLength;\n      if (maxTagsLength == null || !items) {\n        return null;\n      }\n      return (0, _groupItems.default)({\n        maxTagsLength: maxTagsLength,\n        items: items\n      });\n    }\n  }, {\n    key: \"isActiveItemControlled\",\n    value: function isActiveItemControlled() {\n      return this.props.activeItem !== undefined;\n    }\n  }, {\n    key: \"setActiveItem\",\n    value: function setActiveItem(id) {\n      if (this.props.disabled) {\n        return null;\n      }\n      var activeItem = this.getActiveItem();\n      if (activeItem === id) {\n        return null;\n      }\n      if (!this.isActiveItemControlled()) {\n        var activeItemIndex = null;\n        if (id) {\n          activeItemIndex = this.getItemIndexById(id);\n        }\n        this.setState({\n          activeItemIndex: activeItemIndex,\n          activeItem: id\n        });\n        if (this.props.changeValueOnNavigation && !this.props.multiple) {\n          this.setValue(id, {\n            action: 'navigate'\n          });\n        }\n      }\n      this.scrollToId(id);\n      this.props.onActiveItemChange(id);\n    }\n  }, {\n    key: \"getActiveItem\",\n    value: function getActiveItem() {\n      return this.isActiveItemControlled() ? this.props.activeItem : this.state.activeItem;\n    }\n  }, {\n    key: \"isTextControled\",\n    value: function isTextControled() {\n      return this.props.text != null;\n    }\n  }, {\n    key: \"getText\",\n    value: function getText() {\n      return this.isTextControled() ? this.props.text : this.state.text;\n    }\n  }, {\n    key: \"setText\",\n    value: function setText(text) {\n      var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : emptyObject;\n      var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : emptyFn;\n      if (typeof config === 'function') {\n        callback = config;\n        config = emptyObject;\n      }\n      if (text === this.getText()) {\n        callback();\n        return;\n      }\n      if (!this.isTextControled()) {\n        this.setStateText(text, config, callback);\n      }\n      this.props.onTextChange(text);\n    }\n  }, {\n    key: \"setStateText\",\n    value: function setStateText(text) {\n      var _this9 = this;\n      var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : emptyObject;\n      var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : emptyFn;\n      if (typeof config === 'function') {\n        callback = config;\n        config = emptyObject;\n      }\n      this.setState({\n        text: text\n      }, function () {\n        _this9.onTextUpdate(text, config);\n        callback();\n      });\n    }\n  }, {\n    key: \"onTextUpdate\",\n    value: function onTextUpdate(text) {\n      var _ref12 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : emptyObject,\n        skipFilter = _ref12.skipFilter;\n      this.clearValueOnEmptyIfNecessary(text);\n      if (!skipFilter) {\n        this.doFilter({\n          text: text,\n          filterType: 'text'\n        });\n      }\n    }\n  }, {\n    key: \"clearValueOnEmptyIfNecessary\",\n    value: function clearValueOnEmptyIfNecessary(text) {\n      if (this.props.clearValueOnEmpty && !this.props.multiple && text === '') {\n        this.setValue(null);\n      }\n    }\n  }, {\n    key: \"getLoading\",\n    value: function getLoading() {\n      return this.isLoadingControlled() ? this.props.loading : this.state.loading;\n    }\n  }, {\n    key: \"isLoadingControlled\",\n    value: function isLoadingControlled() {\n      return this.props.loading != null;\n    }\n  }, {\n    key: \"setLoading\",\n    value: function setLoading(loading) {\n      if (loading === this.state.loading) {\n        return;\n      }\n      if (!this.isLoadingControlled()) {\n        this.setState({\n          loading: loading\n        });\n      }\n      this.props.onLoadingChange(loading);\n    }\n  }, {\n    key: \"handleComboClick\",\n    value: function handleComboClick(event) {\n      event.preventDefault();\n      if (this.props.toggleExpandOnClick) {\n        this.toggleExpand();\n      } else if (this.props.expandOnClick) {\n        this.expand();\n      }\n      if (this.props.focusOnClick && !this.hasFocus()) {\n        this.focus();\n      }\n    }\n  }, {\n    key: \"handleMouseEnter\",\n    value: function handleMouseEnter() {\n      this.setState({\n        over: true\n      });\n    }\n  }, {\n    key: \"handleMouseLeave\",\n    value: function handleMouseLeave() {\n      this.setState({\n        over: false\n      });\n    }\n  }, {\n    key: \"handleComboFocus\",\n    value: function handleComboFocus() {\n      if (this.props.expandOnFocus) {\n        this.expand();\n      }\n      this.setState({\n        focus: true\n      });\n      this.props.onFocus();\n    }\n  }, {\n    key: \"handleComboBlur\",\n    value: function handleComboBlur(event) {\n      var _this10 = this;\n      if (this.isFocused() && event && event.relatedTarget && (0, _containsNode.default)(this.comboNode, event.relatedTarget)) {\n        globalObject.requestAnimationFrame(function () {\n          _this10.focus();\n        });\n        return;\n      }\n      if (this.props.collapseOnBlur) {\n        this.collapse();\n      }\n      if (this.props.clearTextOnBlur) {\n        this.setText(null);\n      }\n      this.setState({\n        focus: false\n      });\n      this.props.onBlur();\n    }\n  }, {\n    key: \"isFocused\",\n    value: function isFocused() {\n      return this.state.focus;\n    }\n  }, {\n    key: \"handleItemClick\",\n    value: function handleItemClick(id) {\n      if (!this.isFocused() && this.props.focusOnClick) {\n        this.focus();\n      }\n      this.setActiveItem(id);\n      this.selectItem(id);\n    }\n  }, {\n    key: \"handleTextChange\",\n    value: function handleTextChange(text) {\n      var _this11 = this;\n      this.deselectActiveTag();\n      this.setText(text, {\n        skipFilter: this.props.expandOnTextChange && !this.getExpanded()\n      }, function () {\n        if (_this11.props.expandOnTextChange) {\n          _this11.expand();\n        }\n      });\n    }\n  }, {\n    key: \"handleTextInputClick\",\n    value: function handleTextInputClick() {\n      this.deselectActiveTag();\n    }\n  }, {\n    key: \"handleRemoveTag\",\n    value: function handleRemoveTag(id) {\n      this.removeTag(id);\n    }\n  }, {\n    key: \"handleRemoveMultipleTag\",\n    value: function handleRemoveMultipleTag(ids) {\n      this.deselectItems(ids);\n    }\n  }, {\n    key: \"handleListScrollBottom\",\n    value: function handleListScrollBottom() {\n      this.loadNextPage();\n    }\n  }, {\n    key: \"removeTag\",\n    value: function removeTag(id) {\n      var dir = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -1;\n      var activeTag = this.getActiveTag();\n      if (activeTag === id && activeTag != null) {\n        var value = this.getValue();\n        var newActiveTag = (0, _getNewActiveTagOnRemove.default)({\n          id: id,\n          value: value,\n          dir: dir\n        });\n        this.setActiveTag(newActiveTag);\n      }\n      this.deselectItem(id);\n    }\n  }, {\n    key: \"removeRemainingTags\",\n    value: function removeRemainingTags() {\n      var ids = this.groupedItems.remainingItems.map(function (item) {\n        return item.id;\n      });\n      var visibleItems = this.groupedItems.visibleItems;\n      var activeTag = this.getActiveTag();\n      if (activeTag === REMAINING_ITEMS) {\n        var lastItem = Array.isArray(visibleItems) && visibleItems[visibleItems.length - 1];\n        if (lastItem) {\n          this.setActiveTag(lastItem.id);\n        }\n      } else {\n        this.deselectActiveTag();\n      }\n      this.removeTags(ids);\n    }\n  }, {\n    key: \"removeTags\",\n    value: function removeTags(ids) {\n      this.deselectItems(ids);\n    }\n  }, {\n    key: \"handleTagClick\",\n    value: function handleTagClick(id) {\n      var activeTag = this.getActiveTag();\n      if (activeTag === id) {\n        this.setActiveTag(null);\n      } else {\n        this.setActiveTag(id);\n      }\n      this.props.onTagClick(this.getItemById(id));\n      if (this.props.focusOnClick && !this.hasFocus()) {\n        this.focus();\n      }\n    }\n  }, {\n    key: \"handleComboMouseDown\",\n    value: function handleComboMouseDown(event) {\n      event.preventDefault();\n    }\n  }, {\n    key: \"handleComboKeyDown\",\n    value: function handleComboKeyDown(event) {\n      if (this.props.allowCustomTagCreation && event.key === 'Enter') {\n        if (this.isNewCustomTagValid) {\n          this.selectItem(this.getText());\n          this.setText(null);\n        }\n      }\n      if (this.props.enableNavigation) {\n        if (this.props.enableListNavigation) {\n          switch (event.key) {\n            case 'ArrowDown':\n              this.navigateToNextItem(1, event);\n              break;\n            case 'ArrowUp':\n              this.navigateToNextItem(-1, event);\n              break;\n            case 'Enter':\n              this.handleEnterKeyPress(event);\n              break;\n            case 'Space':\n              this.selectActiveItem();\n              break;\n          }\n        }\n        if (this.props.enableTagNavigation) {\n          switch (event.key) {\n            case 'ArrowLeft':\n              this.navigateToNextTag(-1, event);\n              break;\n            case 'ArrowRight':\n              this.navigateToNextTag(1, event);\n              break;\n            case 'Backspace':\n              this.handleBackspace(event);\n              break;\n            case 'Delete':\n              this.handleDelete(event);\n          }\n        }\n      }\n      if (event.key === 'Escape') {\n        var expanded = this.getExpanded();\n        if (this.props.collapseOnEscape) {\n          if (expanded) {\n            this.collapse();\n          }\n        }\n        if (!expanded && this.getActiveTag()) {\n          this.setActiveTag(null);\n        }\n        if (!this.props.multiple) {\n          this.setText(null);\n        }\n      }\n      if (this.props.onKeyDown) {\n        this.props.onKeyDown(event, this);\n      }\n    }\n  }, {\n    key: \"navigateToNextItem\",\n    value: function navigateToNextItem(direction, event) {\n      var data = this.getFilteredData();\n      if (event && event.preventDefault) {\n        event.preventDefault();\n      }\n      if (this.getExpanded()) {\n        var activeItem = this.getActiveItem();\n        var newActiveItem;\n        if (activeItem != null) {\n          newActiveItem = (0, _getNextItem.default)({\n            direction: direction,\n            data: data,\n            id: activeItem,\n            activeItem: activeItem,\n            getIdProperty: this.getIdProperty\n          });\n        } else {\n          var firstItemId;\n          var lastItemId;\n          if (data && data.length) {\n            firstItemId = this.getIdProperty(data[0]);\n            lastItemId = this.getIdProperty(data[data.length - 1]);\n            if (direction && firstItemId != null) {\n              newActiveItem = firstItemId;\n            }\n            if (direction === -1 && lastItemId != null) {\n              newActiveItem = lastItemId;\n            }\n          }\n        }\n        this.setActiveItem(newActiveItem);\n      } else {\n        this.expand();\n      }\n    }\n  }, {\n    key: \"selectActiveItem\",\n    value: function selectActiveItem() {\n      var activeItem = this.getActiveItem();\n      if (activeItem) {\n        this.selectItem(activeItem);\n      }\n    }\n  }, {\n    key: \"handleEnterKeyPress\",\n    value: function handleEnterKeyPress(event) {\n      var expanded = this.getExpanded();\n      if (expanded) {\n        this.selectActiveItem();\n      }\n      var activeItem = this.getActiveItem();\n      if (this.props.collapseOnSelectWithEnter) {\n        if (activeItem && expanded) {\n          this.collapse();\n        }\n      }\n      if (this.props.navigateToNextAfterSelection && this.props.multiple && activeItem) {\n        this.navigateToNextItem(1, event);\n      }\n    }\n  }, {\n    key: \"navigateToNextTag\",\n    value: function navigateToNextTag(direction, event) {\n      if (!this.isNavigationAllowed(direction)) {\n        return null;\n      }\n      if (event && event.preventDefault) {\n        event.preventDefault();\n      }\n      var newActiveTag;\n      var items = this.getSelectedItems();\n      var itemsIds;\n      if (this.areItemsGrouped) {\n        var visibleItems = this.groupedItems.visibleItems.map(function (item) {\n          return item.id;\n        });\n        itemsIds = [].concat((0, _toConsumableArray2.default)(visibleItems), [REMAINING_ITEMS]);\n      } else {\n        itemsIds = items.map(function (item) {\n          return item.id;\n        });\n      }\n      var currentActiveTag = this.getActiveTag();\n      var currentIndex = itemsIds.indexOf(currentActiveTag);\n      var lastIndex = itemsIds.length - 1;\n      var lastTag = itemsIds[lastIndex];\n      var firstTag = itemsIds[0];\n      var isFirstTag = currentIndex === 0;\n      var isLastTag = currentIndex === lastIndex;\n      if (direction === -1 && isFirstTag) {\n        this.setActiveTag(null);\n        return null;\n      }\n      if (direction === 1 && isLastTag) {\n        this.setActiveTag(null);\n        return null;\n      }\n      if (currentActiveTag === null || currentIndex === -1) {\n        newActiveTag = direction === -1 ? lastTag : firstTag;\n      } else {\n        if (direction === -1) {\n          newActiveTag = isFirstTag ? lastTag : itemsIds[currentIndex - 1];\n        } else if (direction === 1) {\n          newActiveTag = isLastTag ? firstTag : itemsIds[currentIndex + 1];\n        }\n      }\n      this.setActiveTag(newActiveTag);\n      return null;\n    }\n  }, {\n    key: \"isNavigationAllowed\",\n    value: function isNavigationAllowed(direction) {\n      if (!this.props.multiple) {\n        return false;\n      }\n      var inputNode = this.getTextInputNode();\n      if (inputNode.hasSelection()) {\n        return false;\n      }\n      var currentActiveTag = this.getActiveTag();\n      var canNavigateLeft = inputNode.isCursorAtStartPosition() && direction === -1;\n      var canNavigateRight = inputNode.isCursorAtEndPosition() && direction === 1;\n      if (!canNavigateRight && !canNavigateLeft && !currentActiveTag) {\n        return false;\n      }\n      var items = this.getSelectedItems();\n      if (!Array.isArray(items)) {\n        return false;\n      }\n      if (items.length === 1 && currentActiveTag) {\n        this.setActiveTag(null);\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"handleBackspace\",\n    value: function handleBackspace(event) {\n      if (this.props.multiple) {\n        this.handleTagBackspaceRemove(event);\n      }\n    }\n  }, {\n    key: \"handleDelete\",\n    value: function handleDelete(event) {\n      var activeTag = this.getActiveTag();\n      if (this.props.multiple && activeTag) {\n        this.removeTag(activeTag, 1);\n      }\n    }\n  }, {\n    key: \"handleTagBackspaceRemove\",\n    value: function handleTagBackspaceRemove(event) {\n      if (!this.props.removeTagOnBackspace) {\n        return null;\n      }\n      var value = this.getValue();\n      if (!value) {\n        return null;\n      }\n      var activeTag = this.getActiveTag();\n      if (activeTag != null) {\n        event.preventDefault();\n        if (activeTag === REMAINING_ITEMS) {\n          this.removeRemainingTags();\n        } else {\n          this.removeTag(activeTag, -1);\n        }\n        return null;\n      }\n      var inputNode = this.getTextInputNode();\n      var canDeleteTag = value && value.length && inputNode.isCursorAtStartPosition();\n      if (canDeleteTag) {\n        if (this.areItemsGrouped) {\n          var ids = this.groupedItems.remainingItems.map(function (item) {\n            return item.id;\n          });\n          this.removeTags(ids);\n        } else {\n          var items = this.getSelectedItems();\n          var lastItem = items[items.length - 1];\n          var lastItemId = lastItem.id;\n          if (this.props.keepTagTextOnRemove) {\n            var label = lastItem.label;\n            if (label && typeof label === 'string') {\n              this.setText(label);\n            }\n          }\n          this.removeTag(lastItemId);\n        }\n      }\n      return null;\n    }\n  }, {\n    key: \"handleToolsSize\",\n    value: function handleToolsSize() {\n      var size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.toolsNode ? this.toolsNode.getBoundingClientRect() : {\n        width: 0,\n        height: 0\n      };\n      var node = this.comboNode;\n      var computedStyle = globalObject.getComputedStyle(node);\n      var width = size.width + parseInt(computedStyle.paddingLeft, 10) + parseInt(computedStyle.paddingRight, 10);\n      this.setState({\n        toolsSize: {\n          height: size.height,\n          width: width\n        }\n      });\n    }\n  }, {\n    key: \"expand\",\n    value: function expand() {\n      this.setExpanded(true);\n    }\n  }, {\n    key: \"collapse\",\n    value: function collapse() {\n      this.setExpanded(false);\n    }\n  }, {\n    key: \"scrollToIndex\",\n    value: function scrollToIndex(index) {\n      var listNode = this.getListNode();\n      return listNode && listNode.scrollToIndex(index);\n    }\n  }, {\n    key: \"getItemIndexById\",\n    value: function getItemIndexById(id) {\n      var index = (0, _findItemIndex.default)({\n        id: id,\n        data: this.getFilteredData(),\n        getIdProperty: this.getIdProperty\n      });\n      return index;\n    }\n  }, {\n    key: \"scrollToId\",\n    value: function scrollToId(id) {\n      var index = this.getItemIndexById(id);\n      if (index != null) {\n        this.scrollToIndex(index);\n      }\n    }\n  }, {\n    key: \"toggleExpand\",\n    value: function toggleExpand() {\n      var expanded = this.getExpanded();\n      if (expanded) {\n        this.collapse();\n      } else {\n        this.expand();\n      }\n    }\n  }, {\n    key: \"getItemByIndex\",\n    value: function getItemByIndex(index) {\n      var data = this.getFilteredData();\n      if (!data || !Array.isArray(data) || !data[index]) {\n        return null;\n      }\n      return data[index];\n    }\n  }, {\n    key: \"getItemById\",\n    value: function getItemById(id) {\n      var dataMap = this.getDataMap();\n      return dataMap && dataMap[id] || id;\n    }\n  }, {\n    key: \"updateGetIdProperty\",\n    value: function updateGetIdProperty(props) {\n      props = props || this.props;\n      this.getIdProperty = (0, _getDataProp.default)(props.idProperty);\n    }\n  }, {\n    key: \"updateGetDisplayProperty\",\n    value: function updateGetDisplayProperty(props) {\n      props = props || this.props;\n      this.getDisplayProperty = (0, _getDataProp.default)(props.displayProperty);\n    }\n  }, {\n    key: \"updateGetFilterProperty\",\n    value: function updateGetFilterProperty(props) {\n      props = props || this.props;\n      this.getFilterProperty = (0, _getDataProp.default)(props.filterProperty);\n    }\n  }, {\n    key: \"updateGroups\",\n    value: function updateGroups(_ref13) {\n      var _ref13$groupProperty = _ref13.groupProperty,\n        groupProperty = _ref13$groupProperty === void 0 ? this.props.groupProperty : _ref13$groupProperty,\n        _ref13$data = _ref13.data,\n        data = _ref13$data === void 0 ? this.getFilteredData() : _ref13$data;\n      if (!data) {\n        return null;\n      }\n      var groups = (0, _getGroups.default)(data, groupProperty);\n      this.setState({\n        groups: groups\n      });\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      var textInput = this.getTextInputNode();\n      if (textInput && textInput.focus && !this.hasFocus()) {\n        textInput.focus();\n      }\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      var textInput = this.getTextInputNode();\n      if (textInput && textInput.blur) {\n        textInput.blur();\n      }\n    }\n  }, {\n    key: \"hasFocus\",\n    value: function hasFocus() {\n      var textInput = this.getTextInputNode();\n      if (textInput && textInput.hasFocus) {\n        return textInput.hasFocus();\n      }\n      return false;\n    }\n  }, {\n    key: \"getTextInputNode\",\n    value: function getTextInputNode() {\n      return this.textInput;\n    }\n  }, {\n    key: \"getComboNode\",\n    value: function getComboNode() {\n      return this.comboNode;\n    }\n  }, {\n    key: \"getListNode\",\n    value: function getListNode() {\n      return this.listNode;\n    }\n  }, {\n    key: \"getVirtualListNode\",\n    value: function getVirtualListNode() {\n      return this.listNode && this.listNode.getVirtualListNode();\n    }\n  }, {\n    key: \"getlListNode\",\n    value: function getlListNode() {\n      return this.listNode && this.listNode.getlListNode();\n    }\n  }, {\n    key: \"addItem\",\n    value: function addItem(item) {\n      var newData = [].concat((0, _toConsumableArray2.default)(this.getData()), [item]);\n      this.setData(newData);\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var _this12 = this;\n      this.setValue(null);\n      this.setText(null);\n      globalObject.requestAnimationFrame(function () {\n        if (_this12.toolsNode) {\n          _this12.handleToolsSize();\n        }\n      });\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem(id) {\n      return this.getItemById(id);\n    }\n  }, {\n    key: \"getItemCount\",\n    value: function getItemCount() {\n      var data = this.getData();\n      return Array.isArray(data) ? data.length : null;\n    }\n  }, {\n    key: \"insertItem\",\n    value: function insertItem(_ref14) {\n      var index = _ref14.index,\n        item = _ref14.item;\n      var data = this.getData();\n      var newData = [].concat((0, _toConsumableArray2.default)(data.slice(0, index)), [item], (0, _toConsumableArray2.default)(data.slice(index)));\n      this.setData(newData);\n    }\n  }, {\n    key: \"removeItems\",\n    value: function removeItems(ids) {\n      var _this13 = this;\n      ids = Array.isArray(ids) ? ids : [ids];\n      var data = this.getData();\n      var newData = data.filter(function (item) {\n        var id = _this13.getIdProperty(item);\n        return ids.indexOf(id) === -1;\n      });\n      this.setData(newData);\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      var expanded = this.getExpanded();\n      this.setExpanded(!expanded);\n    }\n  }]);\n  return InovuaComboBox;\n}(_react.Component);\nfunction emptyFn() {}\nInovuaComboBox.defaultProps = {\n  rootClassName: 'inovua-react-toolkit-combo-box',\n  inlineFlex: false,\n  itemEllipsis: true,\n  borderRadius: 0,\n  shadow: true,\n  showShadowOnMouseOver: false,\n  clearTextOnBlur: true,\n  onKeyDown: emptyFn,\n  autoFocus: false,\n  autoBlur: false,\n  focusOnClick: true,\n  onFocus: emptyFn,\n  onBlur: emptyFn,\n  defaultActiveItem: null,\n  highlightFirst: false,\n  onTextChange: emptyFn,\n  searchable: true,\n  tagCloseIconPosition: 'end',\n  removeTagOnBackspace: true,\n  tagEllipsis: true,\n  filterMinLength: 0,\n  filterDelay: 300,\n  activeFirstItemOnFilter: true,\n  clearIcon: true,\n  toggleIcon: true,\n  showClearIconOnMouseOver: false,\n  clearTextOnSelect: true,\n  filterMode: 'contains',\n  highlightMatchedText: false,\n  onActiveTagChange: emptyFn,\n  enableTagNavigation: true,\n  onTagClick: emptyFn,\n  onActiveItemChange: emptyFn,\n  keepTagTextOnRemove: true,\n  onItemClick: emptyFn,\n  onChange: emptyFn,\n  minAutocompleteLength: 3,\n  autocompleteDelay: 300,\n  autocomplete: false,\n  defaultValue: null,\n  multiple: false,\n  removeSelectedItems: false,\n  allowSelectionToggle: true,\n  clearValueOnEmpty: true,\n  onDataSourceLoad: emptyFn,\n  idProperty: 'id',\n  displayProperty: 'label',\n  groupProperty: 'group',\n  limit: 50,\n  skip: 0,\n  onLoadingChange: emptyFn,\n  listLoadingText: 'Loading...',\n  loadingSpinner: true,\n  listEmptyText: 'No data found',\n  defaultText: null,\n  defaultExpanded: false,\n  onExpandedChange: emptyFn,\n  onExpandChange: emptyFn,\n  collapseOnEscape: true,\n  expandOnClick: true,\n  expandOnFocus: true,\n  collapseOnBlur: true,\n  onExpand: emptyFn,\n  onCollapse: emptyFn,\n  expandOnTextChange: true,\n  toggleExpandOnClick: true,\n  wrapMultiple: true,\n  theme: 'default-light',\n  enableNavigation: true,\n  enableListNavigation: true,\n  navigateToNextAfterSelection: true,\n  positions: ['bottom', 'top'],\n  offset: 2,\n  constrainTo: true\n};\nvar VALUE_TYPE = _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number, _propTypes.default.object, _propTypes.default.bool, _propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number, _propTypes.default.object, _propTypes.default.bool]))]);\nInovuaComboBox.propTypes = {\n  rootClassName: _propTypes.default.string,\n  theme: _propTypes.default.string,\n  inlineFlex: _propTypes.default.bool,\n  shouldComponentUpdate: _propTypes.default.func,\n  lazyDataSource: _propTypes.default.bool,\n  remoteFilter: _propTypes.default.bool,\n  disabled: _propTypes.default.bool,\n  readOnly: _propTypes.default.bool,\n  rtl: _propTypes.default.bool,\n  tabIndex: _propTypes.default.number,\n  collapseOnSelect: _propTypes.default.bool,\n  clearTextOnBlur: _propTypes.default.bool,\n  listEmptyText: _propTypes.default.node,\n  listMaxHeight: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  listMinHeight: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  maxTagsLength: _propTypes.default.number,\n  defaultLoading: _propTypes.default.bool,\n  loading: _propTypes.default.bool,\n  onLoadingChange: _propTypes.default.func,\n  listLoadingText: _propTypes.default.node,\n  loadingSpinner: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.bool]),\n  onKeyDown: _propTypes.default.func,\n  onTagClick: _propTypes.default.func,\n  clearIcon: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.func, _propTypes.default.node]),\n  toggleIcon: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.func, _propTypes.default.node]),\n  showClearIconOnMouseOver: _propTypes.default.bool,\n  autoFocus: _propTypes.default.bool,\n  autoBlur: _propTypes.default.bool,\n  focusOnClick: _propTypes.default.bool,\n  onFocus: _propTypes.default.func,\n  onBlur: _propTypes.default.func,\n  borderRadius: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  padding: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  border: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  background: _propTypes.default.string,\n  shadow: _propTypes.default.bool,\n  showShadowOnMouseOver: _propTypes.default.bool,\n  emptyClassName: _propTypes.default.string,\n  emptyStyle: _propTypes.default.object,\n  disabledClassName: _propTypes.default.string,\n  disabledStyle: _propTypes.default.object,\n  focusedClassName: _propTypes.default.string,\n  focusedStyle: _propTypes.default.object,\n  itemBackground: _propTypes.default.string,\n  disabledItemStyle: _propTypes.default.object,\n  disabledItemClassName: _propTypes.default.string,\n  renderItem: _propTypes.default.func,\n  itemEllipsis: _propTypes.default.bool,\n  activeItemStyle: _propTypes.default.object,\n  activeItemClassName: _propTypes.default.string,\n  selectedItemStyle: _propTypes.default.object,\n  limit: _propTypes.default.number,\n  skip: _propTypes.default.number,\n  loadNextPage: _propTypes.default.func,\n  searchable: _propTypes.default.bool,\n  placeholder: _propTypes.default.node,\n  text: _propTypes.default.string,\n  defaultText: _propTypes.default.string,\n  onTextChange: _propTypes.default.func,\n  filterFunction: _propTypes.default.func,\n  filterProperty: _propTypes.default.string,\n  loadLazyDataSource: _propTypes.default.func,\n  filterMinLength: _propTypes.default.number,\n  filterDelay: _propTypes.default.number,\n  activeFirstItemOnFilter: _propTypes.default.bool,\n  renderInput: _propTypes.default.func,\n  inputClassName: _propTypes.default.string,\n  inputStyle: _propTypes.default.object,\n  clearTextOnSelect: _propTypes.default.bool,\n  filterMode: _propTypes.default.oneOf(['startsWith', 'contains']),\n  highlightMatchedText: _propTypes.default.bool,\n  autocomplete: _propTypes.default.bool,\n  minAutocompleteLength: _propTypes.default.number,\n  autocompleteDelay: _propTypes.default.number,\n  enableNavigatio: _propTypes.default.bool,\n  keepTagTextOnRemove: _propTypes.default.bool,\n  tagActiveStyle: _propTypes.default.object,\n  enableTagNavigation: _propTypes.default.bool,\n  activeTag: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  defaultActiveTag: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  onActiveTagChange: _propTypes.default.func,\n  allowCustomTagCreation: _propTypes.default.bool,\n  enableNavigation: _propTypes.default.bool,\n  enableListNavigation: _propTypes.default.bool,\n  highlightFirst: _propTypes.default.bool,\n  activeItem: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  defaultActiveItem: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  onActiveItemChange: _propTypes.default.func,\n  navigateToNextAfterSelection: _propTypes.default.bool,\n  onItemClick: _propTypes.default.func,\n  onChange: _propTypes.default.func,\n  listClassName: _propTypes.default.string,\n  selectedStyle: _propTypes.default.object,\n  selectedClassName: _propTypes.default.string,\n  renderGroup: _propTypes.default.func,\n  renderFooter: _propTypes.default.func,\n  renderHeader: _propTypes.default.func,\n  renderList: _propTypes.default.func,\n  renderListComponent: _propTypes.default.func,\n  value: VALUE_TYPE,\n  defaultValue: VALUE_TYPE,\n  defaultDisplayValue: VALUE_TYPE,\n  removeSelectedItems: _propTypes.default.bool,\n  isSelectedItemValid: _propTypes.default.func,\n  maxValueLength: _propTypes.default.number,\n  changeValueOnNavigation: _propTypes.default.bool,\n  allowSelectionToggle: _propTypes.default.bool,\n  clearSelectedOnTextChange: _propTypes.default.bool,\n  clearValueOnEmpty: _propTypes.default.bool,\n  isNewCustomTagValid: _propTypes.default.func,\n  multiple: _propTypes.default.bool,\n  renderTag: _propTypes.default.func,\n  renderTagLabel: _propTypes.default.func,\n  renderRemainingTags: _propTypes.default.func,\n  renderTags: _propTypes.default.func,\n  tagStyle: _propTypes.default.object,\n  tagBorder: _propTypes.default.string,\n  tagPadding: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  tagHeight: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  tagWidth: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  tagMinSize: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string, _propTypes.default.shape({\n    height: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    width: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  })]),\n  tagMaxSize: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string, _propTypes.default.shape({\n    height: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    width: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  })]),\n  tagCloseIcon: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.node, _propTypes.default.func]),\n  tagCloseIconPosition: _propTypes.default.oneOf(['start', 'end']),\n  tagEllipsis: _propTypes.default.bool,\n  removeTagOnBackspace: _propTypes.default.bool,\n  renderDisplayValue: _propTypes.default.func,\n  dataSource: function dataSource(props, propName) {\n    var dataSource = props[propName];\n    if (dataSource != null && typeof dataSource !== 'function' && !Array.isArray(dataSource) && !(dataSource && dataSource.then)) {\n      return new Error('dataSource must be an array, null, a promise or a function returning a promise.');\n    }\n    return null;\n  },\n  onDataSourceLoad: _propTypes.default.func,\n  idProperty: _propTypes.default.string,\n  displayProperty: _propTypes.default.string,\n  groupProperty: _propTypes.default.string,\n  listStyle: _propTypes.default.object,\n  relativeToViewport: _propTypes.default.bool,\n  expanded: _propTypes.default.bool,\n  defaultExpanded: _propTypes.default.bool,\n  onExpandedChange: _propTypes.default.func,\n  onExpandChange: _propTypes.default.func,\n  collapseOnEscape: _propTypes.default.bool,\n  expandOnClick: _propTypes.default.bool,\n  expandOnFocus: _propTypes.default.bool,\n  collapseOnBlur: _propTypes.default.bool,\n  enablePagination: _propTypes.default.bool,\n  onExpand: _propTypes.default.func,\n  onCollapse: _propTypes.default.func,\n  virtualListFactory: _propTypes.default.func,\n  renderListScroller: _propTypes.default.func,\n  renderVirtualList: _propTypes.default.func,\n  expandOnTextChange: _propTypes.default.bool,\n  toggleExpandOnClick: _propTypes.default.bool,\n  collapseOnSelectWithEnter: _propTypes.default.bool,\n  wrapMultiple: _propTypes.default.bool,\n  newCustomTagText: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.func]),\n  positions: _propTypes.default.arrayOf(_propTypes.default.string),\n  constrainTo: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.func, _propTypes.default.object, _propTypes.default.bool]),\n  offset: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }), _propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  })]))])\n};\nvar _default = InovuaComboBox;\nexports.default = _default;","map":{"version":3,"names":["_interopRequireDefault","require","_typeof3","Object","defineProperty","exports","value","default","REMAINING_ITEMS","_toConsumableArray2","_typeof2","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_defineProperty2","_react","_interopRequireWildcard","_propTypes","_cleanProps","_NotifyResize","_throttle","_containsNode","_TextInput","_Value","_ClearButton","_ToggleButton","_List","_Icons","_shouldComponentUpdate2","_getRootClassName","_getListProps2","_getValueProps2","_getDataProp","_getNewMultipleValue","_getNewSingleValue","_findItemIndex","_filterByValue","_filterByText","_deselectValue","_getNewActiveTagOnRemove","_getNextItem","_groupItems","_getValueMap","_getGroups","_PaginationToolbar","_getGlobal","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Boolean","valueOf","e","globalObject","getGlobal","emptyObject","InovuaComboBox","_Component","_super","props","_this","prevProps","isExpandedControlled","expanded","onExpand","dataSource","loadDataSource","idProperty","updateGetIdProperty","displayProperty","updateGetDisplayProperty","filterProperty","updateGetFilterProperty","groupProperty","updateGroups","isTextControled","text","onTextUpdate","isActiveItemControlled","changeValueOnNavigation","multiple","activeItem","setValue","action","loadLazyDataSource","refTools","tools","toolsNode","state","loading","defaultLoading","then","defaultValue","valueMap","defaultText","activeTag","defaultActiveTag","defaultActiveItem","defaultExpanded","toolsSize","width","height","over","focus","getData","bind","handleItemClick","handleTextChange","handleTextInputClick","handleTagClick","handleRemoveTag","handleComboClick","handleComboKeyDown","handleComboFocus","handleComboBlur","getComboNode","clear","handleMouseEnter","handleMouseLeave","toggleExpand","handleToolsSize","handleRemoveMultipleTag","handleListScrollBottom","handleDelete","getListNode","addTextInputRef","ref","textInput","addRootRef","comboNode","addListRef","listNode","setActiveItem","componentDidMount","autoFocus","activeItemIndex","setState","getItemIndexById","isRemoteFilter","doFilter","lazyDataSource","shouldComponentUpdate","nextProps","nextState","render","renderTextInput","className","computed","getValue","getExpanded","items","getSelectedItems","groupedItems","getGroupedItems","areItemsGrouped","remainingItems","style","getRootStyle","filteredData","getFilteredData","getText","isNewCustomTagValid","allowCustomTagCreation","createElement","propTypes","onClick","onMouseDown","handleComboMouseDown","onKeyDown","onFocus","onBlur","onMouseEnter","onMouseLeave","tabIndex","getValueProps","concat","rootClassName","renderSpinner","renderClearIcon","renderToggleIcon","tagEllipsis","NotifyResize","notifyOnMount","onResize","renderList","borderRadius","padding","border","background","emptyStyle","disabledStyle","disabled","focusedStyle","listProps","getListProps","domProps","undefined","renderListComponent","res","searchable","showClearIcon","clearIcon","showClearIconOnMouseOver","clearButton","onClear","closeIcon","toggleIcon","onToggle","getItemLabel","data","suggestion","minAutocompleteLength","getDisplayProperty","inputProps","theme","placeholder","inputClassName","inputStyle","onChange","throttle","filterDelay","autocomplete","autocompleteDelay","renderInput","loadingSpinner","getLoading","spinner","LoadingIcon","cloneElement","display","groupsLength","groups","getActiveItem","dataLength","getIdProperty","onItemClick","onScrollBottom","_ref","item","label","getActiveTag","tagProps","activeStyle","tagActiveStyle","onCloseTagClick","onMultipleTagClose","_this2","_ref2","appendTo","skip","limit","hasNextPage","Array","isArray","setLoading","setData","remoteCount","count","onDataSourceLoad","config","append","dataResult","_this3","_ref3","dataMap","reduce","acc","updateValueMap","oldValueMap","getValueMap","updateFilteredData","getPageCount","getDataCountForPagination","getCurrentPage","previousSkip","isLastPage","isPaginationEnabled","_ref4","params","hasLoadNextPage","loadNextPage","hasFunctionalDataSource","enablePagination","remoteFilterData","_ref5","_ref5$text","_ref5$value","filterType","newSkip","fn","currentData","currentFilter","isRemoteDataSource","remoteFilter","_ref6","force","_ref7","_ref7$text","_ref7$value","_ref7$data","filterDataByText","filterDataByValue","isFilteredByText","activeFirstItemOnFilter","firstItem","id","_ref8","_ref8$value","_ref8$data","newData","removeSelectedItems","_ref9","_ref9$text","_ref9$data","isFilterTextActive","filterFunction","getFilterProperty","mode","filterMode","hightlight","highlightMatchedText","getDataMap","isValueControlled","newValue","_ref10","readOnly","maxValueLength","collapseOnSelect","collapse","autoBlur","blur","setText","skipFilter","filterMinLength","_ref11","_this4","newValueMap","selectItem","isSelectedItemValid","isItemValid","toggle","allowSelectionToggle","deselectItem","deselectItems","_this5","ids","setExpanded","_this6","expandedPromise","doSetExpanded","_this7","Promise","resolve","currentExpanded","requestAnimationFrame","promise","reject","wasExpandedAtLeastOnce","onCollapse","onExpandChange","onExpandedChange","highlightFirst","getItemByIndex","isActiveTagControlled","setActiveTag","onActiveTagChange","deselectActiveTag","_this8","map","defaultDisplayValue","maxTagsLength","scrollToId","onActiveItemChange","callback","emptyFn","setStateText","onTextChange","_this9","_ref12","clearValueOnEmptyIfNecessary","clearValueOnEmpty","isLoadingControlled","onLoadingChange","event","preventDefault","toggleExpandOnClick","expandOnClick","expand","focusOnClick","hasFocus","expandOnFocus","_this10","isFocused","relatedTarget","collapseOnBlur","clearTextOnBlur","_this11","expandOnTextChange","removeTag","dir","newActiveTag","removeRemainingTags","visibleItems","lastItem","removeTags","onTagClick","getItemById","enableNavigation","enableListNavigation","navigateToNextItem","handleEnterKeyPress","selectActiveItem","enableTagNavigation","navigateToNextTag","handleBackspace","collapseOnEscape","direction","newActiveItem","firstItemId","lastItemId","collapseOnSelectWithEnter","navigateToNextAfterSelection","isNavigationAllowed","itemsIds","currentActiveTag","currentIndex","indexOf","lastIndex","lastTag","firstTag","isFirstTag","isLastTag","inputNode","getTextInputNode","hasSelection","canNavigateLeft","isCursorAtStartPosition","canNavigateRight","isCursorAtEndPosition","handleTagBackspaceRemove","removeTagOnBackspace","canDeleteTag","keepTagTextOnRemove","size","getBoundingClientRect","node","computedStyle","getComputedStyle","parseInt","paddingLeft","paddingRight","scrollToIndex","index","_ref13","_ref13$groupProperty","_ref13$data","getVirtualListNode","getlListNode","addItem","_this12","getItem","getItemCount","insertItem","_ref14","slice","removeItems","_this13","Component","defaultProps","inlineFlex","itemEllipsis","shadow","showShadowOnMouseOver","tagCloseIconPosition","clearTextOnSelect","listLoadingText","listEmptyText","wrapMultiple","positions","offset","constrainTo","VALUE_TYPE","oneOfType","string","number","bool","arrayOf","func","rtl","listMaxHeight","listMinHeight","emptyClassName","disabledClassName","focusedClassName","itemBackground","disabledItemStyle","disabledItemClassName","renderItem","activeItemStyle","activeItemClassName","selectedItemStyle","oneOf","enableNavigatio","listClassName","selectedStyle","selectedClassName","renderGroup","renderFooter","renderHeader","clearSelectedOnTextChange","renderTag","renderTagLabel","renderRemainingTags","renderTags","tagStyle","tagBorder","tagPadding","tagHeight","tagWidth","tagMinSize","shape","tagMaxSize","tagCloseIcon","renderDisplayValue","propName","Error","listStyle","relativeToViewport","virtualListFactory","renderListScroller","renderVirtualList","newCustomTagText","x","y","_default"],"sources":["/Users/alexandre.nepomuceno/Documents/agenda/node_modules/@inovua/reactdatagrid-community/packages/ComboBox/src/ComboBox.js"],"sourcesContent":["/** \n * Copyright Â© INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _typeof3 = require(\"@babel/runtime/helpers/typeof\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.REMAINING_ITEMS = void 0;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _cleanProps = _interopRequireDefault(require(\"../../../common/cleanProps\"));\nvar _NotifyResize = require(\"../../NotifyResize\");\nvar _throttle = _interopRequireDefault(require(\"../../../common/throttle\"));\nvar _containsNode = _interopRequireDefault(require(\"../../../common/containsNode\"));\nvar _TextInput = _interopRequireDefault(require(\"./TextInput\"));\nvar _Value = _interopRequireDefault(require(\"./Value\"));\nvar _ClearButton = _interopRequireDefault(require(\"./ClearButton\"));\nvar _ToggleButton = _interopRequireDefault(require(\"./ToggleButton\"));\nvar _List = _interopRequireDefault(require(\"./List\"));\nvar _Icons = require(\"./Icons\");\nvar _shouldComponentUpdate2 = _interopRequireDefault(require(\"./utils/shouldComponentUpdate\"));\nvar _getRootClassName = _interopRequireDefault(require(\"./utils/getRootClassName\"));\nvar _getListProps2 = _interopRequireDefault(require(\"./utils/getListProps\"));\nvar _getValueProps2 = _interopRequireDefault(require(\"./utils/getValueProps\"));\nvar _getDataProp = _interopRequireDefault(require(\"./utils/getDataProp\"));\nvar _getNewMultipleValue = _interopRequireDefault(require(\"./utils/getNewMultipleValue\"));\nvar _getNewSingleValue = _interopRequireDefault(require(\"./utils/getNewSingleValue\"));\nvar _findItemIndex = _interopRequireDefault(require(\"./utils/findItemIndex\"));\nvar _filterByValue = _interopRequireDefault(require(\"./utils/filterByValue\"));\nvar _filterByText = _interopRequireDefault(require(\"./utils/filterByText\"));\nvar _deselectValue = _interopRequireDefault(require(\"./utils/deselectValue\"));\nvar _getNewActiveTagOnRemove = _interopRequireDefault(require(\"./utils/getNewActiveTagOnRemove\"));\nvar _getNextItem = _interopRequireDefault(require(\"./utils/getNextItem\"));\nvar _groupItems = _interopRequireDefault(require(\"./utils/groupItems\"));\nvar _getValueMap = _interopRequireDefault(require(\"./utils/getValueMap\"));\nvar _getGroups = _interopRequireDefault(require(\"./utils/getGroups\"));\nvar _PaginationToolbar = require(\"../../PaginationToolbar\");\nvar _getGlobal = require(\"../../../getGlobal\");\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof3(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar globalObject = (0, _getGlobal.getGlobal)();\nvar REMAINING_ITEMS = 'REMAINING_ITEMS';\nexports.REMAINING_ITEMS = REMAINING_ITEMS;\nvar emptyObject = {};\nvar InovuaComboBox = function (_Component) {\n  (0, _inherits2.default)(InovuaComboBox, _Component);\n  var _super = _createSuper(InovuaComboBox);\n  function InovuaComboBox(props) {\n    var _this;\n    (0, _classCallCheck2.default)(this, InovuaComboBox);\n    _this = _super.call(this, props);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"componentDidUpdate\", function (prevProps) {\n      if (_this.isExpandedControlled() && _this.props.expanded !== prevProps.expanded) {\n        _this.onExpand();\n      }\n      if (prevProps.dataSource !== _this.props.dataSource) {\n        _this.loadDataSource(_this.props.dataSource, _this.props);\n      }\n      if (_this.props.idProperty !== prevProps.idProperty) {\n        _this.updateGetIdProperty(_this.props);\n      }\n      if (_this.props.displayProperty !== prevProps.displayProperty) {\n        _this.updateGetDisplayProperty(_this.props);\n      }\n      if (_this.props.filterProperty !== prevProps.filterProperty) {\n        _this.updateGetFilterProperty(_this.props);\n      }\n      if (_this.props.groupProperty !== prevProps.groupProperty) {\n        _this.updateGroups({\n          groupProperty: _this.props.groupProperty\n        });\n      }\n      if (_this.isTextControled() && _this.props.text !== prevProps.text) {\n        _this.onTextUpdate(_this.props.text);\n      }\n      if (_this.isActiveItemControlled() && prevProps.changeValueOnNavigation && !prevProps.multiple && prevProps.activeItem !== _this.props.activeItem) {\n        _this.setValue(_this.props.activeItem, {\n          action: 'navigate'\n        });\n      }\n      if (_this.isExpandedControlled() && !prevProps.expanded && _this.props.expanded) {\n        _this.loadLazyDataSource({\n          action: 'expand',\n          text: ''\n        });\n      }\n    });\n    _this.refTools = function (tools) {\n      _this.toolsNode = tools;\n    };\n    _this.state = {\n      loading: props.defaultLoading || !!(props.dataSource && props.dataSource.then),\n      value: props.defaultValue,\n      valueMap: {},\n      text: props.defaultText,\n      activeTag: props.defaultActiveTag,\n      activeItem: props.defaultActiveItem || !props.multiple && props.defaultValue,\n      expanded: props.defaultExpanded,\n      toolsSize: {\n        width: 0,\n        height: 0\n      },\n      over: false,\n      focus: false\n    };\n    _this.getData = _this.getData.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleItemClick = _this.handleItemClick.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleTextChange = _this.handleTextChange.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleTextInputClick = _this.handleTextInputClick.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleTagClick = _this.handleTagClick.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleRemoveTag = _this.handleRemoveTag.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleComboClick = _this.handleComboClick.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleComboKeyDown = _this.handleComboKeyDown.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleComboFocus = _this.handleComboFocus.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleComboBlur = _this.handleComboBlur.bind((0, _assertThisInitialized2.default)(_this));\n    _this.getComboNode = _this.getComboNode.bind((0, _assertThisInitialized2.default)(_this));\n    _this.clear = _this.clear.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleMouseEnter = _this.handleMouseEnter.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleMouseLeave = _this.handleMouseLeave.bind((0, _assertThisInitialized2.default)(_this));\n    _this.toggleExpand = _this.toggleExpand.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleToolsSize = _this.handleToolsSize.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleRemoveMultipleTag = _this.handleRemoveMultipleTag.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleListScrollBottom = _this.handleListScrollBottom.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleDelete = _this.handleDelete.bind((0, _assertThisInitialized2.default)(_this));\n    _this.getListNode = _this.getListNode.bind((0, _assertThisInitialized2.default)(_this));\n    _this.updateGetIdProperty();\n    _this.updateGetDisplayProperty();\n    _this.updateGetFilterProperty();\n    _this.addTextInputRef = function (ref) {\n      _this.textInput = ref;\n    };\n    _this.addRootRef = function (ref) {\n      _this.comboNode = ref;\n    };\n    _this.addListRef = function (ref) {\n      _this.listNode = ref;\n    };\n    _this.setActiveItem = (0, _throttle.default)(_this.setActiveItem, 16);\n    return _this;\n  }\n  (0, _createClass2.default)(InovuaComboBox, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.autoFocus) {\n        this.focus();\n      }\n      if (this.state.activeItem && this.state.activeItemIndex == null) {\n        this.setState({\n          activeItemIndex: this.getItemIndexById(this.state.activeItem)\n        });\n      }\n      if (!this.isRemoteFilter()) {\n        this.doFilter();\n      }\n      if (!this.props.lazyDataSource) {\n        this.loadDataSource(this.props.dataSource);\n      }\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return (0, _shouldComponentUpdate2.default)(this, nextProps, nextState);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = this.props,\n        state = this.state;\n      var textInput = this.renderTextInput();\n      var className = (0, _getRootClassName.default)({\n        props: props,\n        state: state,\n        computed: {\n          value: this.getValue()\n        }\n      });\n      var expanded = this.getExpanded();\n      var items = this.getSelectedItems();\n      var groupedItems = this.groupedItems = this.getGroupedItems(this.getSelectedItems());\n      this.areItemsGrouped = this.groupedItems && this.groupedItems.remainingItems && this.groupedItems.remainingItems.length;\n      var style = this.getRootStyle();\n      var filteredData = this.getFilteredData();\n      var text = this.getText();\n      this.isNewCustomTagValid = (!filteredData || filteredData.length === 0) && !!text && props.allowCustomTagCreation;\n      return _react.default.createElement(\"div\", _objectSpread(_objectSpread({}, (0, _cleanProps.default)(props, InovuaComboBox.propTypes)), {}, {\n        onClick: this.handleComboClick,\n        onMouseDown: this.handleComboMouseDown,\n        onKeyDown: this.handleComboKeyDown,\n        onFocus: this.handleComboFocus,\n        onBlur: this.handleComboBlur,\n        className: className,\n        style: style,\n        ref: this.addRootRef,\n        onMouseEnter: this.handleMouseEnter,\n        onMouseLeave: this.handleMouseLeave,\n        tabIndex: 0\n      }), _react.default.createElement(_Value.default, _objectSpread(_objectSpread({}, this.getValueProps({\n        items: items,\n        groupedItems: groupedItems\n      })), {}, {\n        textInput: textInput,\n        toolsSize: state.toolsSize\n      })), _react.default.createElement(\"div\", {\n        className: \"\".concat(props.rootClassName, \"__tools\"),\n        ref: this.refTools\n      }, this.renderSpinner(), this.renderClearIcon(), this.renderToggleIcon(), this.props.tagEllipsis && _react.default.createElement(_NotifyResize.NotifyResize, {\n        notifyOnMount: true,\n        onResize: this.handleToolsSize\n      })), expanded && this.renderList());\n    }\n  }, {\n    key: \"getRootStyle\",\n    value: function getRootStyle() {\n      var props = this.props,\n        state = this.state;\n      var style = _objectSpread({}, props.style);\n      if (props.borderRadius) {\n        style.borderRadius = props.borderRadius;\n      }\n      if (props.padding) {\n        style.padding = props.padding;\n      }\n      if (props.border) {\n        style.border = props.border;\n      }\n      if (props.background) {\n        style.background = props.background;\n      }\n      if (!this.getValue() && props.emptyStyle) {\n        style = _objectSpread(_objectSpread({}, style), props.emptyStyle);\n      }\n      if (props.disabledStyle && props.disabled) {\n        style = _objectSpread(_objectSpread({}, style), props.disabledStyle);\n      }\n      if (state.focus && props.focusedStyle) {\n        style = _objectSpread(_objectSpread({}, style), props.focusedStyle);\n      }\n      return style;\n    }\n  }, {\n    key: \"renderList\",\n    value: function renderList() {\n      var listProps = this.getListProps();\n      var result;\n      if (typeof this.props.renderList === 'function') {\n        result = this.props.renderList({\n          domProps: listProps,\n          items: this.getFilteredData()\n        });\n      }\n      if (result === undefined) {\n        result = _react.default.createElement(_List.default, _objectSpread({}, listProps));\n      }\n      if (typeof this.props.renderListComponent === 'function') {\n        var res = this.props.renderListComponent(result);\n        if ((0, _typeof2.default)(res) !== undefined) {\n          return res;\n        }\n        result = res;\n      }\n      return result;\n    }\n  }, {\n    key: \"renderClearIcon\",\n    value: function renderClearIcon() {\n      var props = this.props,\n        state = this.state;\n      var searchable = props.searchable;\n      var text = this.getText();\n      var value = this.getValue();\n      var showClearIcon = (text || value != null) && props.clearIcon;\n      if (props.showClearIconOnMouseOver) {\n        if (!state.over) {\n          showClearIcon = false;\n        }\n      }\n      if (searchable === false) {\n        showClearIcon = false;\n      }\n      if (!showClearIcon) {\n        return null;\n      }\n      var clearButton = _react.default.createElement(_ClearButton.default, {\n        onClear: this.clear,\n        closeIcon: props.clearIcon,\n        className: \"\".concat(props.rootClassName, \"__clear-icon\")\n      });\n      return clearButton;\n    }\n  }, {\n    key: \"renderToggleIcon\",\n    value: function renderToggleIcon() {\n      var props = this.props;\n      if (!props.toggleIcon) {\n        return null;\n      }\n      return _react.default.createElement(_ToggleButton.default, {\n        onToggle: this.toggleExpand,\n        className: \"\".concat(props.rootClassName, \"__toggle-icon\"),\n        toggleIcon: props.toggleIcon,\n        expanded: this.getExpanded()\n      });\n    }\n  }, {\n    key: \"renderTextInput\",\n    value: function renderTextInput() {\n      if (this.props.disabled) {\n        return null;\n      }\n      var text = this.getText();\n      var value = text;\n      if (!this.props.multiple) {\n        if (text == null) {\n          value = this.getValue() == null ? '' : this.getItemLabel();\n        } else {\n          value = text;\n        }\n      }\n      var data = this.getFilteredData();\n      var suggestion = null;\n      if (this.props.minAutocompleteLength <= (value && value.length) && data && data[0]) {\n        suggestion = this.getDisplayProperty(data[0]);\n      }\n      var inputProps = {\n        key: 'text_input',\n        value: value,\n        theme: this.props.theme,\n        suggestion: suggestion,\n        placeholder: this.props.placeholder,\n        rootClassName: \"\".concat(this.props.rootClassName, \"__input\"),\n        className: this.props.inputClassName,\n        style: this.props.inputStyle,\n        onChange: this.handleTextChange,\n        ref: this.addTextInputRef,\n        onClick: this.handleTextInputClick,\n        throttle: this.props.filterDelay,\n        autocomplete: this.props.autocomplete,\n        tabIndex: this.props.tabIndex,\n        autocompleteDelay: this.props.autocompleteDelay,\n        searchable: this.props.searchable\n      };\n      var result;\n      if (typeof this.props.renderInput === 'function') {\n        result = this.props.renderInput({\n          text: text,\n          domProps: inputProps,\n          onChange: inputProps.onChange\n        });\n      }\n      if (result === undefined) {\n        result = _react.default.createElement(_TextInput.default, _objectSpread({}, inputProps));\n      }\n      return result;\n    }\n  }, {\n    key: \"renderSpinner\",\n    value: function renderSpinner() {\n      if (!this.props.loadingSpinner) {\n        return null;\n      }\n      var loading = this.getLoading();\n      if (!loading && !this.getExpanded()) {\n        return null;\n      }\n      var spinner = this.props.loadingSpinner === true ? _react.default.createElement(_Icons.LoadingIcon, {\n        className: \"\".concat(this.props.rootClassName, \"__loading-spinner\")\n      }) : this.props.loadingSpinner;\n      return loading ? spinner : (0, _react.cloneElement)(spinner, {\n        style: spinner.props.style ? _objectSpread(_objectSpread({}, spinner.props.style), {}, {\n          display: 'none'\n        }) : {\n          display: 'none'\n        }\n      });\n    }\n  }, {\n    key: \"getListProps\",\n    value: function getListProps() {\n      var props = this.props,\n        state = this.state;\n      var data = this.getFilteredData();\n      var groupsLength = this.state.groups && Object.keys(this.state.groups).length || 0;\n      var listProps = (0, _getListProps2.default)({\n        props: props,\n        state: state,\n        computed: {\n          data: data,\n          loading: this.getLoading(),\n          activeItem: this.getActiveItem(),\n          value: this.getValue(),\n          dataLength: data && data.length + groupsLength || 0,\n          getIdProperty: this.getIdProperty,\n          getDisplayProperty: this.getDisplayProperty,\n          onItemClick: this.handleItemClick,\n          getComboNode: this.getComboNode,\n          ref: this.addListRef,\n          onScrollBottom: this.handleListScrollBottom,\n          text: this.getText(),\n          isNewCustomTagValid: this.isNewCustomTagValid\n        }\n      });\n      return listProps;\n    }\n  }, {\n    key: \"getValueProps\",\n    value: function getValueProps(_ref) {\n      var items = _ref.items,\n        groupedItems = _ref.groupedItems,\n        item = _ref.item;\n      var props = this.props,\n        state = this.state;\n      var value = this.getValue();\n      return (0, _getValueProps2.default)({\n        props: props,\n        state: state,\n        computed: {\n          items: items,\n          item: item,\n          groupedItems: groupedItems,\n          value: value,\n          label: this.getItemLabel(),\n          activeTag: this.getActiveTag()\n        },\n        tagProps: {\n          activeStyle: props.tagActiveStyle,\n          onClick: this.handleTagClick,\n          onCloseTagClick: this.handleRemoveTag,\n          onMultipleTagClose: this.handleRemoveMultipleTag\n        }\n      });\n    }\n  }, {\n    key: \"loadDataSource\",\n    value: function loadDataSource(dataSource) {\n      var _this2 = this;\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props;\n      var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : emptyObject,\n        appendTo = _ref2.appendTo,\n        action = _ref2.action,\n        value = _ref2.value,\n        text = _ref2.text,\n        skip = _ref2.skip,\n        limit = _ref2.limit,\n        hasNextPage = _ref2.hasNextPage;\n      if (Array.isArray(dataSource)) {\n        if (this.getLoading()) {\n          this.setLoading(false);\n        }\n        this.setData(dataSource, props, {\n          appendTo: appendTo\n        });\n        return;\n      }\n      if (dataSource && Array.isArray(dataSource.data)) {\n        if (this.getLoading()) {\n          this.setLoading(false);\n        }\n        this.setData(dataSource.data, props, {\n          remoteCount: dataSource.count != null ? dataSource.count * 1 : null,\n          appendTo: appendTo\n        });\n        return;\n      }\n      if (dataSource && dataSource.then) {\n        this.setLoading(true);\n        dataSource.then(function (data) {\n          _this2.props.onDataSourceLoad(data);\n          _this2.loadDataSource(data, props, {\n            appendTo: appendTo\n          });\n        });\n        return;\n      }\n      if (typeof dataSource === 'function') {\n        var config = _objectSpread(_objectSpread({}, props), {}, {\n          data: this.state.data,\n          hasNextPage: hasNextPage !== undefined ? hasNextPage : this.hasNextPage(),\n          text: this.isRemoteFilter() ? text !== undefined ? text : this.getText() : undefined,\n          skip: skip || 0,\n          action: action,\n          append: !!appendTo,\n          value: value !== undefined ? value : this.getValue(),\n          limit: limit !== undefined ? limit : this.props.limit\n        });\n        var dataResult = dataSource(config);\n        this.loadDataSource(dataResult, undefined, {\n          appendTo: config.append === false ? null : appendTo\n        });\n      }\n      if (!dataSource) {\n        this.setData(null, props);\n      }\n    }\n  }, {\n    key: \"setData\",\n    value: function setData(data) {\n      var _this3 = this;\n      var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props;\n      var _ref3 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : emptyObject,\n        remoteCount = _ref3.remoteCount,\n        appendTo = _ref3.appendTo;\n      if (!data) {\n        this.setState({\n          data: null,\n          dataMap: null,\n          filteredData: null,\n          remoteCount: null\n        });\n        return null;\n      }\n      if (Array.isArray(appendTo)) {\n        data = appendTo.concat(data);\n      }\n      var dataMap = data.reduce(function (acc, item) {\n        acc[_this3.getIdProperty(item)] = item;\n        return acc;\n      }, {});\n      if (props.groupProperty) {\n        this.updateGroups({\n          data: data,\n          groupProperty: props.groupProperty\n        });\n      }\n      this.updateValueMap({\n        value: this.getValue(props),\n        dataMap: dataMap,\n        oldValueMap: this.getValueMap()\n      });\n      this.updateFilteredData({\n        data: data\n      });\n      this.setState({\n        data: data,\n        dataMap: dataMap,\n        remoteCount: remoteCount\n      });\n    }\n  }, {\n    key: \"getPageCount\",\n    value: function getPageCount() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var count = this.getDataCountForPagination(props);\n      return (0, _PaginationToolbar.getPageCount)({\n        count: count,\n        limit: props.limit\n      });\n    }\n  }, {\n    key: \"hasNextPage\",\n    value: function hasNextPage() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      return this.getCurrentPage(props) < this.getPageCount(props);\n    }\n  }, {\n    key: \"getCurrentPage\",\n    value: function getCurrentPage() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var limit = props.limit,\n        skip = props.skip;\n      return (0, _PaginationToolbar.getCurrentPage)({\n        skip: this.previousSkip ? this.previousSkip : 0,\n        limit: limit\n      });\n    }\n  }, {\n    key: \"isLastPage\",\n    value: function isLastPage() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n    }\n  }, {\n    key: \"getDataCountForPagination\",\n    value: function getDataCountForPagination() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var data = this.getData();\n      var count = this.isPaginationEnabled(props) ? props.remoteCount || this.state.remoteCount : data ? data.length : 0;\n      return count || 0;\n    }\n  }, {\n    key: \"getFilteredData\",\n    value: function getFilteredData() {\n      return this.state.filteredData;\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      return this.state.data;\n    }\n  }, {\n    key: \"loadLazyDataSource\",\n    value: function loadLazyDataSource(_ref4) {\n      var action = _ref4.action,\n        text = _ref4.text;\n      if (!this.props.lazyDataSource) {\n        return null;\n      }\n      var params = {\n        action: action,\n        text: text,\n        value: this.getValue()\n      };\n      this.setData(null);\n      this.loadDataSource(this.props.dataSource, undefined, params);\n      return null;\n    }\n  }, {\n    key: \"isPaginationEnabled\",\n    value: function isPaginationEnabled() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var hasLoadNextPage = typeof props.loadNextPage === 'function';\n      var hasFunctionalDataSource = typeof props.dataSource === 'function';\n      if (props.enablePagination === false) {\n        return false;\n      }\n      return props.enablePagination ? hasLoadNextPage || hasFunctionalDataSource : hasLoadNextPage;\n    }\n  }, {\n    key: \"remoteFilterData\",\n    value: function remoteFilterData() {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref5$text = _ref5.text,\n        text = _ref5$text === void 0 ? this.getText() : _ref5$text,\n        _ref5$value = _ref5.value,\n        value = _ref5$value === void 0 ? this.getValue() : _ref5$value,\n        filterType = _ref5.filterType;\n      this.previousSkip = null;\n      this.loadDataSource(this.props.dataSource, undefined, {\n        text: text,\n        skip: 0\n      });\n    }\n  }, {\n    key: \"loadNextPage\",\n    value: function loadNextPage() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var filteredData = this.getFilteredData();\n      if (filteredData && filteredData.length < 3) {\n        return null;\n      }\n      if (this.previousSkip == null) {\n        this.previousSkip = props.skip;\n      }\n      var limit = props.limit;\n      var hasNextPage = this.hasNextPage();\n      var newSkip = this.previousSkip + limit;\n      this.previousSkip = newSkip;\n      if (!this.isPaginationEnabled()) {\n        return;\n      }\n      var fn = typeof props.dataSource === 'function' ? props.dataSource : null;\n      if (fn && hasNextPage) {\n        var currentData = this.state.data;\n        this.loadDataSource(this.props.dataSource, undefined, {\n          appendTo: currentData,\n          hasNextPage: hasNextPage,\n          skip: newSkip,\n          limit: limit,\n          filter: this.currentFilter\n        });\n      }\n    }\n  }, {\n    key: \"isRemoteDataSource\",\n    value: function isRemoteDataSource() {\n      return typeof this.props.dataSource === 'function';\n    }\n  }, {\n    key: \"isRemoteFilter\",\n    value: function isRemoteFilter() {\n      return (0, _typeof2.default)(this.isRemoteDataSource()) && this.props.remoteFilter;\n    }\n  }, {\n    key: \"doFilter\",\n    value: function doFilter() {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        text = _ref6.text,\n        value = _ref6.value,\n        force = _ref6.force,\n        data = _ref6.data,\n        filterType = _ref6.filterType,\n        action = _ref6.action;\n      if (this.currentFilter === text && !force) {\n        return;\n      }\n      this.currentFilter = text;\n      if (this.isRemoteFilter()) {\n        if (action === 'select') {\n          return;\n        }\n        this.remoteFilterData({\n          value: value,\n          text: text,\n          filterType: filterType\n        });\n      } else {\n        this.updateFilteredData({\n          text: text,\n          value: value,\n          data: data,\n          filterType: filterType\n        });\n      }\n    }\n  }, {\n    key: \"updateFilteredData\",\n    value: function updateFilteredData() {\n      var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref7$text = _ref7.text,\n        text = _ref7$text === void 0 ? this.getText() : _ref7$text,\n        _ref7$value = _ref7.value,\n        value = _ref7$value === void 0 ? this.getValue() : _ref7$value,\n        _ref7$data = _ref7.data,\n        data = _ref7$data === void 0 ? this.state.data : _ref7$data,\n        filterType = _ref7.filterType;\n      var filteredData = data;\n      if (!Array.isArray(filteredData)) {\n        return filteredData;\n      }\n      if (!this.isRemoteFilter()) {\n        filteredData = this.filterDataByText({\n          text: text,\n          data: filteredData\n        });\n        filteredData = this.filterDataByValue({\n          value: value,\n          text: text,\n          data: filteredData\n        });\n      }\n      var isFilteredByText = filterType === 'text' && data.length !== filteredData.length;\n      if (isFilteredByText && this.props.activeFirstItemOnFilter) {\n        var firstItem = filteredData && filteredData[0];\n        if (firstItem) {\n          var id = this.getIdProperty(firstItem);\n          this.setActiveItem(id);\n        } else {\n          this.setActiveItem(null);\n        }\n      }\n      this.setState({\n        filteredData: filteredData\n      });\n    }\n  }, {\n    key: \"filterDataByValue\",\n    value: function filterDataByValue(_ref8) {\n      var _ref8$value = _ref8.value,\n        value = _ref8$value === void 0 ? this.getValue() : _ref8$value,\n        _ref8$data = _ref8.data,\n        data = _ref8$data === void 0 ? this.state.data : _ref8$data;\n      if (!Array.isArray(data)) {\n        return data;\n      }\n      var newData = data;\n      if (data && value && this.props.removeSelectedItems) {\n        newData = (0, _filterByValue.default)({\n          data: newData,\n          getIdProperty: this.getIdProperty,\n          value: value\n        });\n      }\n      return newData;\n    }\n  }, {\n    key: \"filterDataByText\",\n    value: function filterDataByText(_ref9) {\n      var _ref9$text = _ref9.text,\n        text = _ref9$text === void 0 ? this.getText() : _ref9$text,\n        _ref9$data = _ref9.data,\n        data = _ref9$data === void 0 ? this.state.data : _ref9$data;\n      if (!data || !text) {\n        return data;\n      }\n      var newData = data;\n      if (this.isFilterTextActive()) {\n        var filterFunction = this.props.filterFunction;\n        newData = (0, _filterByText.default)({\n          data: data,\n          text: text,\n          filterFunction: filterFunction,\n          getFilterProperty: this.getFilterProperty || this.getDisplayProperty,\n          mode: this.props.filterMode,\n          hightlight: this.props.highlightMatchedText\n        });\n      }\n      return newData;\n    }\n  }, {\n    key: \"getDataMap\",\n    value: function getDataMap() {\n      return this.state.dataMap;\n    }\n  }, {\n    key: \"getValueMap\",\n    value: function getValueMap() {\n      return this.state.valueMap;\n    }\n  }, {\n    key: \"isValueControlled\",\n    value: function isValueControlled() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      return props.value !== undefined;\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      return this.isValueControlled(props) ? props.value : this.state.value;\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(newValue) {\n      var _ref10 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        action = _ref10.action;\n      if (this.props.disabled) {\n        return null;\n      }\n      if (this.props.readOnly) {\n        return null;\n      }\n      if (this.props.maxValueLength && newValue && newValue.length > this.props.maxValueLength) {\n        return null;\n      }\n      if (this.props.collapseOnSelect && action !== 'navigate') {\n        this.collapse();\n      }\n      if (this.props.autoBlur) {\n        this.blur();\n      }\n      if (!this.isValueControlled()) {\n        this.setState({\n          value: newValue\n        });\n      }\n      this.setText(null, {\n        skipFilter: true\n      });\n      this.updateValueMap({\n        value: newValue\n      });\n      this.props.onChange(newValue);\n    }\n  }, {\n    key: \"isFilterTextActive\",\n    value: function isFilterTextActive() {\n      var text = this.getText();\n      var data = this.getFilteredData();\n      return data && text && this.props.searchable && text.length >= this.props.filterMinLength;\n    }\n  }, {\n    key: \"updateValueMap\",\n    value: function updateValueMap(_ref11) {\n      var _this4 = this;\n      var value = _ref11.value,\n        dataMap = _ref11.dataMap,\n        oldValueMap = _ref11.oldValueMap;\n      var newValueMap = (0, _getValueMap.default)({\n        value: value,\n        dataMap: dataMap || this.getDataMap(),\n        oldValueMap: oldValueMap || this.getValueMap()\n      });\n      if (newValueMap) {\n        newValueMap = Object.keys(newValueMap).reduce(function (acc, id) {\n          var item = newValueMap[id];\n          acc[id] = _objectSpread(_objectSpread({}, item), {}, {\n            id: _this4.getIdProperty(item),\n            label: _this4.getDisplayProperty(item) || item\n          });\n          return acc;\n        }, {});\n      }\n      this.setState({\n        valueMap: newValueMap\n      });\n    }\n  }, {\n    key: \"selectItem\",\n    value: function selectItem(id) {\n      var dataMap = this.getDataMap();\n      var item = dataMap && dataMap[id];\n      if (!item && !this.props.allowCustomTagCreation) {\n        return null;\n      }\n      if (typeof this.props.isSelectedItemValid === 'function') {\n        var isItemValid = this.props.isSelectedItemValid(item);\n        if (!isItemValid) {\n          return null;\n        }\n      }\n      var value = this.getValue();\n      var newValue;\n      if (this.props.multiple) {\n        newValue = (0, _getNewMultipleValue.default)({\n          id: id,\n          value: value\n        });\n      } else {\n        newValue = (0, _getNewSingleValue.default)({\n          id: id,\n          value: value,\n          toggle: this.props.changeValueOnNavigation ? false : this.props.allowSelectionToggle\n        });\n      }\n      this.setValue(newValue, {\n        action: 'select'\n      });\n      this.props.onItemClick({\n        item: item,\n        id: id\n      });\n    }\n  }, {\n    key: \"deselectItem\",\n    value: function deselectItem(id) {\n      var value = this.getValue();\n      var newValue = (0, _deselectValue.default)({\n        id: id,\n        value: value,\n        getIdProperty: this.getIdProperty\n      });\n      this.setValue(newValue);\n    }\n  }, {\n    key: \"deselectItems\",\n    value: function deselectItems() {\n      var _this5 = this;\n      var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var value = this.getValue();\n      var newValue = ids.reduce(function (acc, id) {\n        acc = (0, _deselectValue.default)({\n          id: id,\n          value: acc,\n          getIdProperty: _this5.getIdProperty\n        });\n        return acc;\n      }, value);\n      this.setValue(newValue);\n    }\n  }, {\n    key: \"getExpanded\",\n    value: function getExpanded() {\n      return this.isExpandedControlled() ? this.props.expanded : this.expanded != null ? this.expanded : this.state.expanded;\n    }\n  }, {\n    key: \"isExpandedControlled\",\n    value: function isExpandedControlled() {\n      return this.props.expanded !== undefined;\n    }\n  }, {\n    key: \"setExpanded\",\n    value: function setExpanded(expanded) {\n      var _this6 = this;\n      if (this.expandedPromise) {\n        this.expandedPromise.then(function (result) {\n          if (_this6.getExpanded() !== expanded) {\n            _this6.setExpanded(expanded);\n          }\n        });\n        return;\n      }\n      this.expandedPromise = this.doSetExpanded(expanded).then(function () {\n        delete _this6.expandedPromise;\n      });\n    }\n  }, {\n    key: \"doSetExpanded\",\n    value: function doSetExpanded(expanded) {\n      var _this7 = this;\n      if (this.props.disabled) {\n        return Promise.resolve(null);\n      }\n      var currentExpanded = this.getExpanded();\n      if (currentExpanded === expanded) {\n        return Promise.resolve(expanded);\n      }\n      if (!expanded && this.isRemoteFilter()) {\n        this.previousSkip = null;\n      }\n      globalObject.requestAnimationFrame(function () {\n        if (_this7.toolsNode) {\n          _this7.handleToolsSize();\n        }\n      });\n      var promise;\n      if (!this.isExpandedControlled()) {\n        promise = new Promise(function (resolve, reject) {\n          _this7.setState({\n            expanded: expanded\n          }, function () {\n            resolve(expanded);\n          });\n        });\n      } else {\n        promise = Promise.resolve(expanded);\n      }\n      if (expanded) {\n        if (this.isRemoteDataSource() && this.state.data === undefined) {\n          this.loadDataSource(this.props.dataSource);\n        } else {\n          if (this.wasExpandedAtLeastOnce) {\n            this.doFilter({\n              text: '',\n              action: 'expand',\n              force: true\n            });\n          }\n        }\n      }\n      if (expanded && !this.wasExpandedAtLeastOnce) {\n        this.wasExpandedAtLeastOnce = true;\n      }\n      if (expanded) {\n        this.onExpand();\n      } else {\n        this.props.onCollapse();\n      }\n      this.props.onExpandChange(expanded);\n      this.props.onExpandedChange(expanded);\n      return promise;\n    }\n  }, {\n    key: \"onExpand\",\n    value: function onExpand() {\n      this.props.onExpand();\n      if (this.props.highlightFirst) {\n        var activeItem = this.getActiveItem();\n        if (!activeItem) {\n          var firstItem = this.getItemByIndex(0);\n          if (firstItem) {\n            var id = this.getIdProperty(firstItem);\n            this.setActiveItem(id);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"isActiveTagControlled\",\n    value: function isActiveTagControlled() {\n      return this.props.activeTag !== undefined;\n    }\n  }, {\n    key: \"setActiveTag\",\n    value: function setActiveTag(id) {\n      if (this.props.disabled) {\n        return null;\n      }\n      if (!this.isActiveTagControlled()) {\n        this.setState({\n          activeTag: id\n        });\n      }\n      this.props.onActiveTagChange(id);\n    }\n  }, {\n    key: \"deselectActiveTag\",\n    value: function deselectActiveTag() {\n      var activeTag = this.getActiveTag();\n      if (activeTag) {\n        this.setActiveTag(null);\n      }\n    }\n  }, {\n    key: \"getActiveTag\",\n    value: function getActiveTag() {\n      return this.isActiveTagControlled() ? this.props.activeTag : this.state.activeTag;\n    }\n  }, {\n    key: \"getSelectedItems\",\n    value: function getSelectedItems() {\n      var _this8 = this;\n      var valueMap = this.getValueMap();\n      var value = this.getValue();\n      var items = null;\n      if (value) {\n        value = Array.isArray(value) ? value : [value];\n        items = value.map(function (id) {\n          return valueMap[id] || {\n            id: (0, _typeof2.default)(id) === 'object' ? _this8.getIdProperty(id) : id,\n            label: (0, _typeof2.default)(id) === 'object' ? _this8.getDisplayProperty(id) : _this8.getItemLabel(id)\n          };\n        });\n      }\n      return items;\n    }\n  }, {\n    key: \"getItemLabel\",\n    value: function getItemLabel(id) {\n      id = id === undefined ? this.getValue() : id;\n      var valueMap = this.getValueMap();\n      var dataMap = this.getDataMap();\n      var label;\n      if (valueMap && valueMap[id]) {\n        label = valueMap[id].label;\n      } else if (dataMap && dataMap[id]) {\n        label = this.getDisplayProperty(dataMap[id]);\n      }\n      if (label === undefined) {\n        label = this.props.defaultDisplayValue !== undefined && id != null ? this.props.defaultDisplayValue : id;\n      }\n      return label;\n    }\n  }, {\n    key: \"getGroupedItems\",\n    value: function getGroupedItems(items) {\n      var maxTagsLength = this.props.maxTagsLength;\n      if (maxTagsLength == null || !items) {\n        return null;\n      }\n      return (0, _groupItems.default)({\n        maxTagsLength: maxTagsLength,\n        items: items\n      });\n    }\n  }, {\n    key: \"isActiveItemControlled\",\n    value: function isActiveItemControlled() {\n      return this.props.activeItem !== undefined;\n    }\n  }, {\n    key: \"setActiveItem\",\n    value: function setActiveItem(id) {\n      if (this.props.disabled) {\n        return null;\n      }\n      var activeItem = this.getActiveItem();\n      if (activeItem === id) {\n        return null;\n      }\n      if (!this.isActiveItemControlled()) {\n        var activeItemIndex = null;\n        if (id) {\n          activeItemIndex = this.getItemIndexById(id);\n        }\n        this.setState({\n          activeItemIndex: activeItemIndex,\n          activeItem: id\n        });\n        if (this.props.changeValueOnNavigation && !this.props.multiple) {\n          this.setValue(id, {\n            action: 'navigate'\n          });\n        }\n      }\n      this.scrollToId(id);\n      this.props.onActiveItemChange(id);\n    }\n  }, {\n    key: \"getActiveItem\",\n    value: function getActiveItem() {\n      return this.isActiveItemControlled() ? this.props.activeItem : this.state.activeItem;\n    }\n  }, {\n    key: \"isTextControled\",\n    value: function isTextControled() {\n      return this.props.text != null;\n    }\n  }, {\n    key: \"getText\",\n    value: function getText() {\n      return this.isTextControled() ? this.props.text : this.state.text;\n    }\n  }, {\n    key: \"setText\",\n    value: function setText(text) {\n      var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : emptyObject;\n      var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : emptyFn;\n      if (typeof config === 'function') {\n        callback = config;\n        config = emptyObject;\n      }\n      if (text === this.getText()) {\n        callback();\n        return;\n      }\n      if (!this.isTextControled()) {\n        this.setStateText(text, config, callback);\n      }\n      this.props.onTextChange(text);\n    }\n  }, {\n    key: \"setStateText\",\n    value: function setStateText(text) {\n      var _this9 = this;\n      var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : emptyObject;\n      var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : emptyFn;\n      if (typeof config === 'function') {\n        callback = config;\n        config = emptyObject;\n      }\n      this.setState({\n        text: text\n      }, function () {\n        _this9.onTextUpdate(text, config);\n        callback();\n      });\n    }\n  }, {\n    key: \"onTextUpdate\",\n    value: function onTextUpdate(text) {\n      var _ref12 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : emptyObject,\n        skipFilter = _ref12.skipFilter;\n      this.clearValueOnEmptyIfNecessary(text);\n      if (!skipFilter) {\n        this.doFilter({\n          text: text,\n          filterType: 'text'\n        });\n      }\n    }\n  }, {\n    key: \"clearValueOnEmptyIfNecessary\",\n    value: function clearValueOnEmptyIfNecessary(text) {\n      if (this.props.clearValueOnEmpty && !this.props.multiple && text === '') {\n        this.setValue(null);\n      }\n    }\n  }, {\n    key: \"getLoading\",\n    value: function getLoading() {\n      return this.isLoadingControlled() ? this.props.loading : this.state.loading;\n    }\n  }, {\n    key: \"isLoadingControlled\",\n    value: function isLoadingControlled() {\n      return this.props.loading != null;\n    }\n  }, {\n    key: \"setLoading\",\n    value: function setLoading(loading) {\n      if (loading === this.state.loading) {\n        return;\n      }\n      if (!this.isLoadingControlled()) {\n        this.setState({\n          loading: loading\n        });\n      }\n      this.props.onLoadingChange(loading);\n    }\n  }, {\n    key: \"handleComboClick\",\n    value: function handleComboClick(event) {\n      event.preventDefault();\n      if (this.props.toggleExpandOnClick) {\n        this.toggleExpand();\n      } else if (this.props.expandOnClick) {\n        this.expand();\n      }\n      if (this.props.focusOnClick && !this.hasFocus()) {\n        this.focus();\n      }\n    }\n  }, {\n    key: \"handleMouseEnter\",\n    value: function handleMouseEnter() {\n      this.setState({\n        over: true\n      });\n    }\n  }, {\n    key: \"handleMouseLeave\",\n    value: function handleMouseLeave() {\n      this.setState({\n        over: false\n      });\n    }\n  }, {\n    key: \"handleComboFocus\",\n    value: function handleComboFocus() {\n      if (this.props.expandOnFocus) {\n        this.expand();\n      }\n      this.setState({\n        focus: true\n      });\n      this.props.onFocus();\n    }\n  }, {\n    key: \"handleComboBlur\",\n    value: function handleComboBlur(event) {\n      var _this10 = this;\n      if (this.isFocused() && event && event.relatedTarget && (0, _containsNode.default)(this.comboNode, event.relatedTarget)) {\n        globalObject.requestAnimationFrame(function () {\n          _this10.focus();\n        });\n        return;\n      }\n      if (this.props.collapseOnBlur) {\n        this.collapse();\n      }\n      if (this.props.clearTextOnBlur) {\n        this.setText(null);\n      }\n      this.setState({\n        focus: false\n      });\n      this.props.onBlur();\n    }\n  }, {\n    key: \"isFocused\",\n    value: function isFocused() {\n      return this.state.focus;\n    }\n  }, {\n    key: \"handleItemClick\",\n    value: function handleItemClick(id) {\n      if (!this.isFocused() && this.props.focusOnClick) {\n        this.focus();\n      }\n      this.setActiveItem(id);\n      this.selectItem(id);\n    }\n  }, {\n    key: \"handleTextChange\",\n    value: function handleTextChange(text) {\n      var _this11 = this;\n      this.deselectActiveTag();\n      this.setText(text, {\n        skipFilter: this.props.expandOnTextChange && !this.getExpanded()\n      }, function () {\n        if (_this11.props.expandOnTextChange) {\n          _this11.expand();\n        }\n      });\n    }\n  }, {\n    key: \"handleTextInputClick\",\n    value: function handleTextInputClick() {\n      this.deselectActiveTag();\n    }\n  }, {\n    key: \"handleRemoveTag\",\n    value: function handleRemoveTag(id) {\n      this.removeTag(id);\n    }\n  }, {\n    key: \"handleRemoveMultipleTag\",\n    value: function handleRemoveMultipleTag(ids) {\n      this.deselectItems(ids);\n    }\n  }, {\n    key: \"handleListScrollBottom\",\n    value: function handleListScrollBottom() {\n      this.loadNextPage();\n    }\n  }, {\n    key: \"removeTag\",\n    value: function removeTag(id) {\n      var dir = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -1;\n      var activeTag = this.getActiveTag();\n      if (activeTag === id && activeTag != null) {\n        var value = this.getValue();\n        var newActiveTag = (0, _getNewActiveTagOnRemove.default)({\n          id: id,\n          value: value,\n          dir: dir\n        });\n        this.setActiveTag(newActiveTag);\n      }\n      this.deselectItem(id);\n    }\n  }, {\n    key: \"removeRemainingTags\",\n    value: function removeRemainingTags() {\n      var ids = this.groupedItems.remainingItems.map(function (item) {\n        return item.id;\n      });\n      var visibleItems = this.groupedItems.visibleItems;\n      var activeTag = this.getActiveTag();\n      if (activeTag === REMAINING_ITEMS) {\n        var lastItem = Array.isArray(visibleItems) && visibleItems[visibleItems.length - 1];\n        if (lastItem) {\n          this.setActiveTag(lastItem.id);\n        }\n      } else {\n        this.deselectActiveTag();\n      }\n      this.removeTags(ids);\n    }\n  }, {\n    key: \"removeTags\",\n    value: function removeTags(ids) {\n      this.deselectItems(ids);\n    }\n  }, {\n    key: \"handleTagClick\",\n    value: function handleTagClick(id) {\n      var activeTag = this.getActiveTag();\n      if (activeTag === id) {\n        this.setActiveTag(null);\n      } else {\n        this.setActiveTag(id);\n      }\n      this.props.onTagClick(this.getItemById(id));\n      if (this.props.focusOnClick && !this.hasFocus()) {\n        this.focus();\n      }\n    }\n  }, {\n    key: \"handleComboMouseDown\",\n    value: function handleComboMouseDown(event) {\n      event.preventDefault();\n    }\n  }, {\n    key: \"handleComboKeyDown\",\n    value: function handleComboKeyDown(event) {\n      if (this.props.allowCustomTagCreation && event.key === 'Enter') {\n        if (this.isNewCustomTagValid) {\n          this.selectItem(this.getText());\n          this.setText(null);\n        }\n      }\n      if (this.props.enableNavigation) {\n        if (this.props.enableListNavigation) {\n          switch (event.key) {\n            case 'ArrowDown':\n              this.navigateToNextItem(1, event);\n              break;\n            case 'ArrowUp':\n              this.navigateToNextItem(-1, event);\n              break;\n            case 'Enter':\n              this.handleEnterKeyPress(event);\n              break;\n            case 'Space':\n              this.selectActiveItem();\n              break;\n          }\n        }\n        if (this.props.enableTagNavigation) {\n          switch (event.key) {\n            case 'ArrowLeft':\n              this.navigateToNextTag(-1, event);\n              break;\n            case 'ArrowRight':\n              this.navigateToNextTag(1, event);\n              break;\n            case 'Backspace':\n              this.handleBackspace(event);\n              break;\n            case 'Delete':\n              this.handleDelete(event);\n          }\n        }\n      }\n      if (event.key === 'Escape') {\n        var expanded = this.getExpanded();\n        if (this.props.collapseOnEscape) {\n          if (expanded) {\n            this.collapse();\n          }\n        }\n        if (!expanded && this.getActiveTag()) {\n          this.setActiveTag(null);\n        }\n        if (!this.props.multiple) {\n          this.setText(null);\n        }\n      }\n      if (this.props.onKeyDown) {\n        this.props.onKeyDown(event, this);\n      }\n    }\n  }, {\n    key: \"navigateToNextItem\",\n    value: function navigateToNextItem(direction, event) {\n      var data = this.getFilteredData();\n      if (event && event.preventDefault) {\n        event.preventDefault();\n      }\n      if (this.getExpanded()) {\n        var activeItem = this.getActiveItem();\n        var newActiveItem;\n        if (activeItem != null) {\n          newActiveItem = (0, _getNextItem.default)({\n            direction: direction,\n            data: data,\n            id: activeItem,\n            activeItem: activeItem,\n            getIdProperty: this.getIdProperty\n          });\n        } else {\n          var firstItemId;\n          var lastItemId;\n          if (data && data.length) {\n            firstItemId = this.getIdProperty(data[0]);\n            lastItemId = this.getIdProperty(data[data.length - 1]);\n            if (direction && firstItemId != null) {\n              newActiveItem = firstItemId;\n            }\n            if (direction === -1 && lastItemId != null) {\n              newActiveItem = lastItemId;\n            }\n          }\n        }\n        this.setActiveItem(newActiveItem);\n      } else {\n        this.expand();\n      }\n    }\n  }, {\n    key: \"selectActiveItem\",\n    value: function selectActiveItem() {\n      var activeItem = this.getActiveItem();\n      if (activeItem) {\n        this.selectItem(activeItem);\n      }\n    }\n  }, {\n    key: \"handleEnterKeyPress\",\n    value: function handleEnterKeyPress(event) {\n      var expanded = this.getExpanded();\n      if (expanded) {\n        this.selectActiveItem();\n      }\n      var activeItem = this.getActiveItem();\n      if (this.props.collapseOnSelectWithEnter) {\n        if (activeItem && expanded) {\n          this.collapse();\n        }\n      }\n      if (this.props.navigateToNextAfterSelection && this.props.multiple && activeItem) {\n        this.navigateToNextItem(1, event);\n      }\n    }\n  }, {\n    key: \"navigateToNextTag\",\n    value: function navigateToNextTag(direction, event) {\n      if (!this.isNavigationAllowed(direction)) {\n        return null;\n      }\n      if (event && event.preventDefault) {\n        event.preventDefault();\n      }\n      var newActiveTag;\n      var items = this.getSelectedItems();\n      var itemsIds;\n      if (this.areItemsGrouped) {\n        var visibleItems = this.groupedItems.visibleItems.map(function (item) {\n          return item.id;\n        });\n        itemsIds = [].concat((0, _toConsumableArray2.default)(visibleItems), [REMAINING_ITEMS]);\n      } else {\n        itemsIds = items.map(function (item) {\n          return item.id;\n        });\n      }\n      var currentActiveTag = this.getActiveTag();\n      var currentIndex = itemsIds.indexOf(currentActiveTag);\n      var lastIndex = itemsIds.length - 1;\n      var lastTag = itemsIds[lastIndex];\n      var firstTag = itemsIds[0];\n      var isFirstTag = currentIndex === 0;\n      var isLastTag = currentIndex === lastIndex;\n      if (direction === -1 && isFirstTag) {\n        this.setActiveTag(null);\n        return null;\n      }\n      if (direction === 1 && isLastTag) {\n        this.setActiveTag(null);\n        return null;\n      }\n      if (currentActiveTag === null || currentIndex === -1) {\n        newActiveTag = direction === -1 ? lastTag : firstTag;\n      } else {\n        if (direction === -1) {\n          newActiveTag = isFirstTag ? lastTag : itemsIds[currentIndex - 1];\n        } else if (direction === 1) {\n          newActiveTag = isLastTag ? firstTag : itemsIds[currentIndex + 1];\n        }\n      }\n      this.setActiveTag(newActiveTag);\n      return null;\n    }\n  }, {\n    key: \"isNavigationAllowed\",\n    value: function isNavigationAllowed(direction) {\n      if (!this.props.multiple) {\n        return false;\n      }\n      var inputNode = this.getTextInputNode();\n      if (inputNode.hasSelection()) {\n        return false;\n      }\n      var currentActiveTag = this.getActiveTag();\n      var canNavigateLeft = inputNode.isCursorAtStartPosition() && direction === -1;\n      var canNavigateRight = inputNode.isCursorAtEndPosition() && direction === 1;\n      if (!canNavigateRight && !canNavigateLeft && !currentActiveTag) {\n        return false;\n      }\n      var items = this.getSelectedItems();\n      if (!Array.isArray(items)) {\n        return false;\n      }\n      if (items.length === 1 && currentActiveTag) {\n        this.setActiveTag(null);\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"handleBackspace\",\n    value: function handleBackspace(event) {\n      if (this.props.multiple) {\n        this.handleTagBackspaceRemove(event);\n      }\n    }\n  }, {\n    key: \"handleDelete\",\n    value: function handleDelete(event) {\n      var activeTag = this.getActiveTag();\n      if (this.props.multiple && activeTag) {\n        this.removeTag(activeTag, 1);\n      }\n    }\n  }, {\n    key: \"handleTagBackspaceRemove\",\n    value: function handleTagBackspaceRemove(event) {\n      if (!this.props.removeTagOnBackspace) {\n        return null;\n      }\n      var value = this.getValue();\n      if (!value) {\n        return null;\n      }\n      var activeTag = this.getActiveTag();\n      if (activeTag != null) {\n        event.preventDefault();\n        if (activeTag === REMAINING_ITEMS) {\n          this.removeRemainingTags();\n        } else {\n          this.removeTag(activeTag, -1);\n        }\n        return null;\n      }\n      var inputNode = this.getTextInputNode();\n      var canDeleteTag = value && value.length && inputNode.isCursorAtStartPosition();\n      if (canDeleteTag) {\n        if (this.areItemsGrouped) {\n          var ids = this.groupedItems.remainingItems.map(function (item) {\n            return item.id;\n          });\n          this.removeTags(ids);\n        } else {\n          var items = this.getSelectedItems();\n          var lastItem = items[items.length - 1];\n          var lastItemId = lastItem.id;\n          if (this.props.keepTagTextOnRemove) {\n            var label = lastItem.label;\n            if (label && typeof label === 'string') {\n              this.setText(label);\n            }\n          }\n          this.removeTag(lastItemId);\n        }\n      }\n      return null;\n    }\n  }, {\n    key: \"handleToolsSize\",\n    value: function handleToolsSize() {\n      var size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.toolsNode ? this.toolsNode.getBoundingClientRect() : {\n        width: 0,\n        height: 0\n      };\n      var node = this.comboNode;\n      var computedStyle = globalObject.getComputedStyle(node);\n      var width = size.width + parseInt(computedStyle.paddingLeft, 10) + parseInt(computedStyle.paddingRight, 10);\n      this.setState({\n        toolsSize: {\n          height: size.height,\n          width: width\n        }\n      });\n    }\n  }, {\n    key: \"expand\",\n    value: function expand() {\n      this.setExpanded(true);\n    }\n  }, {\n    key: \"collapse\",\n    value: function collapse() {\n      this.setExpanded(false);\n    }\n  }, {\n    key: \"scrollToIndex\",\n    value: function scrollToIndex(index) {\n      var listNode = this.getListNode();\n      return listNode && listNode.scrollToIndex(index);\n    }\n  }, {\n    key: \"getItemIndexById\",\n    value: function getItemIndexById(id) {\n      var index = (0, _findItemIndex.default)({\n        id: id,\n        data: this.getFilteredData(),\n        getIdProperty: this.getIdProperty\n      });\n      return index;\n    }\n  }, {\n    key: \"scrollToId\",\n    value: function scrollToId(id) {\n      var index = this.getItemIndexById(id);\n      if (index != null) {\n        this.scrollToIndex(index);\n      }\n    }\n  }, {\n    key: \"toggleExpand\",\n    value: function toggleExpand() {\n      var expanded = this.getExpanded();\n      if (expanded) {\n        this.collapse();\n      } else {\n        this.expand();\n      }\n    }\n  }, {\n    key: \"getItemByIndex\",\n    value: function getItemByIndex(index) {\n      var data = this.getFilteredData();\n      if (!data || !Array.isArray(data) || !data[index]) {\n        return null;\n      }\n      return data[index];\n    }\n  }, {\n    key: \"getItemById\",\n    value: function getItemById(id) {\n      var dataMap = this.getDataMap();\n      return dataMap && dataMap[id] || id;\n    }\n  }, {\n    key: \"updateGetIdProperty\",\n    value: function updateGetIdProperty(props) {\n      props = props || this.props;\n      this.getIdProperty = (0, _getDataProp.default)(props.idProperty);\n    }\n  }, {\n    key: \"updateGetDisplayProperty\",\n    value: function updateGetDisplayProperty(props) {\n      props = props || this.props;\n      this.getDisplayProperty = (0, _getDataProp.default)(props.displayProperty);\n    }\n  }, {\n    key: \"updateGetFilterProperty\",\n    value: function updateGetFilterProperty(props) {\n      props = props || this.props;\n      this.getFilterProperty = (0, _getDataProp.default)(props.filterProperty);\n    }\n  }, {\n    key: \"updateGroups\",\n    value: function updateGroups(_ref13) {\n      var _ref13$groupProperty = _ref13.groupProperty,\n        groupProperty = _ref13$groupProperty === void 0 ? this.props.groupProperty : _ref13$groupProperty,\n        _ref13$data = _ref13.data,\n        data = _ref13$data === void 0 ? this.getFilteredData() : _ref13$data;\n      if (!data) {\n        return null;\n      }\n      var groups = (0, _getGroups.default)(data, groupProperty);\n      this.setState({\n        groups: groups\n      });\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      var textInput = this.getTextInputNode();\n      if (textInput && textInput.focus && !this.hasFocus()) {\n        textInput.focus();\n      }\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      var textInput = this.getTextInputNode();\n      if (textInput && textInput.blur) {\n        textInput.blur();\n      }\n    }\n  }, {\n    key: \"hasFocus\",\n    value: function hasFocus() {\n      var textInput = this.getTextInputNode();\n      if (textInput && textInput.hasFocus) {\n        return textInput.hasFocus();\n      }\n      return false;\n    }\n  }, {\n    key: \"getTextInputNode\",\n    value: function getTextInputNode() {\n      return this.textInput;\n    }\n  }, {\n    key: \"getComboNode\",\n    value: function getComboNode() {\n      return this.comboNode;\n    }\n  }, {\n    key: \"getListNode\",\n    value: function getListNode() {\n      return this.listNode;\n    }\n  }, {\n    key: \"getVirtualListNode\",\n    value: function getVirtualListNode() {\n      return this.listNode && this.listNode.getVirtualListNode();\n    }\n  }, {\n    key: \"getlListNode\",\n    value: function getlListNode() {\n      return this.listNode && this.listNode.getlListNode();\n    }\n  }, {\n    key: \"addItem\",\n    value: function addItem(item) {\n      var newData = [].concat((0, _toConsumableArray2.default)(this.getData()), [item]);\n      this.setData(newData);\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      var _this12 = this;\n      this.setValue(null);\n      this.setText(null);\n      globalObject.requestAnimationFrame(function () {\n        if (_this12.toolsNode) {\n          _this12.handleToolsSize();\n        }\n      });\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem(id) {\n      return this.getItemById(id);\n    }\n  }, {\n    key: \"getItemCount\",\n    value: function getItemCount() {\n      var data = this.getData();\n      return Array.isArray(data) ? data.length : null;\n    }\n  }, {\n    key: \"insertItem\",\n    value: function insertItem(_ref14) {\n      var index = _ref14.index,\n        item = _ref14.item;\n      var data = this.getData();\n      var newData = [].concat((0, _toConsumableArray2.default)(data.slice(0, index)), [item], (0, _toConsumableArray2.default)(data.slice(index)));\n      this.setData(newData);\n    }\n  }, {\n    key: \"removeItems\",\n    value: function removeItems(ids) {\n      var _this13 = this;\n      ids = Array.isArray(ids) ? ids : [ids];\n      var data = this.getData();\n      var newData = data.filter(function (item) {\n        var id = _this13.getIdProperty(item);\n        return ids.indexOf(id) === -1;\n      });\n      this.setData(newData);\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      var expanded = this.getExpanded();\n      this.setExpanded(!expanded);\n    }\n  }]);\n  return InovuaComboBox;\n}(_react.Component);\nfunction emptyFn() {}\nInovuaComboBox.defaultProps = {\n  rootClassName: 'inovua-react-toolkit-combo-box',\n  inlineFlex: false,\n  itemEllipsis: true,\n  borderRadius: 0,\n  shadow: true,\n  showShadowOnMouseOver: false,\n  clearTextOnBlur: true,\n  onKeyDown: emptyFn,\n  autoFocus: false,\n  autoBlur: false,\n  focusOnClick: true,\n  onFocus: emptyFn,\n  onBlur: emptyFn,\n  defaultActiveItem: null,\n  highlightFirst: false,\n  onTextChange: emptyFn,\n  searchable: true,\n  tagCloseIconPosition: 'end',\n  removeTagOnBackspace: true,\n  tagEllipsis: true,\n  filterMinLength: 0,\n  filterDelay: 300,\n  activeFirstItemOnFilter: true,\n  clearIcon: true,\n  toggleIcon: true,\n  showClearIconOnMouseOver: false,\n  clearTextOnSelect: true,\n  filterMode: 'contains',\n  highlightMatchedText: false,\n  onActiveTagChange: emptyFn,\n  enableTagNavigation: true,\n  onTagClick: emptyFn,\n  onActiveItemChange: emptyFn,\n  keepTagTextOnRemove: true,\n  onItemClick: emptyFn,\n  onChange: emptyFn,\n  minAutocompleteLength: 3,\n  autocompleteDelay: 300,\n  autocomplete: false,\n  defaultValue: null,\n  multiple: false,\n  removeSelectedItems: false,\n  allowSelectionToggle: true,\n  clearValueOnEmpty: true,\n  onDataSourceLoad: emptyFn,\n  idProperty: 'id',\n  displayProperty: 'label',\n  groupProperty: 'group',\n  limit: 50,\n  skip: 0,\n  onLoadingChange: emptyFn,\n  listLoadingText: 'Loading...',\n  loadingSpinner: true,\n  listEmptyText: 'No data found',\n  defaultText: null,\n  defaultExpanded: false,\n  onExpandedChange: emptyFn,\n  onExpandChange: emptyFn,\n  collapseOnEscape: true,\n  expandOnClick: true,\n  expandOnFocus: true,\n  collapseOnBlur: true,\n  onExpand: emptyFn,\n  onCollapse: emptyFn,\n  expandOnTextChange: true,\n  toggleExpandOnClick: true,\n  wrapMultiple: true,\n  theme: 'default-light',\n  enableNavigation: true,\n  enableListNavigation: true,\n  navigateToNextAfterSelection: true,\n  positions: ['bottom', 'top'],\n  offset: 2,\n  constrainTo: true\n};\nvar VALUE_TYPE = _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number, _propTypes.default.object, _propTypes.default.bool, _propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number, _propTypes.default.object, _propTypes.default.bool]))]);\nInovuaComboBox.propTypes = {\n  rootClassName: _propTypes.default.string,\n  theme: _propTypes.default.string,\n  inlineFlex: _propTypes.default.bool,\n  shouldComponentUpdate: _propTypes.default.func,\n  lazyDataSource: _propTypes.default.bool,\n  remoteFilter: _propTypes.default.bool,\n  disabled: _propTypes.default.bool,\n  readOnly: _propTypes.default.bool,\n  rtl: _propTypes.default.bool,\n  tabIndex: _propTypes.default.number,\n  collapseOnSelect: _propTypes.default.bool,\n  clearTextOnBlur: _propTypes.default.bool,\n  listEmptyText: _propTypes.default.node,\n  listMaxHeight: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  listMinHeight: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  maxTagsLength: _propTypes.default.number,\n  defaultLoading: _propTypes.default.bool,\n  loading: _propTypes.default.bool,\n  onLoadingChange: _propTypes.default.func,\n  listLoadingText: _propTypes.default.node,\n  loadingSpinner: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.bool]),\n  onKeyDown: _propTypes.default.func,\n  onTagClick: _propTypes.default.func,\n  clearIcon: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.func, _propTypes.default.node]),\n  toggleIcon: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.func, _propTypes.default.node]),\n  showClearIconOnMouseOver: _propTypes.default.bool,\n  autoFocus: _propTypes.default.bool,\n  autoBlur: _propTypes.default.bool,\n  focusOnClick: _propTypes.default.bool,\n  onFocus: _propTypes.default.func,\n  onBlur: _propTypes.default.func,\n  borderRadius: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  padding: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  border: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  background: _propTypes.default.string,\n  shadow: _propTypes.default.bool,\n  showShadowOnMouseOver: _propTypes.default.bool,\n  emptyClassName: _propTypes.default.string,\n  emptyStyle: _propTypes.default.object,\n  disabledClassName: _propTypes.default.string,\n  disabledStyle: _propTypes.default.object,\n  focusedClassName: _propTypes.default.string,\n  focusedStyle: _propTypes.default.object,\n  itemBackground: _propTypes.default.string,\n  disabledItemStyle: _propTypes.default.object,\n  disabledItemClassName: _propTypes.default.string,\n  renderItem: _propTypes.default.func,\n  itemEllipsis: _propTypes.default.bool,\n  activeItemStyle: _propTypes.default.object,\n  activeItemClassName: _propTypes.default.string,\n  selectedItemStyle: _propTypes.default.object,\n  limit: _propTypes.default.number,\n  skip: _propTypes.default.number,\n  loadNextPage: _propTypes.default.func,\n  searchable: _propTypes.default.bool,\n  placeholder: _propTypes.default.node,\n  text: _propTypes.default.string,\n  defaultText: _propTypes.default.string,\n  onTextChange: _propTypes.default.func,\n  filterFunction: _propTypes.default.func,\n  filterProperty: _propTypes.default.string,\n  loadLazyDataSource: _propTypes.default.func,\n  filterMinLength: _propTypes.default.number,\n  filterDelay: _propTypes.default.number,\n  activeFirstItemOnFilter: _propTypes.default.bool,\n  renderInput: _propTypes.default.func,\n  inputClassName: _propTypes.default.string,\n  inputStyle: _propTypes.default.object,\n  clearTextOnSelect: _propTypes.default.bool,\n  filterMode: _propTypes.default.oneOf(['startsWith', 'contains']),\n  highlightMatchedText: _propTypes.default.bool,\n  autocomplete: _propTypes.default.bool,\n  minAutocompleteLength: _propTypes.default.number,\n  autocompleteDelay: _propTypes.default.number,\n  enableNavigatio: _propTypes.default.bool,\n  keepTagTextOnRemove: _propTypes.default.bool,\n  tagActiveStyle: _propTypes.default.object,\n  enableTagNavigation: _propTypes.default.bool,\n  activeTag: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  defaultActiveTag: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  onActiveTagChange: _propTypes.default.func,\n  allowCustomTagCreation: _propTypes.default.bool,\n  enableNavigation: _propTypes.default.bool,\n  enableListNavigation: _propTypes.default.bool,\n  highlightFirst: _propTypes.default.bool,\n  activeItem: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  defaultActiveItem: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  onActiveItemChange: _propTypes.default.func,\n  navigateToNextAfterSelection: _propTypes.default.bool,\n  onItemClick: _propTypes.default.func,\n  onChange: _propTypes.default.func,\n  listClassName: _propTypes.default.string,\n  selectedStyle: _propTypes.default.object,\n  selectedClassName: _propTypes.default.string,\n  renderGroup: _propTypes.default.func,\n  renderFooter: _propTypes.default.func,\n  renderHeader: _propTypes.default.func,\n  renderList: _propTypes.default.func,\n  renderListComponent: _propTypes.default.func,\n  value: VALUE_TYPE,\n  defaultValue: VALUE_TYPE,\n  defaultDisplayValue: VALUE_TYPE,\n  removeSelectedItems: _propTypes.default.bool,\n  isSelectedItemValid: _propTypes.default.func,\n  maxValueLength: _propTypes.default.number,\n  changeValueOnNavigation: _propTypes.default.bool,\n  allowSelectionToggle: _propTypes.default.bool,\n  clearSelectedOnTextChange: _propTypes.default.bool,\n  clearValueOnEmpty: _propTypes.default.bool,\n  isNewCustomTagValid: _propTypes.default.func,\n  multiple: _propTypes.default.bool,\n  renderTag: _propTypes.default.func,\n  renderTagLabel: _propTypes.default.func,\n  renderRemainingTags: _propTypes.default.func,\n  renderTags: _propTypes.default.func,\n  tagStyle: _propTypes.default.object,\n  tagBorder: _propTypes.default.string,\n  tagPadding: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  tagHeight: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  tagWidth: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number]),\n  tagMinSize: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string, _propTypes.default.shape({\n    height: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    width: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  })]),\n  tagMaxSize: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string, _propTypes.default.shape({\n    height: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    width: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  })]),\n  tagCloseIcon: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.node, _propTypes.default.func]),\n  tagCloseIconPosition: _propTypes.default.oneOf(['start', 'end']),\n  tagEllipsis: _propTypes.default.bool,\n  removeTagOnBackspace: _propTypes.default.bool,\n  renderDisplayValue: _propTypes.default.func,\n  dataSource: function dataSource(props, propName) {\n    var dataSource = props[propName];\n    if (dataSource != null && typeof dataSource !== 'function' && !Array.isArray(dataSource) && !(dataSource && dataSource.then)) {\n      return new Error('dataSource must be an array, null, a promise or a function returning a promise.');\n    }\n    return null;\n  },\n  onDataSourceLoad: _propTypes.default.func,\n  idProperty: _propTypes.default.string,\n  displayProperty: _propTypes.default.string,\n  groupProperty: _propTypes.default.string,\n  listStyle: _propTypes.default.object,\n  relativeToViewport: _propTypes.default.bool,\n  expanded: _propTypes.default.bool,\n  defaultExpanded: _propTypes.default.bool,\n  onExpandedChange: _propTypes.default.func,\n  onExpandChange: _propTypes.default.func,\n  collapseOnEscape: _propTypes.default.bool,\n  expandOnClick: _propTypes.default.bool,\n  expandOnFocus: _propTypes.default.bool,\n  collapseOnBlur: _propTypes.default.bool,\n  enablePagination: _propTypes.default.bool,\n  onExpand: _propTypes.default.func,\n  onCollapse: _propTypes.default.func,\n  virtualListFactory: _propTypes.default.func,\n  renderListScroller: _propTypes.default.func,\n  renderVirtualList: _propTypes.default.func,\n  expandOnTextChange: _propTypes.default.bool,\n  toggleExpandOnClick: _propTypes.default.bool,\n  collapseOnSelectWithEnter: _propTypes.default.bool,\n  wrapMultiple: _propTypes.default.bool,\n  newCustomTagText: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.func]),\n  positions: _propTypes.default.arrayOf(_propTypes.default.string),\n  constrainTo: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.func, _propTypes.default.object, _propTypes.default.bool]),\n  offset: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }), _propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  })]))])\n};\nvar _default = InovuaComboBox;\nexports.default = _default;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}