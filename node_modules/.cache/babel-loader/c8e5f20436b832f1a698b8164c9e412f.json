{"ast":null,"code":"/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _mapGroups = _interopRequireDefault(require(\"./mapGroups\"));\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar getGroupsDepth = function getGroupsDepth(groupsMap) {\n  if (!groupsMap) {\n    return 0;\n  }\n  return Math.max.apply(Math, (0, _toConsumableArray2.default)(Object.keys(groupsMap).map(function (groupName) {\n    return groupsMap[groupName].computedDepth || 0;\n  })));\n};\nvar getPivotGroups = function getPivotGroups(uniqueValuesRoot, parentGroup, pivotSummaryGroups) {\n  var groups = [];\n  var field = uniqueValuesRoot.field,\n    values = uniqueValuesRoot.values;\n  if (field && values) {\n    Object.keys(values).forEach(function (value) {\n      var groupId = \"\".concat(parentGroup ? parentGroup + '_' : '').concat(field, \":\").concat(value);\n      var defaultGroup = pivotSummaryGroups[field];\n      var group = {\n        name: groupId,\n        header: value\n      };\n      if (defaultGroup) {\n        if (typeof defaultGroup === 'function') {\n          group = _objectSpread(_objectSpread({}, defaultGroup(_objectSpread(_objectSpread({}, group), {}, {\n            field: field,\n            values: values\n          }))), group);\n        } else {\n          group = _objectSpread(_objectSpread({}, defaultGroup), group);\n        }\n      }\n      if (parentGroup) {\n        group.group = parentGroup;\n      }\n      groups.push(group);\n      var nextRoot = values[value];\n      groups.push.apply(groups, (0, _toConsumableArray2.default)(getPivotGroups(nextRoot, groupId, pivotSummaryGroups)));\n    });\n  }\n  return groups;\n};\nvar useGroups = function useGroups(props, computedProps) {\n  var computedPivotUniqueValuesPerColumn = computedProps.computedPivotUniqueValuesPerColumn;\n  var groups = props.groups;\n  if (computedPivotUniqueValuesPerColumn && computedPivotUniqueValuesPerColumn.values) {\n    var pivotSummaryGroups = computedProps.pivot ? computedProps.pivot.reduce(function (acc, pivot) {\n      if (pivot && pivot.summaryGroup) {\n        acc[pivot.name] = pivot.summaryGroup;\n      }\n      return acc;\n    }, {}) : {};\n    groups = getPivotGroups(computedPivotUniqueValuesPerColumn, undefined, pivotSummaryGroups);\n  }\n  var groupsMap = groups ? (0, _mapGroups.default)(groups, props) : null;\n  var computedGroupsDepth = getGroupsDepth(groupsMap);\n  return {\n    computedGroups: groups,\n    computedGroupsMap: groupsMap,\n    computedGroupsDepth: computedGroupsDepth\n  };\n};\nvar _default = useGroups;\nexports.default = _default;","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_defineProperty2","_toConsumableArray2","_mapGroups","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","getGroupsDepth","groupsMap","Math","max","map","groupName","computedDepth","getPivotGroups","uniqueValuesRoot","parentGroup","pivotSummaryGroups","groups","field","values","groupId","concat","defaultGroup","group","name","header","nextRoot","useGroups","props","computedProps","computedPivotUniqueValuesPerColumn","pivot","reduce","acc","summaryGroup","undefined","computedGroupsDepth","computedGroups","computedGroupsMap","_default"],"sources":["/Users/alexandre.nepomuceno/Documents/agenda/node_modules/@inovua/reactdatagrid-community/hooks/useGroups.js"],"sourcesContent":["/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _mapGroups = _interopRequireDefault(require(\"./mapGroups\"));\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar getGroupsDepth = function getGroupsDepth(groupsMap) {\n  if (!groupsMap) {\n    return 0;\n  }\n  return Math.max.apply(Math, (0, _toConsumableArray2.default)(Object.keys(groupsMap).map(function (groupName) {\n    return groupsMap[groupName].computedDepth || 0;\n  })));\n};\nvar getPivotGroups = function getPivotGroups(uniqueValuesRoot, parentGroup, pivotSummaryGroups) {\n  var groups = [];\n  var field = uniqueValuesRoot.field,\n    values = uniqueValuesRoot.values;\n  if (field && values) {\n    Object.keys(values).forEach(function (value) {\n      var groupId = \"\".concat(parentGroup ? parentGroup + '_' : '').concat(field, \":\").concat(value);\n      var defaultGroup = pivotSummaryGroups[field];\n      var group = {\n        name: groupId,\n        header: value\n      };\n      if (defaultGroup) {\n        if (typeof defaultGroup === 'function') {\n          group = _objectSpread(_objectSpread({}, defaultGroup(_objectSpread(_objectSpread({}, group), {}, {\n            field: field,\n            values: values\n          }))), group);\n        } else {\n          group = _objectSpread(_objectSpread({}, defaultGroup), group);\n        }\n      }\n      if (parentGroup) {\n        group.group = parentGroup;\n      }\n      groups.push(group);\n      var nextRoot = values[value];\n      groups.push.apply(groups, (0, _toConsumableArray2.default)(getPivotGroups(nextRoot, groupId, pivotSummaryGroups)));\n    });\n  }\n  return groups;\n};\nvar useGroups = function useGroups(props, computedProps) {\n  var computedPivotUniqueValuesPerColumn = computedProps.computedPivotUniqueValuesPerColumn;\n  var groups = props.groups;\n  if (computedPivotUniqueValuesPerColumn && computedPivotUniqueValuesPerColumn.values) {\n    var pivotSummaryGroups = computedProps.pivot ? computedProps.pivot.reduce(function (acc, pivot) {\n      if (pivot && pivot.summaryGroup) {\n        acc[pivot.name] = pivot.summaryGroup;\n      }\n      return acc;\n    }, {}) : {};\n    groups = getPivotGroups(computedPivotUniqueValuesPerColumn, undefined, pivotSummaryGroups);\n  }\n  var groupsMap = groups ? (0, _mapGroups.default)(groups, props) : null;\n  var computedGroupsDepth = getGroupsDepth(groupsMap);\n  return {\n    computedGroups: groups,\n    computedGroupsMap: groupsMap,\n    computedGroupsDepth: computedGroupsDepth\n  };\n};\nvar _default = useGroups;\nexports.default = _default;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}