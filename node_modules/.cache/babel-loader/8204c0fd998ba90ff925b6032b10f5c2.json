{"ast":null,"code":"/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isLivePagination = exports.default = void 0;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = require(\"react\");\nvar _clamp = _interopRequireDefault(require(\"../../utils/clamp\"));\nvar _getIndexBy = _interopRequireDefault(require(\"../../utils/getIndexBy\"));\nvar _fastDeepEqual = _interopRequireDefault(require(\"fast-deep-equal\"));\nvar _useLoadDataEffect = _interopRequireDefault(require(\"../useLoadDataEffect\"));\nvar _useProperty7 = _interopRequireDefault(require(\"../useProperty\"));\nvar _useNamedState9 = _interopRequireDefault(require(\"../useNamedState\"));\nvar _computeData = _interopRequireDefault(require(\"./computeData\"));\nvar _batchUpdate = _interopRequireDefault(require(\"../../utils/batchUpdate\"));\nvar _usePrevious = _interopRequireDefault(require(\"../usePrevious\"));\nvar _isControlledProperty = _interopRequireDefault(require(\"../../utils/isControlledProperty\"));\nvar _getGlobal = require(\"../../getGlobal\");\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar globalObject = (0, _getGlobal.getGlobal)();\nvar raf = globalObject.requestAnimationFrame;\nvar isRemoteData = function isRemoteData(props) {\n  if (props.dataSource == null) {\n    return false;\n  }\n  return typeof props.dataSource.then === 'function' || typeof props.dataSource === 'function';\n};\nvar isRemoteSort = function isRemoteSort(props) {\n  var remoteSort = props.remoteSort;\n  return remoteSort === true || remoteSort === undefined && isRemoteData(props);\n};\nvar isRemoteFilter = function isRemoteFilter(props) {\n  var remoteFilter = props.remoteFilter;\n  return remoteFilter === true || remoteFilter === undefined && isRemoteData(props);\n};\nvar isPagination = function isPagination(props) {\n  return !!props.pagination;\n};\nvar isLocalPagination = function isLocalPagination(props) {\n  return isPagination(props) && !isRemotePagination(props);\n};\nvar isLivePagination = function isLivePagination(props) {\n  return !!props.livePagination && isRemotePagination(props);\n};\nexports.isLivePagination = isLivePagination;\nvar isRemotePagination = function isRemotePagination(props) {\n  var remotePagination = props.remotePagination,\n    pagination = props.pagination,\n    livePagination = props.livePagination;\n  if (pagination === false || pagination === 'local') {\n    return false;\n  }\n  if (pagination === 'remote' || isRemoteData(props)) {\n    return true;\n  }\n  if (remotePagination !== undefined) {\n    return remotePagination;\n  }\n  return !!livePagination;\n};\nvar loadDataSource = function loadDataSource(dataSource, _ref) {\n  var skip = _ref.skip,\n    limit = _ref.limit,\n    currentData = _ref.currentData,\n    sortInfo = _ref.sortInfo,\n    filterValue = _ref.filterValue,\n    groupBy = _ref.groupBy;\n  if (typeof dataSource === 'function') {\n    dataSource = loadDataSource(dataSource({\n      skip: skip,\n      limit: limit,\n      sortInfo: sortInfo,\n      currentData: currentData,\n      filterValue: filterValue,\n      groupBy: groupBy\n    }), {\n      skip: skip,\n      limit: limit,\n      sortInfo: sortInfo,\n      groupBy: groupBy,\n      filterValue: filterValue,\n      currentData: currentData\n    });\n  }\n  if (dataSource instanceof Promise) {\n    return dataSource.then(function (result) {\n      if (Array.isArray(result)) {\n        return {\n          data: result,\n          count: result.length\n        };\n      }\n      return {\n        data: result.data,\n        count: result.count\n      };\n    });\n  }\n  return Promise.resolve({\n    data: dataSource,\n    count: dataSource.length\n  });\n};\nvar useData = function useData(_ref2, context) {\n  var dataSource = _ref2.dataSource,\n    skip = _ref2.skip,\n    limit = _ref2.limit,\n    localPagination = _ref2.localPagination;\n  var data;\n  var silentSetData;\n  var _useNamedState = (0, _useNamedState9.default)([], context, 'data');\n  var _useNamedState2 = (0, _slicedToArray2.default)(_useNamedState, 2);\n  data = _useNamedState2[0];\n  silentSetData = _useNamedState2[1];\n  var _useState = (0, _react.useState)(null),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    dataMap = _useState2[0],\n    setDataMap = _useState2[1];\n  var _useState3 = (0, _react.useState)(null),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    dataIndexMap = _useState4[0],\n    setDataIndexMap = _useState4[1];\n  var originalData;\n  var setOriginalData;\n  var _useNamedState3 = (0, _useNamedState9.default)(Array.isArray(dataSource) ? dataSource : [], context, 'originalData');\n  var _useNamedState4 = (0, _slicedToArray2.default)(_useNamedState3, 2);\n  originalData = _useNamedState4[0];\n  setOriginalData = _useNamedState4[1];\n  var _useNamedState5 = (0, _useNamedState9.default)(data.length, context, 'count'),\n    _useNamedState6 = (0, _slicedToArray2.default)(_useNamedState5, 2),\n    count = _useNamedState6[0],\n    setCount = _useNamedState6[1];\n  var _useNamedState7 = (0, _useNamedState9.default)(0, context, 'dataCountAfterFilter'),\n    _useNamedState8 = (0, _slicedToArray2.default)(_useNamedState7, 2),\n    dataCountAfterFilter = _useNamedState8[0],\n    setDataCountAfterFilter = _useNamedState8[1];\n  return {\n    setDataMap: setDataMap,\n    dataMap: dataMap,\n    dataIndexMap: dataIndexMap,\n    setDataIndexMap: setDataIndexMap,\n    originalData: originalData,\n    setOriginalData: setOriginalData,\n    data: data,\n    count: count,\n    dataCountAfterFilter: dataCountAfterFilter,\n    silentSetData: silentSetData,\n    setDataCountAfterFilter: setDataCountAfterFilter,\n    setCount: setCount\n  };\n};\nvar getDataCountForPagination = function getDataCountForPagination(props) {\n  var paginationCount = props.remotePagination ? props.count : props.dataCountAfterFilter != null ? props.dataCountAfterFilter : props.originalData.length;\n  return paginationCount;\n};\nvar getCurrentPage = function getCurrentPage(props) {\n  return Math.floor(props.skip / props.limit) + 1;\n};\nvar getPageCount = function getPageCount(_ref3) {\n  var count = _ref3.count,\n    limit = _ref3.limit;\n  return Math.ceil(count / limit);\n};\nvar getSkipForPage = function getSkipForPage(_ref4) {\n  var page = _ref4.page,\n    limit = _ref4.limit;\n  return Math.max(0, limit * (page - 1));\n};\nvar hasNextPage = function hasNextPage(_ref5) {\n  var skip = _ref5.skip,\n    limit = _ref5.limit,\n    count = _ref5.count;\n  return getCurrentPage({\n    skip: skip,\n    limit: limit\n  }) < getPageCount({\n    count: count,\n    limit: limit\n  });\n};\nvar hasPrevPage = function hasPrevPage(_ref6) {\n  var skip = _ref6.skip,\n    limit = _ref6.limit,\n    count = _ref6.count;\n  var currentPage = getCurrentPage({\n    skip: skip,\n    limit: limit\n  });\n  return currentPage > 1 && currentPage - 1 < getPageCount({\n    count: count,\n    limit: limit\n  });\n};\nvar usePagination = function usePagination(_ref7, computedPropsRef) {\n  var append = _ref7.append,\n    reload = _ref7.reload,\n    setAppend = _ref7.setAppend,\n    skip = _ref7.skip,\n    limit = _ref7.limit,\n    count = _ref7.count,\n    silentSetSkip = _ref7.setSkip,\n    silentSetLimit = _ref7.setLimit,\n    remotePagination = _ref7.remotePagination,\n    localPagination = _ref7.localPagination,\n    pagination = _ref7.pagination,\n    lastSkipRef = _ref7.lastSkipRef,\n    lastLimitRef = _ref7.lastLimitRef,\n    dataCountAfterFilter = _ref7.dataCountAfterFilter,\n    livePagination = _ref7.livePagination,\n    originalData = _ref7.originalData,\n    data = _ref7.data;\n  var paginationCount = getDataCountForPagination({\n    originalData: originalData,\n    remotePagination: remotePagination,\n    count: count,\n    dataCountAfterFilter: dataCountAfterFilter\n  });\n  var setLimitOrSkip = function setLimitOrSkip(computedProps, config, queue) {\n    return (0, _computeData.default)(_objectSpread(_objectSpread({\n      skip: skip,\n      limit: limit\n    }, config), {}, {\n      localPagination: localPagination\n    }), computedProps, queue);\n  };\n  var setSkip = function setSkip(skip, config) {\n    var computedProps = computedPropsRef.current;\n    var queue = (0, _batchUpdate.default)();\n    var computedRemoteData = computedProps.computedRemoteData;\n    queue.commit(function () {\n      if (config && config.append !== undefined) {\n        setAppend(config.append);\n      }\n      if (computedRemoteData) {\n        computedProps.setLoadDataTrigger(function (loadDataTrigger) {\n          return [].concat((0, _toConsumableArray2.default)(loadDataTrigger), ['skip']);\n        });\n      }\n      silentSetSkip(skip);\n    });\n  };\n  var setLimit = function setLimit(limit) {\n    var computedProps = computedPropsRef.current;\n    var queue = (0, _batchUpdate.default)();\n    var computedRemoteData = computedProps.computedRemoteData;\n    queue.commit(function () {\n      if (computedRemoteData) {\n        computedProps.setLoadDataTrigger(function (loadDataTrigger) {\n          return [].concat((0, _toConsumableArray2.default)(loadDataTrigger), ['limit']);\n        });\n      }\n      silentSetLimit(limit);\n    });\n  };\n  var incrementSkip = function incrementSkip(amount, config) {\n    setSkip(skip + amount, config);\n  };\n  var gotoNextPage = function gotoNextPage(config) {\n    if (hasNextPage({\n      skip: skip,\n      limit: lastLimitRef.current,\n      count: paginationCount\n    })) {\n      incrementSkip(lastLimitRef.current, config);\n    }\n  };\n  var gotoPrevPage = function gotoPrevPage() {\n    if (hasPrevPage({\n      skip: skip,\n      limit: limit,\n      count: paginationCount\n    })) {\n      incrementSkip(-limit);\n    }\n  };\n  var gotoPage = function gotoPage(page, config) {\n    page = (0, _clamp.default)(page, 1, getPageCount({\n      count: paginationCount,\n      limit: limit\n    }));\n    var force = config ? config.force : false;\n    if (page === getCurrentPage({\n      skip: skip,\n      limit: limit\n    }) && !force) {\n      return;\n    }\n    setSkip(getSkipForPage({\n      page: page,\n      limit: limit\n    }));\n  };\n  var hasNext = function hasNext() {\n    return hasNextPage({\n      skip: skip,\n      limit: limit,\n      count: paginationCount\n    });\n  };\n  var hasPrev = function hasPrev() {\n    return hasPrevPage({\n      skip: skip,\n      limit: limit,\n      count: paginationCount\n    });\n  };\n  var gotoFirstPage = function gotoFirstPage() {\n    return gotoPage(1);\n  };\n  var gotoLastPage = function gotoLastPage() {\n    return gotoPage(getPageCount({\n      count: paginationCount,\n      limit: limit\n    }));\n  };\n  var paginationProps;\n  if ((localPagination || remotePagination) && !livePagination) {\n    paginationProps = {\n      onSkipChange: setSkip,\n      onLimitChange: setLimit,\n      reload: reload,\n      onRefresh: reload,\n      totalCount: paginationCount,\n      count: count,\n      skip: skip,\n      limit: limit,\n      remotePagination: remotePagination,\n      localPagination: localPagination,\n      livePagination: livePagination,\n      pagination: pagination,\n      gotoPage: gotoPage,\n      gotoNextPage: gotoNextPage,\n      gotoFirstPage: gotoFirstPage,\n      gotoLastPage: gotoLastPage,\n      gotoPrevPage: gotoPrevPage,\n      hasNextPage: hasNext,\n      hasPrevPage: hasPrev\n    };\n  }\n  return {\n    count: count,\n    paginationCount: paginationCount,\n    reload: reload,\n    setSkip: setSkip,\n    setLimit: setLimit,\n    gotoNextPage: gotoNextPage,\n    gotoPrevPage: gotoPrevPage,\n    hasNextPage: hasNext,\n    hasPrevPage: hasPrev,\n    gotoFirstPage: gotoFirstPage,\n    gotoLastPage: gotoLastPage,\n    gotoPage: gotoPage,\n    paginationProps: paginationProps\n  };\n};\nvar useDataSourceCache = function useDataSourceCache(props, computedProps, computedPropsRef) {\n  var prevDataSource = (0, _usePrevious.default)(props.dataSource, props.dataSource);\n  var _useProperty = (0, _useProperty7.default)(props, 'dataSourceCache', undefined, {\n      onChange: function onChange(dataSourceCache, info) {\n        var computedProps = computedPropsRef.current;\n        if (!computedProps) {\n          return;\n        }\n        if (computedProps.initialProps.onDataSourceCacheChange) {\n          computedProps.initialProps.onDataSourceCacheChange(dataSourceCache, info);\n        }\n      }\n    }),\n    _useProperty2 = (0, _slicedToArray2.default)(_useProperty, 2),\n    dataSourceCache = _useProperty2[0],\n    setDataSourceCache = _useProperty2[1];\n  if (props.clearDataSourceCacheOnChange && prevDataSource !== props.dataSource) {\n    dataSourceCache = undefined;\n  }\n  (0, _react.useLayoutEffect)(function () {\n    if (props.clearDataSourceCacheOnChange) {\n      setDataSourceCache(undefined);\n    }\n  }, [props.dataSource]);\n  return [dataSourceCache, setDataSourceCache];\n};\nvar _default = function _default(props, computedProps, computedPropsRef) {\n  var computedRemoteData = isRemoteData(props);\n  var computedRemoteFilter = isRemoteFilter(props);\n  var computedRemoteSort = isRemoteSort(props);\n  var computedLivePagination = isLivePagination(props);\n  var computedRemotePagination = isRemotePagination(props);\n  var computedLocalPagination = isLocalPagination(props);\n  var computedPagination = computedRemotePagination || computedLocalPagination;\n  var _useState5 = (0, _react.useState)([]),\n    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n    ungroupedData = _useState6[0],\n    setUngroupedData = _useState6[1];\n  var _useState7 = (0, _react.useState)([]),\n    _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n    loadDataTrigger = _useState8[0],\n    setLoadDataTrigger = _useState8[1];\n  var _useState9 = (0, _react.useState)(false),\n    _useState10 = (0, _slicedToArray2.default)(_useState9, 2),\n    append = _useState10[0],\n    setAppend = _useState10[1];\n  var _useProperty3 = (0, _useProperty7.default)(props, 'skip', 0),\n    _useProperty4 = (0, _slicedToArray2.default)(_useProperty3, 2),\n    computedSkip = _useProperty4[0],\n    setSkip = _useProperty4[1];\n  var _useProperty5 = (0, _useProperty7.default)(props, 'limit', 50),\n    _useProperty6 = (0, _slicedToArray2.default)(_useProperty5, 2),\n    computedLimit = _useProperty6[0],\n    setLimit = _useProperty6[1];\n  var _useDataSourceCache = useDataSourceCache(props, computedProps, computedPropsRef),\n    _useDataSourceCache2 = (0, _slicedToArray2.default)(_useDataSourceCache, 2),\n    computedDataSourceCache = _useDataSourceCache2[0],\n    setDataSourceCache = _useDataSourceCache2[1];\n  var _useState11 = (0, _react.useState)(props.summaryReducer ? props.summaryReducer.initialValue : null),\n    _useState12 = (0, _slicedToArray2.default)(_useState11, 2),\n    summary = _useState12[0],\n    setSummary = _useState12[1];\n  var setItemOnReorderingGroups = function setItemOnReorderingGroups(index, item, config) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    computedProps.setItemAt(index, item, config);\n    computedProps.reload();\n  };\n  var setItemAt = function setItemAt(index, item, config) {\n    var replace = config && config.replace;\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    var newItem = computedProps.getItemAt(index);\n    var oldId = computedProps.getItemId(newItem);\n    if (!newItem) {\n      return;\n    }\n    if (replace) {\n      newItem = item;\n    } else {\n      if (config && config.property) {\n        newItem = _objectSpread(_objectSpread({}, newItem), {}, (0, _defineProperty2.default)({}, config.property, config.value));\n      } else {\n        if (config && config.deepCloning && computedProps.compoundIdProperty) {\n          var parts = computedProps.idProperty.split(computedProps.idPropertySeparator);\n          for (var i = 0; i < parts.length; i++) {\n            var part = parts[i];\n            if (newItem[part]) {\n              Object.assign(newItem[part], _objectSpread({}, item[part]));\n            }\n          }\n        } else {\n          newItem = _objectSpread(_objectSpread({}, newItem), item);\n        }\n      }\n    }\n    var newId = computedProps.getItemId(newItem);\n    if (newId !== oldId) {\n      if (computedProps.showWarnings) {\n        console.error(\"Cannot replace the item with another one that has a different value for the idProperty!\");\n      }\n      return;\n    }\n    setDataSourceCache(_objectSpread(_objectSpread({}, computedProps.computedDataSourceCache), {}, (0, _defineProperty2.default)({}, newId, newItem)));\n  };\n  var setItemsAt = function setItemsAt(items, config) {\n    var replace = config && config.replace;\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    var newIds = {};\n    for (var i = 0; i < items.length; i++) {\n      var item = items[i];\n      var oldId = computedProps.getItemId(item);\n      var index = computedProps.getItemIndex(item);\n      var newItem = computedProps.getItemAt(index);\n      if (!newItem) {\n        continue;\n      }\n      if (replace) {\n        newItem = item;\n      } else {\n        newItem = _objectSpread(_objectSpread({}, newItem), item);\n      }\n      var newId = computedProps.getItemId(newItem);\n      if (newId !== oldId) {\n        continue;\n      }\n      newIds[newId] = newItem;\n    }\n    if (!items.length) {\n      return;\n    }\n    setDataSourceCache(_objectSpread(_objectSpread({}, computedProps.computedDataSourceCache), newIds));\n  };\n  var setItemPropertyAt = function setItemPropertyAt(index, property, value) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    if (property === computedProps.idProperty) {\n      if (computedProps.showWarnings) {\n        console.error(\"Cannot update the value of the \\\"idProperty\\\" property!\");\n      }\n    }\n    var item = computedProps.getItemAt(index);\n    if (item) {\n      item = _objectSpread({}, item);\n      item[property] = value;\n      setItemAt(index, item, {\n        property: property,\n        value: value\n      });\n    }\n  };\n  var setItemPropertyForId = function setItemPropertyForId(id, property, value) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    var index = computedProps.getRowIndexById(id);\n    setItemPropertyAt(index, property, value);\n  };\n  var _useData = useData({\n      dataSource: props.dataSource,\n      skip: computedSkip,\n      limit: computedLimit,\n      localPagination: computedLocalPagination\n    }, props.context),\n    data = _useData.data,\n    dataMap = _useData.dataMap,\n    dataIndexMap = _useData.dataIndexMap,\n    setDataIndexMap = _useData.setDataIndexMap,\n    setDataMap = _useData.setDataMap,\n    count = _useData.count,\n    silentSetData = _useData.silentSetData,\n    setCount = _useData.setCount,\n    originalData = _useData.originalData,\n    setOriginalData = _useData.setOriginalData,\n    dataCountAfterFilter = _useData.dataCountAfterFilter,\n    setDataCountAfterFilter = _useData.setDataCountAfterFilter;\n  var _useState13 = (0, _react.useState)(Date.now),\n    _useState14 = (0, _slicedToArray2.default)(_useState13, 2),\n    reloadTimestamp = _useState14[0],\n    setReloadTimestamp = _useState14[1];\n  var reload = function reload() {\n    setReloadTimestamp(Date.now());\n  };\n  var getFilteredRows = (0, _react.useCallback)(function (dataCount) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    var filteredRowsCount = computedProps.filteredRowsCount;\n    if (dataCount === undefined) {\n      return;\n    }\n    if (filteredRowsCount) {\n      filteredRowsCount(dataCount);\n    }\n  }, [dataCountAfterFilter]);\n  if (computedProps.filteredRowsCount) {\n    getFilteredRows(dataCountAfterFilter);\n  }\n  var lastSkipRef = (0, _react.useRef)(computedSkip);\n  var lastFilterValueRef = (0, _react.useRef)(computedProps.computedFilterValue);\n  var lastLimitRef = (0, _react.useRef)(computedLimit);\n  var lastGroupBy = (0, _usePrevious.default)(computedProps.computedGroupBy, computedProps.computedGroupBy);\n  var lastDataSource = (0, _usePrevious.default)(props.dataSource, props.dataSource);\n  var dataPromiseRef = (0, _react.useRef)(null);\n  dataPromiseRef.current = (0, _useLoadDataEffect.default)({\n    getDataSource: function getDataSource(_ref8) {\n      var shouldReload = _ref8.shouldReload;\n      var computedProps = computedPropsRef.current;\n      return shouldReload ? computedProps.dataSource : computedProps.originalData;\n    }\n  }, function (dataToLoad, _ref9) {\n    var shouldReload = _ref9.shouldReload,\n      intercept = _ref9.intercept;\n    var _computedPropsRef$cur = computedPropsRef.current,\n      computedSortInfo = _computedPropsRef$cur.computedSortInfo,\n      computedRemoteData = _computedPropsRef$cur.computedRemoteData,\n      computedFilterValue = _computedPropsRef$cur.computedFilterValue,\n      computedGroupBy = _computedPropsRef$cur.computedGroupBy,\n      prevOriginalData = _computedPropsRef$cur.originalData,\n      skipLoadOnMount = _computedPropsRef$cur.skipLoadOnMount,\n      wasMountedRef = _computedPropsRef$cur.wasMountedRef,\n      initialState = _computedPropsRef$cur.initialState;\n    if (!prevOriginalData.length && computedRemoteData) {\n      computedPropsRef.current.setLoading(true);\n    }\n    var initialCount;\n    if (skipLoadOnMount && !wasMountedRef.current && initialState && initialState.data) {\n      dataToLoad = initialState.data;\n      initialCount = initialState.count;\n    }\n    if (computedRemoteData && !Array.isArray(dataToLoad)) {\n      computedPropsRef.current.setLoading(true);\n    }\n    var skipControlled = (0, _isControlledProperty.default)(computedProps.initialProps, 'skip');\n    var shouldResetSkip = shouldReload && typeof props.dataSource === 'function' && props.dataSource !== lastDataSource && !skipControlled && computedPropsRef.current.computedSkip !== 0;\n    if (!shouldResetSkip) {\n      if (shouldReload && typeof props.dataSource === 'function' && computedPropsRef.current.computedSkip !== 0 && computedPropsRef.current.computedFilterable && (!(0, _fastDeepEqual.default)(computedPropsRef.current.computedFilterValue, lastFilterValueRef.current) || computedPropsRef.current.computedGroupBy !== lastGroupBy)) {\n        shouldResetSkip = true;\n      }\n    }\n    if (shouldResetSkip) {\n      setSkip(0);\n      return Promise.resolve(true);\n    }\n    return intercept(loadDataSource(dataToLoad, {\n      sortInfo: computedSortInfo,\n      currentData: computedPropsRef.current.data,\n      skip: computedSkip,\n      limit: computedLimit,\n      filterValue: computedFilterValue,\n      groupBy: computedGroupBy\n    }), dataToLoad).then(function (_ref10) {\n      var originalData = _ref10.data,\n        count = _ref10.count;\n      if (initialCount) {\n        count = initialCount;\n      }\n      var computedProps = computedPropsRef.current;\n      var queue = (0, _batchUpdate.default)();\n      var data = originalData;\n      var shouldAppend = computedLivePagination && !shouldReload ? computedSkip > lastSkipRef.current : append;\n      if (shouldAppend) {\n        originalData = prevOriginalData.concat(originalData);\n        data = originalData;\n      }\n      var computeDataResult = (0, _computeData.default)({\n        remoteData: false,\n        originalData: originalData\n      }, computedProps, queue);\n      data = computeDataResult.data || originalData;\n      var dataCountAfterFilter = computeDataResult.dataCountAfterFilter;\n      var prevComputedSkip = lastSkipRef.current;\n      lastSkipRef.current = computedSkip;\n      lastFilterValueRef.current = computedFilterValue;\n      lastLimitRef.current = computedLimit;\n      var shouldIndexData = computedProps.computedRowSelectionEnabled || computedProps.computedRowExpandEnabled || computedProps.treeColumn || computedProps.treeEnabled || computedProps.rowIndexColumn || computedProps.computedRowHeights || computedProps.computedGroupBy && props.stickyGroupRows;\n      var dataIndexMap = shouldIndexData && Array.isArray(data) ? {} : null;\n      var stickyGroupsIndexes = props.stickyGroupRows === true || props.stickyTreeNodes === true ? {} : null;\n      var dataMap = shouldIndexData && Array.isArray(data) ? data.reduce(function (acc, item, index) {\n        var id = computedProps.getItemId(item);\n        if (stickyGroupsIndexes) {\n          if (item.__group) {\n            stickyGroupsIndexes[index] = item.depth;\n          }\n          if (item.__nodeProps && !item.__nodeProps.leafNode) {\n            stickyGroupsIndexes[index] = item.__nodeProps.depth + 1;\n          }\n        }\n        acc[id] = item;\n        dataIndexMap[id] = index;\n        return acc;\n      }, {}) : null;\n      return queue.commit(function () {\n        var computedProps = computedPropsRef.current;\n        setOriginalData(originalData);\n        if (computedProps.scrollTopOnSort === true && computedProps.loadDataTrigger.find(function (s) {\n          return s == 'sortInfo';\n        }) || computedProps.scrollTopOnSort === 'always') {\n          raf(function () {\n            computedProps.setScrollTop(0);\n          });\n        }\n        if (computedSkip === 0 && prevComputedSkip > 0) {\n          raf(function () {\n            computedProps.setScrollTop(0);\n          });\n        }\n        if (computedProps.scrollTopOnFilter && computedProps.loadDataTrigger.find(function (s) {\n          return s == 'filterValue';\n        })) {\n          raf(function () {\n            computedProps.setScrollTop(0);\n          });\n        }\n        setLoadDataTrigger([]);\n        if (append) {\n          setAppend(false);\n        }\n        computedProps.setDataMap(dataMap);\n        computedProps.setDataIndexMap(dataIndexMap);\n        if (stickyGroupsIndexes && computedProps.setStickyGroupsIndexes) {\n          computedProps.setStickyGroupsIndexes(stickyGroupsIndexes);\n        }\n        setDataCountAfterFilter(dataCountAfterFilter);\n        if (dataCountAfterFilter != null && computedSkip >= dataCountAfterFilter && !computedRemoteData) {\n          setSkip(0);\n        }\n        silentSetData(data || []);\n        computedProps.setLoading(false);\n        if (shouldReload) {\n          setCount(count);\n        }\n      });\n    }, function (_err) {});\n  }, {\n    reloadDeps: [props.dataSource, computedRemoteData ? computedSkip : null, computedRemoteData && !computedLivePagination ? computedLimit : null, reloadTimestamp, props.pagination, props.remotePagination, props.pivot, props.livePagination, computedRemoteData || props.groupBy ? computedProps.computedGroupBy : null, computedRemoteData ? JSON.stringify(computedProps.computedSortInfo) : null, computedRemoteData ? JSON.stringify(computedProps.computedFilterValue) : null, computedRemoteFilter ? JSON.stringify(computedProps.computedFilterValue) : null, JSON.stringify(computedProps.computedCollapsedGroups || ''), JSON.stringify(computedProps.computedExpandedGroups || '')],\n    noReloadDeps: [originalData, computedProps.computedGroupBy, computedProps.groupColumn, computedProps.renderRowDetails, computedProps.treeColumn, computedProps.showGroupSummaryRow, !computedRemoteData ? computedSkip : null, !computedRemoteData ? computedLimit : null, !computedRemoteData ? JSON.stringify(computedProps.computedSortInfo) : null, !computedRemoteFilter ? JSON.stringify(computedProps.computedFilterValue) : null, computedProps.computedExpandedNodes ? JSON.stringify(computedProps.computedExpandedNodes) : null, computedProps.computedNodeCache ? JSON.stringify(computedProps.computedNodeCache) : null, computedProps.computedLoadingNodes ? JSON.stringify(computedProps.computedLoadingNodes) : null, computedDataSourceCache, computedProps.stickyGroupRows, computedProps.stickyTreeNodes]\n  });\n  var paginationProps = usePagination({\n    append: append,\n    reload: reload,\n    setAppend: setAppend,\n    lastSkipRef: lastSkipRef,\n    lastLimitRef: lastLimitRef,\n    skip: computedSkip,\n    limit: computedLimit,\n    count: count,\n    setSkip: setSkip,\n    setLimit: setLimit,\n    pagination: computedPagination,\n    livePagination: computedLivePagination,\n    localPagination: computedLocalPagination,\n    remotePagination: computedRemotePagination,\n    dataCountAfterFilter: dataCountAfterFilter,\n    originalData: originalData,\n    data: data\n  }, computedPropsRef);\n  var getRowIndexById = (0, _react.useCallback)(function (rowId, data) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return -1;\n    }\n    var dataIndexMap = computedProps.dataIndexMap;\n    if (dataIndexMap) {\n      return dataIndexMap[rowId];\n    }\n    data = data || computedProps.data;\n    return (0, _getIndexBy.default)(data, computedProps.idProperty, rowId, computedProps.getItemId, computedProps.compoundIdProperty);\n  }, []);\n  var getItemIndexById = (0, _react.useCallback)(function (id, data) {\n    return getRowIndexById(id, data);\n  }, []);\n  var getData = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return [];\n    }\n    return computedProps.data;\n  }, []);\n  return _objectSpread({\n    getData: getData,\n    getRowIndexById: getRowIndexById,\n    getItemIndexById: getItemIndexById,\n    data: data,\n    dataMap: dataMap,\n    setDataMap: setDataMap,\n    dataIndexMap: dataIndexMap,\n    setDataIndexMap: setDataIndexMap,\n    loadDataTrigger: loadDataTrigger,\n    setLoadDataTrigger: setLoadDataTrigger,\n    originalData: originalData,\n    setOriginalData: setOriginalData,\n    ungroupedData: ungroupedData,\n    setUngroupedData: setUngroupedData,\n    computedSkip: computedSkip,\n    computedPagination: computedPagination,\n    computedLimit: computedLimit,\n    computedSummary: summary,\n    setSummary: setSummary,\n    dataPromiseRef: dataPromiseRef,\n    silentSetData: silentSetData,\n    computedLivePagination: computedLivePagination,\n    computedLocalPagination: computedLocalPagination,\n    computedRemotePagination: computedRemotePagination,\n    computedRemoteData: computedRemoteData,\n    computedRemoteFilter: computedRemoteFilter,\n    computedRemoteSort: computedRemoteSort,\n    computedDataSourceCache: computedDataSourceCache,\n    setDataSourceCache: setDataSourceCache,\n    setItemPropertyAt: setItemPropertyAt,\n    setItemPropertyForId: setItemPropertyForId,\n    setItemAt: setItemAt,\n    setItemsAt: setItemsAt,\n    setItemOnReorderingGroups: setItemOnReorderingGroups\n  }, paginationProps);\n};\nexports.default = _default;","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","isLivePagination","default","_toConsumableArray2","_defineProperty2","_slicedToArray2","_react","_clamp","_getIndexBy","_fastDeepEqual","_useLoadDataEffect","_useProperty7","_useNamedState9","_computeData","_batchUpdate","_usePrevious","_isControlledProperty","_getGlobal","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","globalObject","getGlobal","raf","requestAnimationFrame","isRemoteData","props","dataSource","then","isRemoteSort","remoteSort","undefined","isRemoteFilter","remoteFilter","isPagination","pagination","isLocalPagination","isRemotePagination","livePagination","remotePagination","loadDataSource","_ref","skip","limit","currentData","sortInfo","filterValue","groupBy","Promise","result","Array","isArray","data","count","resolve","useData","_ref2","context","localPagination","silentSetData","_useNamedState","_useNamedState2","_useState","useState","_useState2","dataMap","setDataMap","_useState3","_useState4","dataIndexMap","setDataIndexMap","originalData","setOriginalData","_useNamedState3","_useNamedState4","_useNamedState5","_useNamedState6","setCount","_useNamedState7","_useNamedState8","dataCountAfterFilter","setDataCountAfterFilter","getDataCountForPagination","paginationCount","getCurrentPage","Math","floor","getPageCount","_ref3","ceil","getSkipForPage","_ref4","page","max","hasNextPage","_ref5","hasPrevPage","_ref6","currentPage","usePagination","_ref7","computedPropsRef","append","reload","setAppend","silentSetSkip","setSkip","silentSetLimit","setLimit","lastSkipRef","lastLimitRef","setLimitOrSkip","computedProps","config","queue","current","computedRemoteData","commit","setLoadDataTrigger","loadDataTrigger","concat","incrementSkip","amount","gotoNextPage","gotoPrevPage","gotoPage","force","hasNext","hasPrev","gotoFirstPage","gotoLastPage","paginationProps","onSkipChange","onLimitChange","onRefresh","totalCount","useDataSourceCache","prevDataSource","_useProperty","onChange","dataSourceCache","info","initialProps","onDataSourceCacheChange","_useProperty2","setDataSourceCache","clearDataSourceCacheOnChange","useLayoutEffect","_default","computedRemoteFilter","computedRemoteSort","computedLivePagination","computedRemotePagination","computedLocalPagination","computedPagination","_useState5","_useState6","ungroupedData","setUngroupedData","_useState7","_useState8","_useState9","_useState10","_useProperty3","_useProperty4","computedSkip","_useProperty5","_useProperty6","computedLimit","_useDataSourceCache","_useDataSourceCache2","computedDataSourceCache","_useState11","summaryReducer","initialValue","_useState12","summary","setSummary","setItemOnReorderingGroups","index","item","setItemAt","replace","newItem","getItemAt","oldId","getItemId","property","deepCloning","compoundIdProperty","parts","idProperty","split","idPropertySeparator","part","assign","newId","showWarnings","console","error","setItemsAt","items","newIds","getItemIndex","setItemPropertyAt","setItemPropertyForId","id","getRowIndexById","_useData","_useState13","Date","now","_useState14","reloadTimestamp","setReloadTimestamp","getFilteredRows","useCallback","dataCount","filteredRowsCount","useRef","lastFilterValueRef","computedFilterValue","lastGroupBy","computedGroupBy","lastDataSource","dataPromiseRef","getDataSource","_ref8","shouldReload","dataToLoad","_ref9","intercept","_computedPropsRef$cur","computedSortInfo","prevOriginalData","skipLoadOnMount","wasMountedRef","initialState","setLoading","initialCount","skipControlled","shouldResetSkip","computedFilterable","_ref10","shouldAppend","computeDataResult","remoteData","prevComputedSkip","shouldIndexData","computedRowSelectionEnabled","computedRowExpandEnabled","treeColumn","treeEnabled","rowIndexColumn","computedRowHeights","stickyGroupRows","stickyGroupsIndexes","stickyTreeNodes","reduce","acc","__group","depth","__nodeProps","leafNode","scrollTopOnSort","find","s","setScrollTop","scrollTopOnFilter","setStickyGroupsIndexes","_err","reloadDeps","pivot","JSON","stringify","computedCollapsedGroups","computedExpandedGroups","noReloadDeps","groupColumn","renderRowDetails","showGroupSummaryRow","computedExpandedNodes","computedNodeCache","computedLoadingNodes","rowId","getItemIndexById","getData","computedSummary"],"sources":["/Users/alexandre.nepomuceno/Documents/agenda/node_modules/@inovua/reactdatagrid-community/hooks/useDataSource/index.js"],"sourcesContent":["/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isLivePagination = exports.default = void 0;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = require(\"react\");\nvar _clamp = _interopRequireDefault(require(\"../../utils/clamp\"));\nvar _getIndexBy = _interopRequireDefault(require(\"../../utils/getIndexBy\"));\nvar _fastDeepEqual = _interopRequireDefault(require(\"fast-deep-equal\"));\nvar _useLoadDataEffect = _interopRequireDefault(require(\"../useLoadDataEffect\"));\nvar _useProperty7 = _interopRequireDefault(require(\"../useProperty\"));\nvar _useNamedState9 = _interopRequireDefault(require(\"../useNamedState\"));\nvar _computeData = _interopRequireDefault(require(\"./computeData\"));\nvar _batchUpdate = _interopRequireDefault(require(\"../../utils/batchUpdate\"));\nvar _usePrevious = _interopRequireDefault(require(\"../usePrevious\"));\nvar _isControlledProperty = _interopRequireDefault(require(\"../../utils/isControlledProperty\"));\nvar _getGlobal = require(\"../../getGlobal\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar globalObject = (0, _getGlobal.getGlobal)();\nvar raf = globalObject.requestAnimationFrame;\nvar isRemoteData = function isRemoteData(props) {\n  if (props.dataSource == null) {\n    return false;\n  }\n  return typeof props.dataSource.then === 'function' || typeof props.dataSource === 'function';\n};\nvar isRemoteSort = function isRemoteSort(props) {\n  var remoteSort = props.remoteSort;\n  return remoteSort === true || remoteSort === undefined && isRemoteData(props);\n};\nvar isRemoteFilter = function isRemoteFilter(props) {\n  var remoteFilter = props.remoteFilter;\n  return remoteFilter === true || remoteFilter === undefined && isRemoteData(props);\n};\nvar isPagination = function isPagination(props) {\n  return !!props.pagination;\n};\nvar isLocalPagination = function isLocalPagination(props) {\n  return isPagination(props) && !isRemotePagination(props);\n};\nvar isLivePagination = function isLivePagination(props) {\n  return !!props.livePagination && isRemotePagination(props);\n};\nexports.isLivePagination = isLivePagination;\nvar isRemotePagination = function isRemotePagination(props) {\n  var remotePagination = props.remotePagination,\n    pagination = props.pagination,\n    livePagination = props.livePagination;\n  if (pagination === false || pagination === 'local') {\n    return false;\n  }\n  if (pagination === 'remote' || isRemoteData(props)) {\n    return true;\n  }\n  if (remotePagination !== undefined) {\n    return remotePagination;\n  }\n  return !!livePagination;\n};\nvar loadDataSource = function loadDataSource(dataSource, _ref) {\n  var skip = _ref.skip,\n    limit = _ref.limit,\n    currentData = _ref.currentData,\n    sortInfo = _ref.sortInfo,\n    filterValue = _ref.filterValue,\n    groupBy = _ref.groupBy;\n  if (typeof dataSource === 'function') {\n    dataSource = loadDataSource(dataSource({\n      skip: skip,\n      limit: limit,\n      sortInfo: sortInfo,\n      currentData: currentData,\n      filterValue: filterValue,\n      groupBy: groupBy\n    }), {\n      skip: skip,\n      limit: limit,\n      sortInfo: sortInfo,\n      groupBy: groupBy,\n      filterValue: filterValue,\n      currentData: currentData\n    });\n  }\n  if (dataSource instanceof Promise) {\n    return dataSource.then(function (result) {\n      if (Array.isArray(result)) {\n        return {\n          data: result,\n          count: result.length\n        };\n      }\n      return {\n        data: result.data,\n        count: result.count\n      };\n    });\n  }\n  return Promise.resolve({\n    data: dataSource,\n    count: dataSource.length\n  });\n};\nvar useData = function useData(_ref2, context) {\n  var dataSource = _ref2.dataSource,\n    skip = _ref2.skip,\n    limit = _ref2.limit,\n    localPagination = _ref2.localPagination;\n  var data;\n  var silentSetData;\n  var _useNamedState = (0, _useNamedState9.default)([], context, 'data');\n  var _useNamedState2 = (0, _slicedToArray2.default)(_useNamedState, 2);\n  data = _useNamedState2[0];\n  silentSetData = _useNamedState2[1];\n  var _useState = (0, _react.useState)(null),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    dataMap = _useState2[0],\n    setDataMap = _useState2[1];\n  var _useState3 = (0, _react.useState)(null),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    dataIndexMap = _useState4[0],\n    setDataIndexMap = _useState4[1];\n  var originalData;\n  var setOriginalData;\n  var _useNamedState3 = (0, _useNamedState9.default)(Array.isArray(dataSource) ? dataSource : [], context, 'originalData');\n  var _useNamedState4 = (0, _slicedToArray2.default)(_useNamedState3, 2);\n  originalData = _useNamedState4[0];\n  setOriginalData = _useNamedState4[1];\n  var _useNamedState5 = (0, _useNamedState9.default)(data.length, context, 'count'),\n    _useNamedState6 = (0, _slicedToArray2.default)(_useNamedState5, 2),\n    count = _useNamedState6[0],\n    setCount = _useNamedState6[1];\n  var _useNamedState7 = (0, _useNamedState9.default)(0, context, 'dataCountAfterFilter'),\n    _useNamedState8 = (0, _slicedToArray2.default)(_useNamedState7, 2),\n    dataCountAfterFilter = _useNamedState8[0],\n    setDataCountAfterFilter = _useNamedState8[1];\n  return {\n    setDataMap: setDataMap,\n    dataMap: dataMap,\n    dataIndexMap: dataIndexMap,\n    setDataIndexMap: setDataIndexMap,\n    originalData: originalData,\n    setOriginalData: setOriginalData,\n    data: data,\n    count: count,\n    dataCountAfterFilter: dataCountAfterFilter,\n    silentSetData: silentSetData,\n    setDataCountAfterFilter: setDataCountAfterFilter,\n    setCount: setCount\n  };\n};\nvar getDataCountForPagination = function getDataCountForPagination(props) {\n  var paginationCount = props.remotePagination ? props.count : props.dataCountAfterFilter != null ? props.dataCountAfterFilter : props.originalData.length;\n  return paginationCount;\n};\nvar getCurrentPage = function getCurrentPage(props) {\n  return Math.floor(props.skip / props.limit) + 1;\n};\nvar getPageCount = function getPageCount(_ref3) {\n  var count = _ref3.count,\n    limit = _ref3.limit;\n  return Math.ceil(count / limit);\n};\nvar getSkipForPage = function getSkipForPage(_ref4) {\n  var page = _ref4.page,\n    limit = _ref4.limit;\n  return Math.max(0, limit * (page - 1));\n};\nvar hasNextPage = function hasNextPage(_ref5) {\n  var skip = _ref5.skip,\n    limit = _ref5.limit,\n    count = _ref5.count;\n  return getCurrentPage({\n    skip: skip,\n    limit: limit\n  }) < getPageCount({\n    count: count,\n    limit: limit\n  });\n};\nvar hasPrevPage = function hasPrevPage(_ref6) {\n  var skip = _ref6.skip,\n    limit = _ref6.limit,\n    count = _ref6.count;\n  var currentPage = getCurrentPage({\n    skip: skip,\n    limit: limit\n  });\n  return currentPage > 1 && currentPage - 1 < getPageCount({\n    count: count,\n    limit: limit\n  });\n};\nvar usePagination = function usePagination(_ref7, computedPropsRef) {\n  var append = _ref7.append,\n    reload = _ref7.reload,\n    setAppend = _ref7.setAppend,\n    skip = _ref7.skip,\n    limit = _ref7.limit,\n    count = _ref7.count,\n    silentSetSkip = _ref7.setSkip,\n    silentSetLimit = _ref7.setLimit,\n    remotePagination = _ref7.remotePagination,\n    localPagination = _ref7.localPagination,\n    pagination = _ref7.pagination,\n    lastSkipRef = _ref7.lastSkipRef,\n    lastLimitRef = _ref7.lastLimitRef,\n    dataCountAfterFilter = _ref7.dataCountAfterFilter,\n    livePagination = _ref7.livePagination,\n    originalData = _ref7.originalData,\n    data = _ref7.data;\n  var paginationCount = getDataCountForPagination({\n    originalData: originalData,\n    remotePagination: remotePagination,\n    count: count,\n    dataCountAfterFilter: dataCountAfterFilter\n  });\n  var setLimitOrSkip = function setLimitOrSkip(computedProps, config, queue) {\n    return (0, _computeData.default)(_objectSpread(_objectSpread({\n      skip: skip,\n      limit: limit\n    }, config), {}, {\n      localPagination: localPagination\n    }), computedProps, queue);\n  };\n  var setSkip = function setSkip(skip, config) {\n    var computedProps = computedPropsRef.current;\n    var queue = (0, _batchUpdate.default)();\n    var computedRemoteData = computedProps.computedRemoteData;\n    queue.commit(function () {\n      if (config && config.append !== undefined) {\n        setAppend(config.append);\n      }\n      if (computedRemoteData) {\n        computedProps.setLoadDataTrigger(function (loadDataTrigger) {\n          return [].concat((0, _toConsumableArray2.default)(loadDataTrigger), ['skip']);\n        });\n      }\n      silentSetSkip(skip);\n    });\n  };\n  var setLimit = function setLimit(limit) {\n    var computedProps = computedPropsRef.current;\n    var queue = (0, _batchUpdate.default)();\n    var computedRemoteData = computedProps.computedRemoteData;\n    queue.commit(function () {\n      if (computedRemoteData) {\n        computedProps.setLoadDataTrigger(function (loadDataTrigger) {\n          return [].concat((0, _toConsumableArray2.default)(loadDataTrigger), ['limit']);\n        });\n      }\n      silentSetLimit(limit);\n    });\n  };\n  var incrementSkip = function incrementSkip(amount, config) {\n    setSkip(skip + amount, config);\n  };\n  var gotoNextPage = function gotoNextPage(config) {\n    if (hasNextPage({\n      skip: skip,\n      limit: lastLimitRef.current,\n      count: paginationCount\n    })) {\n      incrementSkip(lastLimitRef.current, config);\n    }\n  };\n  var gotoPrevPage = function gotoPrevPage() {\n    if (hasPrevPage({\n      skip: skip,\n      limit: limit,\n      count: paginationCount\n    })) {\n      incrementSkip(-limit);\n    }\n  };\n  var gotoPage = function gotoPage(page, config) {\n    page = (0, _clamp.default)(page, 1, getPageCount({\n      count: paginationCount,\n      limit: limit\n    }));\n    var force = config ? config.force : false;\n    if (page === getCurrentPage({\n      skip: skip,\n      limit: limit\n    }) && !force) {\n      return;\n    }\n    setSkip(getSkipForPage({\n      page: page,\n      limit: limit\n    }));\n  };\n  var hasNext = function hasNext() {\n    return hasNextPage({\n      skip: skip,\n      limit: limit,\n      count: paginationCount\n    });\n  };\n  var hasPrev = function hasPrev() {\n    return hasPrevPage({\n      skip: skip,\n      limit: limit,\n      count: paginationCount\n    });\n  };\n  var gotoFirstPage = function gotoFirstPage() {\n    return gotoPage(1);\n  };\n  var gotoLastPage = function gotoLastPage() {\n    return gotoPage(getPageCount({\n      count: paginationCount,\n      limit: limit\n    }));\n  };\n  var paginationProps;\n  if ((localPagination || remotePagination) && !livePagination) {\n    paginationProps = {\n      onSkipChange: setSkip,\n      onLimitChange: setLimit,\n      reload: reload,\n      onRefresh: reload,\n      totalCount: paginationCount,\n      count: count,\n      skip: skip,\n      limit: limit,\n      remotePagination: remotePagination,\n      localPagination: localPagination,\n      livePagination: livePagination,\n      pagination: pagination,\n      gotoPage: gotoPage,\n      gotoNextPage: gotoNextPage,\n      gotoFirstPage: gotoFirstPage,\n      gotoLastPage: gotoLastPage,\n      gotoPrevPage: gotoPrevPage,\n      hasNextPage: hasNext,\n      hasPrevPage: hasPrev\n    };\n  }\n  return {\n    count: count,\n    paginationCount: paginationCount,\n    reload: reload,\n    setSkip: setSkip,\n    setLimit: setLimit,\n    gotoNextPage: gotoNextPage,\n    gotoPrevPage: gotoPrevPage,\n    hasNextPage: hasNext,\n    hasPrevPage: hasPrev,\n    gotoFirstPage: gotoFirstPage,\n    gotoLastPage: gotoLastPage,\n    gotoPage: gotoPage,\n    paginationProps: paginationProps\n  };\n};\nvar useDataSourceCache = function useDataSourceCache(props, computedProps, computedPropsRef) {\n  var prevDataSource = (0, _usePrevious.default)(props.dataSource, props.dataSource);\n  var _useProperty = (0, _useProperty7.default)(props, 'dataSourceCache', undefined, {\n      onChange: function onChange(dataSourceCache, info) {\n        var computedProps = computedPropsRef.current;\n        if (!computedProps) {\n          return;\n        }\n        if (computedProps.initialProps.onDataSourceCacheChange) {\n          computedProps.initialProps.onDataSourceCacheChange(dataSourceCache, info);\n        }\n      }\n    }),\n    _useProperty2 = (0, _slicedToArray2.default)(_useProperty, 2),\n    dataSourceCache = _useProperty2[0],\n    setDataSourceCache = _useProperty2[1];\n  if (props.clearDataSourceCacheOnChange && prevDataSource !== props.dataSource) {\n    dataSourceCache = undefined;\n  }\n  (0, _react.useLayoutEffect)(function () {\n    if (props.clearDataSourceCacheOnChange) {\n      setDataSourceCache(undefined);\n    }\n  }, [props.dataSource]);\n  return [dataSourceCache, setDataSourceCache];\n};\nvar _default = function _default(props, computedProps, computedPropsRef) {\n  var computedRemoteData = isRemoteData(props);\n  var computedRemoteFilter = isRemoteFilter(props);\n  var computedRemoteSort = isRemoteSort(props);\n  var computedLivePagination = isLivePagination(props);\n  var computedRemotePagination = isRemotePagination(props);\n  var computedLocalPagination = isLocalPagination(props);\n  var computedPagination = computedRemotePagination || computedLocalPagination;\n  var _useState5 = (0, _react.useState)([]),\n    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n    ungroupedData = _useState6[0],\n    setUngroupedData = _useState6[1];\n  var _useState7 = (0, _react.useState)([]),\n    _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n    loadDataTrigger = _useState8[0],\n    setLoadDataTrigger = _useState8[1];\n  var _useState9 = (0, _react.useState)(false),\n    _useState10 = (0, _slicedToArray2.default)(_useState9, 2),\n    append = _useState10[0],\n    setAppend = _useState10[1];\n  var _useProperty3 = (0, _useProperty7.default)(props, 'skip', 0),\n    _useProperty4 = (0, _slicedToArray2.default)(_useProperty3, 2),\n    computedSkip = _useProperty4[0],\n    setSkip = _useProperty4[1];\n  var _useProperty5 = (0, _useProperty7.default)(props, 'limit', 50),\n    _useProperty6 = (0, _slicedToArray2.default)(_useProperty5, 2),\n    computedLimit = _useProperty6[0],\n    setLimit = _useProperty6[1];\n  var _useDataSourceCache = useDataSourceCache(props, computedProps, computedPropsRef),\n    _useDataSourceCache2 = (0, _slicedToArray2.default)(_useDataSourceCache, 2),\n    computedDataSourceCache = _useDataSourceCache2[0],\n    setDataSourceCache = _useDataSourceCache2[1];\n  var _useState11 = (0, _react.useState)(props.summaryReducer ? props.summaryReducer.initialValue : null),\n    _useState12 = (0, _slicedToArray2.default)(_useState11, 2),\n    summary = _useState12[0],\n    setSummary = _useState12[1];\n  var setItemOnReorderingGroups = function setItemOnReorderingGroups(index, item, config) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    computedProps.setItemAt(index, item, config);\n    computedProps.reload();\n  };\n  var setItemAt = function setItemAt(index, item, config) {\n    var replace = config && config.replace;\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    var newItem = computedProps.getItemAt(index);\n    var oldId = computedProps.getItemId(newItem);\n    if (!newItem) {\n      return;\n    }\n    if (replace) {\n      newItem = item;\n    } else {\n      if (config && config.property) {\n        newItem = _objectSpread(_objectSpread({}, newItem), {}, (0, _defineProperty2.default)({}, config.property, config.value));\n      } else {\n        if (config && config.deepCloning && computedProps.compoundIdProperty) {\n          var parts = computedProps.idProperty.split(computedProps.idPropertySeparator);\n          for (var i = 0; i < parts.length; i++) {\n            var part = parts[i];\n            if (newItem[part]) {\n              Object.assign(newItem[part], _objectSpread({}, item[part]));\n            }\n          }\n        } else {\n          newItem = _objectSpread(_objectSpread({}, newItem), item);\n        }\n      }\n    }\n    var newId = computedProps.getItemId(newItem);\n    if (newId !== oldId) {\n      if (computedProps.showWarnings) {\n        console.error(\"Cannot replace the item with another one that has a different value for the idProperty!\");\n      }\n      return;\n    }\n    setDataSourceCache(_objectSpread(_objectSpread({}, computedProps.computedDataSourceCache), {}, (0, _defineProperty2.default)({}, newId, newItem)));\n  };\n  var setItemsAt = function setItemsAt(items, config) {\n    var replace = config && config.replace;\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    var newIds = {};\n    for (var i = 0; i < items.length; i++) {\n      var item = items[i];\n      var oldId = computedProps.getItemId(item);\n      var index = computedProps.getItemIndex(item);\n      var newItem = computedProps.getItemAt(index);\n      if (!newItem) {\n        continue;\n      }\n      if (replace) {\n        newItem = item;\n      } else {\n        newItem = _objectSpread(_objectSpread({}, newItem), item);\n      }\n      var newId = computedProps.getItemId(newItem);\n      if (newId !== oldId) {\n        continue;\n      }\n      newIds[newId] = newItem;\n    }\n    if (!items.length) {\n      return;\n    }\n    setDataSourceCache(_objectSpread(_objectSpread({}, computedProps.computedDataSourceCache), newIds));\n  };\n  var setItemPropertyAt = function setItemPropertyAt(index, property, value) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    if (property === computedProps.idProperty) {\n      if (computedProps.showWarnings) {\n        console.error(\"Cannot update the value of the \\\"idProperty\\\" property!\");\n      }\n    }\n    var item = computedProps.getItemAt(index);\n    if (item) {\n      item = _objectSpread({}, item);\n      item[property] = value;\n      setItemAt(index, item, {\n        property: property,\n        value: value\n      });\n    }\n  };\n  var setItemPropertyForId = function setItemPropertyForId(id, property, value) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    var index = computedProps.getRowIndexById(id);\n    setItemPropertyAt(index, property, value);\n  };\n  var _useData = useData({\n      dataSource: props.dataSource,\n      skip: computedSkip,\n      limit: computedLimit,\n      localPagination: computedLocalPagination\n    }, props.context),\n    data = _useData.data,\n    dataMap = _useData.dataMap,\n    dataIndexMap = _useData.dataIndexMap,\n    setDataIndexMap = _useData.setDataIndexMap,\n    setDataMap = _useData.setDataMap,\n    count = _useData.count,\n    silentSetData = _useData.silentSetData,\n    setCount = _useData.setCount,\n    originalData = _useData.originalData,\n    setOriginalData = _useData.setOriginalData,\n    dataCountAfterFilter = _useData.dataCountAfterFilter,\n    setDataCountAfterFilter = _useData.setDataCountAfterFilter;\n  var _useState13 = (0, _react.useState)(Date.now),\n    _useState14 = (0, _slicedToArray2.default)(_useState13, 2),\n    reloadTimestamp = _useState14[0],\n    setReloadTimestamp = _useState14[1];\n  var reload = function reload() {\n    setReloadTimestamp(Date.now());\n  };\n  var getFilteredRows = (0, _react.useCallback)(function (dataCount) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return;\n    }\n    var filteredRowsCount = computedProps.filteredRowsCount;\n    if (dataCount === undefined) {\n      return;\n    }\n    if (filteredRowsCount) {\n      filteredRowsCount(dataCount);\n    }\n  }, [dataCountAfterFilter]);\n  if (computedProps.filteredRowsCount) {\n    getFilteredRows(dataCountAfterFilter);\n  }\n  var lastSkipRef = (0, _react.useRef)(computedSkip);\n  var lastFilterValueRef = (0, _react.useRef)(computedProps.computedFilterValue);\n  var lastLimitRef = (0, _react.useRef)(computedLimit);\n  var lastGroupBy = (0, _usePrevious.default)(computedProps.computedGroupBy, computedProps.computedGroupBy);\n  var lastDataSource = (0, _usePrevious.default)(props.dataSource, props.dataSource);\n  var dataPromiseRef = (0, _react.useRef)(null);\n  dataPromiseRef.current = (0, _useLoadDataEffect.default)({\n    getDataSource: function getDataSource(_ref8) {\n      var shouldReload = _ref8.shouldReload;\n      var computedProps = computedPropsRef.current;\n      return shouldReload ? computedProps.dataSource : computedProps.originalData;\n    }\n  }, function (dataToLoad, _ref9) {\n    var shouldReload = _ref9.shouldReload,\n      intercept = _ref9.intercept;\n    var _computedPropsRef$cur = computedPropsRef.current,\n      computedSortInfo = _computedPropsRef$cur.computedSortInfo,\n      computedRemoteData = _computedPropsRef$cur.computedRemoteData,\n      computedFilterValue = _computedPropsRef$cur.computedFilterValue,\n      computedGroupBy = _computedPropsRef$cur.computedGroupBy,\n      prevOriginalData = _computedPropsRef$cur.originalData,\n      skipLoadOnMount = _computedPropsRef$cur.skipLoadOnMount,\n      wasMountedRef = _computedPropsRef$cur.wasMountedRef,\n      initialState = _computedPropsRef$cur.initialState;\n    if (!prevOriginalData.length && computedRemoteData) {\n      computedPropsRef.current.setLoading(true);\n    }\n    var initialCount;\n    if (skipLoadOnMount && !wasMountedRef.current && initialState && initialState.data) {\n      dataToLoad = initialState.data;\n      initialCount = initialState.count;\n    }\n    if (computedRemoteData && !Array.isArray(dataToLoad)) {\n      computedPropsRef.current.setLoading(true);\n    }\n    var skipControlled = (0, _isControlledProperty.default)(computedProps.initialProps, 'skip');\n    var shouldResetSkip = shouldReload && typeof props.dataSource === 'function' && props.dataSource !== lastDataSource && !skipControlled && computedPropsRef.current.computedSkip !== 0;\n    if (!shouldResetSkip) {\n      if (shouldReload && typeof props.dataSource === 'function' && computedPropsRef.current.computedSkip !== 0 && computedPropsRef.current.computedFilterable && (!(0, _fastDeepEqual.default)(computedPropsRef.current.computedFilterValue, lastFilterValueRef.current) || computedPropsRef.current.computedGroupBy !== lastGroupBy)) {\n        shouldResetSkip = true;\n      }\n    }\n    if (shouldResetSkip) {\n      setSkip(0);\n      return Promise.resolve(true);\n    }\n    return intercept(loadDataSource(dataToLoad, {\n      sortInfo: computedSortInfo,\n      currentData: computedPropsRef.current.data,\n      skip: computedSkip,\n      limit: computedLimit,\n      filterValue: computedFilterValue,\n      groupBy: computedGroupBy\n    }), dataToLoad).then(function (_ref10) {\n      var originalData = _ref10.data,\n        count = _ref10.count;\n      if (initialCount) {\n        count = initialCount;\n      }\n      var computedProps = computedPropsRef.current;\n      var queue = (0, _batchUpdate.default)();\n      var data = originalData;\n      var shouldAppend = computedLivePagination && !shouldReload ? computedSkip > lastSkipRef.current : append;\n      if (shouldAppend) {\n        originalData = prevOriginalData.concat(originalData);\n        data = originalData;\n      }\n      var computeDataResult = (0, _computeData.default)({\n        remoteData: false,\n        originalData: originalData\n      }, computedProps, queue);\n      data = computeDataResult.data || originalData;\n      var dataCountAfterFilter = computeDataResult.dataCountAfterFilter;\n      var prevComputedSkip = lastSkipRef.current;\n      lastSkipRef.current = computedSkip;\n      lastFilterValueRef.current = computedFilterValue;\n      lastLimitRef.current = computedLimit;\n      var shouldIndexData = computedProps.computedRowSelectionEnabled || computedProps.computedRowExpandEnabled || computedProps.treeColumn || computedProps.treeEnabled || computedProps.rowIndexColumn || computedProps.computedRowHeights || computedProps.computedGroupBy && props.stickyGroupRows;\n      var dataIndexMap = shouldIndexData && Array.isArray(data) ? {} : null;\n      var stickyGroupsIndexes = props.stickyGroupRows === true || props.stickyTreeNodes === true ? {} : null;\n      var dataMap = shouldIndexData && Array.isArray(data) ? data.reduce(function (acc, item, index) {\n        var id = computedProps.getItemId(item);\n        if (stickyGroupsIndexes) {\n          if (item.__group) {\n            stickyGroupsIndexes[index] = item.depth;\n          }\n          if (item.__nodeProps && !item.__nodeProps.leafNode) {\n            stickyGroupsIndexes[index] = item.__nodeProps.depth + 1;\n          }\n        }\n        acc[id] = item;\n        dataIndexMap[id] = index;\n        return acc;\n      }, {}) : null;\n      return queue.commit(function () {\n        var computedProps = computedPropsRef.current;\n        setOriginalData(originalData);\n        if (computedProps.scrollTopOnSort === true && computedProps.loadDataTrigger.find(function (s) {\n          return s == 'sortInfo';\n        }) || computedProps.scrollTopOnSort === 'always') {\n          raf(function () {\n            computedProps.setScrollTop(0);\n          });\n        }\n        if (computedSkip === 0 && prevComputedSkip > 0) {\n          raf(function () {\n            computedProps.setScrollTop(0);\n          });\n        }\n        if (computedProps.scrollTopOnFilter && computedProps.loadDataTrigger.find(function (s) {\n          return s == 'filterValue';\n        })) {\n          raf(function () {\n            computedProps.setScrollTop(0);\n          });\n        }\n        setLoadDataTrigger([]);\n        if (append) {\n          setAppend(false);\n        }\n        computedProps.setDataMap(dataMap);\n        computedProps.setDataIndexMap(dataIndexMap);\n        if (stickyGroupsIndexes && computedProps.setStickyGroupsIndexes) {\n          computedProps.setStickyGroupsIndexes(stickyGroupsIndexes);\n        }\n        setDataCountAfterFilter(dataCountAfterFilter);\n        if (dataCountAfterFilter != null && computedSkip >= dataCountAfterFilter && !computedRemoteData) {\n          setSkip(0);\n        }\n        silentSetData(data || []);\n        computedProps.setLoading(false);\n        if (shouldReload) {\n          setCount(count);\n        }\n      });\n    }, function (_err) {});\n  }, {\n    reloadDeps: [props.dataSource, computedRemoteData ? computedSkip : null, computedRemoteData && !computedLivePagination ? computedLimit : null, reloadTimestamp, props.pagination, props.remotePagination, props.pivot, props.livePagination, computedRemoteData || props.groupBy ? computedProps.computedGroupBy : null, computedRemoteData ? JSON.stringify(computedProps.computedSortInfo) : null, computedRemoteData ? JSON.stringify(computedProps.computedFilterValue) : null, computedRemoteFilter ? JSON.stringify(computedProps.computedFilterValue) : null, JSON.stringify(computedProps.computedCollapsedGroups || ''), JSON.stringify(computedProps.computedExpandedGroups || '')],\n    noReloadDeps: [originalData, computedProps.computedGroupBy, computedProps.groupColumn, computedProps.renderRowDetails, computedProps.treeColumn, computedProps.showGroupSummaryRow, !computedRemoteData ? computedSkip : null, !computedRemoteData ? computedLimit : null, !computedRemoteData ? JSON.stringify(computedProps.computedSortInfo) : null, !computedRemoteFilter ? JSON.stringify(computedProps.computedFilterValue) : null, computedProps.computedExpandedNodes ? JSON.stringify(computedProps.computedExpandedNodes) : null, computedProps.computedNodeCache ? JSON.stringify(computedProps.computedNodeCache) : null, computedProps.computedLoadingNodes ? JSON.stringify(computedProps.computedLoadingNodes) : null, computedDataSourceCache, computedProps.stickyGroupRows, computedProps.stickyTreeNodes]\n  });\n  var paginationProps = usePagination({\n    append: append,\n    reload: reload,\n    setAppend: setAppend,\n    lastSkipRef: lastSkipRef,\n    lastLimitRef: lastLimitRef,\n    skip: computedSkip,\n    limit: computedLimit,\n    count: count,\n    setSkip: setSkip,\n    setLimit: setLimit,\n    pagination: computedPagination,\n    livePagination: computedLivePagination,\n    localPagination: computedLocalPagination,\n    remotePagination: computedRemotePagination,\n    dataCountAfterFilter: dataCountAfterFilter,\n    originalData: originalData,\n    data: data\n  }, computedPropsRef);\n  var getRowIndexById = (0, _react.useCallback)(function (rowId, data) {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return -1;\n    }\n    var dataIndexMap = computedProps.dataIndexMap;\n    if (dataIndexMap) {\n      return dataIndexMap[rowId];\n    }\n    data = data || computedProps.data;\n    return (0, _getIndexBy.default)(data, computedProps.idProperty, rowId, computedProps.getItemId, computedProps.compoundIdProperty);\n  }, []);\n  var getItemIndexById = (0, _react.useCallback)(function (id, data) {\n    return getRowIndexById(id, data);\n  }, []);\n  var getData = (0, _react.useCallback)(function () {\n    var computedProps = computedPropsRef.current;\n    if (!computedProps) {\n      return [];\n    }\n    return computedProps.data;\n  }, []);\n  return _objectSpread({\n    getData: getData,\n    getRowIndexById: getRowIndexById,\n    getItemIndexById: getItemIndexById,\n    data: data,\n    dataMap: dataMap,\n    setDataMap: setDataMap,\n    dataIndexMap: dataIndexMap,\n    setDataIndexMap: setDataIndexMap,\n    loadDataTrigger: loadDataTrigger,\n    setLoadDataTrigger: setLoadDataTrigger,\n    originalData: originalData,\n    setOriginalData: setOriginalData,\n    ungroupedData: ungroupedData,\n    setUngroupedData: setUngroupedData,\n    computedSkip: computedSkip,\n    computedPagination: computedPagination,\n    computedLimit: computedLimit,\n    computedSummary: summary,\n    setSummary: setSummary,\n    dataPromiseRef: dataPromiseRef,\n    silentSetData: silentSetData,\n    computedLivePagination: computedLivePagination,\n    computedLocalPagination: computedLocalPagination,\n    computedRemotePagination: computedRemotePagination,\n    computedRemoteData: computedRemoteData,\n    computedRemoteFilter: computedRemoteFilter,\n    computedRemoteSort: computedRemoteSort,\n    computedDataSourceCache: computedDataSourceCache,\n    setDataSourceCache: setDataSourceCache,\n    setItemPropertyAt: setItemPropertyAt,\n    setItemPropertyForId: setItemPropertyForId,\n    setItemAt: setItemAt,\n    setItemsAt: setItemsAt,\n    setItemOnReorderingGroups: setItemOnReorderingGroups\n  }, paginationProps);\n};\nexports.default = _default;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}