{"ast":null,"code":"/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _deepGet = _interopRequireDefault(require(\"../../deep-get\"));\nvar _curry = _interopRequireDefault(require(\"./curry\"));\nvar _types = _interopRequireDefault(require(\"./types\"));\nfunction isFn(fn) {\n  return typeof fn === 'function';\n}\nvar sorty = (0, _curry.default)(function (sortInfo, array) {\n  return array.sort(getMultiSortFunction(sortInfo));\n});\nsorty.types = _types.default;\nvar getSingleSortFunction = function getSingleSortFunction(info) {\n  if (!info) {\n    return;\n  }\n  var field = info.name;\n  var dir = info.dir === 'desc' || info.dir < 0 ? -1 : info.dir === 'asc' || info.dir > 0 ? 1 : 0;\n  if (!dir) {\n    return;\n  }\n  if (!info.fn && info.type) {\n    info.fn = sorty.types[info.type];\n  }\n  if (!info.fn) {\n    info.fn = sorty.types.string || _types.default.string;\n  }\n  var fn = info.fn;\n  return function (first, second) {\n    var a = field ? (0, _deepGet.default)(first, field) : first;\n    var b = field ? (0, _deepGet.default)(second, field) : second;\n    return dir * fn(a, b, first, second, info);\n  };\n};\nvar getSortFunctions = function getSortFunctions(sortInfo) {\n  if (!Array.isArray(sortInfo)) {\n    sortInfo = [sortInfo];\n  }\n  return sortInfo.map(getSingleSortFunction).filter(isFn);\n};\nvar getMultiSortFunction = function getMultiSortFunction(sortInfo) {\n  var fns = getSortFunctions(sortInfo);\n  return function (first, second) {\n    var result = 0;\n    var i = 0;\n    var len = fns.length;\n    var fn;\n    for (; i < len; i++) {\n      fn = fns[i];\n      if (!fn) {\n        continue;\n      }\n      result = fn(first, second);\n      if (result != 0) {\n        return result;\n      }\n    }\n    return result;\n  };\n};\nsorty._getSortFunctions = getSortFunctions;\nsorty.getFunction = getMultiSortFunction;\nvar _default = sorty;\nexports.default = _default;","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_deepGet","_curry","_types","isFn","fn","sorty","sortInfo","array","sort","getMultiSortFunction","types","getSingleSortFunction","info","field","name","dir","type","string","first","second","a","b","getSortFunctions","Array","isArray","map","filter","fns","result","i","len","length","_getSortFunctions","getFunction","_default"],"sources":["/Users/alexandre.nepomuceno/Documents/agenda/node_modules/@inovua/reactdatagrid-community/packages/sorty/src/index.js"],"sourcesContent":["/** \n * Copyright © INOVUA TRADING.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _deepGet = _interopRequireDefault(require(\"../../deep-get\"));\nvar _curry = _interopRequireDefault(require(\"./curry\"));\nvar _types = _interopRequireDefault(require(\"./types\"));\nfunction isFn(fn) {\n  return typeof fn === 'function';\n}\nvar sorty = (0, _curry.default)(function (sortInfo, array) {\n  return array.sort(getMultiSortFunction(sortInfo));\n});\nsorty.types = _types.default;\nvar getSingleSortFunction = function getSingleSortFunction(info) {\n  if (!info) {\n    return;\n  }\n  var field = info.name;\n  var dir = info.dir === 'desc' || info.dir < 0 ? -1 : info.dir === 'asc' || info.dir > 0 ? 1 : 0;\n  if (!dir) {\n    return;\n  }\n  if (!info.fn && info.type) {\n    info.fn = sorty.types[info.type];\n  }\n  if (!info.fn) {\n    info.fn = sorty.types.string || _types.default.string;\n  }\n  var fn = info.fn;\n  return function (first, second) {\n    var a = field ? (0, _deepGet.default)(first, field) : first;\n    var b = field ? (0, _deepGet.default)(second, field) : second;\n    return dir * fn(a, b, first, second, info);\n  };\n};\nvar getSortFunctions = function getSortFunctions(sortInfo) {\n  if (!Array.isArray(sortInfo)) {\n    sortInfo = [sortInfo];\n  }\n  return sortInfo.map(getSingleSortFunction).filter(isFn);\n};\nvar getMultiSortFunction = function getMultiSortFunction(sortInfo) {\n  var fns = getSortFunctions(sortInfo);\n  return function (first, second) {\n    var result = 0;\n    var i = 0;\n    var len = fns.length;\n    var fn;\n    for (; i < len; i++) {\n      fn = fns[i];\n      if (!fn) {\n        continue;\n      }\n      result = fn(first, second);\n      if (result != 0) {\n        return result;\n      }\n    }\n    return result;\n  };\n};\nsorty._getSortFunctions = getSortFunctions;\nsorty.getFunction = getMultiSortFunction;\nvar _default = sorty;\nexports.default = _default;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}